{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@angular/router/router.d.ts.ɵEmptyOutletComponent.html","webpack:///./node_modules/angular-modal-gallery/angular-modal-gallery.d.ts.ɵd.html","webpack:///./node_modules/angular-modal-gallery/angular-modal-gallery.d.ts.ɵe.html","webpack:///./node_modules/angular-modal-gallery/angular-modal-gallery.d.ts.ɵf.html","webpack:///./node_modules/angular-modal-gallery/angular-modal-gallery.d.ts.ɵg.html","webpack:///./node_modules/angular-modal-gallery/angular-modal-gallery.d.ts.ɵl.html","webpack:///./node_modules/angular-modal-gallery/angular-modal-gallery.d.ts.ɵm.html","webpack:///./node_modules/angular-modal-gallery/angular-modal-gallery.d.ts.ɵn.html","webpack:///./node_modules/angular-modal-gallery/angular-modal-gallery.d.ts.ɵo.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.SBItemBodyComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.SBItemHeadComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.SBItemComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.SqueezeBoxComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.ToastComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.CompleterListItemComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.CompleterComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.CardRevealComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.CardRotatingComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.MDBDatePickerComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.SimpleChartComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.EasyPieChartComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.ImageModalComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.SelectDropdownComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.SelectComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.ProgressBarComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.MdProgressSpinnerComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.MdSpinnerComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.BarComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.ProgressSpinnerComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.ProgressbarComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.SidenavComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.TabsetComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.MaterialChipsComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.ClockPickerComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.CarouselComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.SlideComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.BsDropdownContainerComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.MdbIconComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.ModalContainerComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.LinksComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.LogoComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.NavbarComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.NavlinksComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.PopoverContainerComponent.html","webpack:///./node_modules/ng-uikit-pro-standard/ng-uikit-pro-standard.d.ts.TooltipContainerComponent.html","webpack:///./src/app/administrator/administrator.auth.guard.ts","webpack:///./src/app/administrator/administrator.center.component.ts.AdministratorCenterComponent.html","webpack:///./src/app/administrator/administrator.center.component.ts","webpack:///./src/app/administrator/administrator.login.component.ts.AdministratorLoginComponent.html","webpack:///./src/app/administrator/administrator.login.component.ts","webpack:///./src/app/administrator/administrator.module.ts","webpack:///./src/app/administrator/administrator.page.about.component.ts.AdministratorPageAboutComponent.html","webpack:///./src/app/administrator/administrator.page.about.component.ts","webpack:///./src/app/administrator/administrator.page.plan.current.component.ts.AdministratorPagePlanCurrentComponent.html","webpack:///./src/app/administrator/administrator.page.plan.current.component.ts","webpack:///./src/app/administrator/administrator.page.plan.history.component.ts.AdministratorPagePlanHistoryComponent.html","webpack:///./src/app/administrator/administrator.page.plan.history.component.ts","webpack:///./src/app/administrator/administrator.page.plan.history.detail.component.ts.AdministratorPagePlanHistoryDetailComponent.html","webpack:///./src/app/administrator/administrator.page.plan.history.detail.component.ts","webpack:///./src/app/administrator/administrator.page.plan.origin.component.ts.AdministratorPagePlanOriginComponent.html","webpack:///./src/app/administrator/administrator.page.plan.origin.component.ts","webpack:///./src/app/administrator/administrator.page.school.calendar.component.ts.AdministratorPageSchoolCalendarComponent.html","webpack:///./src/app/administrator/administrator.page.school.calendar.component.ts","webpack:///./src/app/administrator/administrator.page.school.calendar.detail.component.ts.AdministratorPageSchoolCalendarDetailComponent.html","webpack:///./src/app/administrator/administrator.page.school.calendar.detail.component.ts","webpack:///./src/app/administrator/administrator.page.school.gallery.component.ts.AdministratorPageSchoolGalleryComponent.html","webpack:///./src/app/administrator/administrator.page.school.gallery.component.ts","webpack:///./src/app/administrator/administrator.page.school.gallery.detail.component.ts.AdministratorPageSchoolGalleryDetailComponent.html","webpack:///./src/app/administrator/administrator.page.school.gallery.detail.component.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.server.module.ts","webpack:///./src/app/components/carousel.main.component.ts.CarouselMainComponent.html","webpack:///./src/app/components/carousel.main.component.ts","webpack:///./src/app/components/image.ratio.component.ts.ImageRatioComponent.html","webpack:///./src/app/components/image.ratio.component.ts","webpack:///./src/app/components/page.title.component.ts.PageTitleComponent.html","webpack:///./src/app/components/page.title.component.ts","webpack:///./src/app/components/separate.left.component.ts.SeparateLeftComponent.html","webpack:///./src/app/components/separate.left.component.ts","webpack:///./src/app/components/separate.right.component.ts.SeparateRightComponent.html","webpack:///./src/app/components/separate.right.component.ts","webpack:///./src/app/core/core.module.ts","webpack:///./src/app/core/setting.service.ts","webpack:///./src/app/model/event.model.ts","webpack:///./src/app/model/gallery.model.ts","webpack:///./src/app/model/history.model.ts","webpack:///./src/app/model/image.model.ts","webpack:///./src/app/model/paragraph.model.ts","webpack:///./src/app/model/upcoming.model.ts","webpack:///./src/app/navigation/navigation.footer.component.ts.NavigationFooterComponent.html","webpack:///./src/app/navigation/navigation.footer.component.ts","webpack:///./src/app/navigation/navigation.header.component.ts.NavigationHeaderComponent.html","webpack:///./src/app/navigation/navigation.header.component.ts","webpack:///./src/app/navigation/navigation.menu.component.ts.NavigationMenuComponent.html","webpack:///./src/app/navigation/navigation.menu.component.ts","webpack:///./src/app/navigation/navigation.module.ts","webpack:///./src/app/page/page.404.component.ts.Page404Component.html","webpack:///./src/app/page/page.404.component.ts","webpack:///./src/app/page/page.about.component.ts.PageAboutComponent.html","webpack:///./src/app/page/page.about.component.ts","webpack:///./src/app/page/page.art.upcoming.component.ts.PageArtUpcomingComponent.html","webpack:///./src/app/page/page.art.upcoming.component.ts","webpack:///./src/app/page/page.art.upcoming.detail.component.ts.PageArtUpcomingDetailComponent.html","webpack:///./src/app/page/page.art.upcoming.detail.component.ts","webpack:///./src/app/page/page.art.vr.component.ts.PageArtVrComponent.html","webpack:///./src/app/page/page.art.vr.component.ts","webpack:///./src/app/page/page.module.ts","webpack:///./src/app/page/page.plan.current.component.ts.PagePlanCurrentComponent.html","webpack:///./src/app/page/page.plan.current.component.ts","webpack:///./src/app/page/page.plan.form.component.ts.PagePlanFormComponent.html","webpack:///./src/app/page/page.plan.form.component.ts","webpack:///./src/app/page/page.plan.history.component.ts.PagePlanHistoryComponent.html","webpack:///./src/app/page/page.plan.history.component.ts","webpack:///./src/app/page/page.plan.history.detail.component.ts.PagePlanHistoryDetailComponent.html","webpack:///./src/app/page/page.plan.history.detail.component.ts","webpack:///./src/app/page/page.plan.origin.component.ts.PagePlanOriginComponent.html","webpack:///./src/app/page/page.plan.origin.component.ts","webpack:///./src/app/page/page.school.calendar.component.ts.PageSchoolCalendarComponent.html","webpack:///./src/app/page/page.school.calendar.component.ts","webpack:///./src/app/page/page.school.calendar.detail.component.ts.PageSchoolCalendarDetailComponent.html","webpack:///./src/app/page/page.school.calendar.detail.component.ts","webpack:///./src/app/page/page.school.calendar.detail.form.component.ts.PageSchoolCalendarDetailFormComponent.html","webpack:///./src/app/page/page.school.calendar.detail.form.component.ts","webpack:///./src/app/page/page.school.gallery.component.ts.PageSchoolGalleryComponent.html","webpack:///./src/app/page/page.school.gallery.component.ts","webpack:///./src/app/page/page.school.gallery.detail.component.ts.PageSchoolGalleryDetailComponent.html","webpack:///./src/app/page/page.school.gallery.detail.component.ts","webpack:///./src/app/pipe/array.moreThanOne.pipe.ts","webpack:///./src/app/pipe/array.moreThanZero.pipe.ts","webpack:///./src/app/pipe/int.isOdd.pipe.ts","webpack:///./src/app/pipe/string.newLineTransform.pipe.ts","webpack:///./src/app/pipe/stringArrayPipe.exceptEmpty.pipe.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.server.ts","webpack:///external \"@agm/core/core.module\"","webpack:///external \"@agm/core/services/maps-api-loader/lazy-maps-api-loader\"","webpack:///external \"@agm/core/services/maps-api-loader/maps-api-loader\"","webpack:///external \"@agm/core/utils/browser-globals\"","webpack:///external \"@angular/animations\"","webpack:///external \"@angular/animations/browser\"","webpack:///external \"@angular/common\"","webpack:///external \"@angular/common/http\"","webpack:///external \"@angular/core\"","webpack:///external \"@angular/forms\"","webpack:///external \"@angular/http\"","webpack:///external \"@angular/platform-browser\"","webpack:///external \"@angular/platform-browser/animations\"","webpack:///external \"@angular/platform-server\"","webpack:///external \"@angular/router\"","webpack:///external \"@ng-toolkit/universal\"","webpack:///external \"@nguniversal/module-map-ngfactory-loader\"","webpack:///external \"angular-modal-gallery\"","webpack:///external \"angularfire2\"","webpack:///external \"angularfire2/auth\"","webpack:///external \"angularfire2/database\"","webpack:///external \"angularfire2/storage\"","webpack:///external \"hammerjs\"","webpack:///external \"mousetrap\"","webpack:///external \"ng-uikit-pro-standard\"","webpack:///external \"rxjs\"","webpack:///external \"rxjs/operators\""],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","<router-outlet></router-outlet>","\n    <ks-plain-gallery [images]=\"images\"\n                      [showGallery]=\"showGallery && isPlainGalleryVisible()\"\n                      [plainGalleryConfig]=\"plainGalleryConfig\"\n                      [accessibilityConfig]=\"accessibilityConfig\"\n                      (show)=\"onShowModalGallery($event)\"></ks-plain-gallery>\n\n    <ks-background [isOpen]=\"opened\"\n                   [accessibilityConfig]=\"accessibilityConfig\"></ks-background>\n\n    <div id=\"modal-gallery-wrapper\" *ngIf=\"opened\"\n         [attr.aria-label]=\"accessibilityConfig.modalGalleryContentAriaLabel\"\n         [title]=\"accessibilityConfig.modalGalleryContentTitle\"\n         ksClickOutside [clickOutsideEnable]=\"enableCloseOutside\"\n         (clickOutside)=\"onClickOutside($event)\">\n\n      <div id=\"flex-min-height-ie-fix\">\n        <div id=\"modal-gallery-container\">\n\n          <ks-upper-buttons [currentImage]=\"currentImage\"\n                            [buttonsConfig]=\"buttonsConfig\"\n                            (delete)=\"onDelete($event)\"\n                            (navigate)=\"onNavigate($event)\"\n                            (download)=\"onDownload($event)\"\n                            (close)=\"onCloseGallery($event)\"\n                            (customEmit)=\"onCustomEmit($event)\"></ks-upper-buttons>\n\n          <ks-current-image [images]=\"images\"\n                            [currentImage]=\"currentImage\"\n                            [isOpen]=\"opened\"\n                            [slideConfig]=\"slideConfig\"\n                            [descriptionConfig]=\"description\"\n                            [keyboardConfig]=\"keyboardConfig\"\n                            [loadingConfig]=\"loadingConfig\"\n                            [accessibilityConfig]=\"accessibilityConfig\"\n                            [currentImageConfig]=\"currentImageConfig\"\n                            (loadImage)=\"onImageLoad($event)\"\n                            (changeImage)=\"onChangeCurrentImage($event)\"\n                            (close)=\"onCloseGallery($event)\"></ks-current-image>\n\n          <div>\n            <ks-dots [images]=\"images\"\n                     [currentImage]=\"currentImage\"\n                     [dotsConfig]=\"dotsConfig\"\n                     [accessibilityConfig]=\"accessibilityConfig\"\n                     (clickDot)=\"onClickDot($event)\"></ks-dots>\n\n            <ks-previews [images]=\"images\"\n                         [currentImage]=\"currentImage\"\n                         [previewConfig]=\"previewConfig\"\n                         [accessibilityConfig]=\"accessibilityConfig\"\n                         (clickPreview)=\"onClickPreview($event)\"></ks-previews>\n          </div>\n        </div>\n      </div>\n    </div>\n  ","\n    <div class=\"ng-overlay\" *ngIf=\"isOpen\"\n         [attr.aria-label]=\"accessibilityConfig?.backgroundAriaLabel\"\n         [title]=\"accessibilityConfig?.backgroundTitle\"></div>\n  ","\n    <div *ngIf=\"showGallery\"\n         class=\"plain-container\"\n         ksWrap [wrap]=\"wrapStyle\" [width]=\"widthStyle\"\n         ksDirection [direction]=\"directionStyle\" [justify]=\"justifyStyle\"\n         [attr.aria-label]=\"accessibilityConfig?.plainGalleryContentAriaLabel\"\n         [title]=\"accessibilityConfig?.plainGalleryContentTitle\">\n\n      <ng-container *ngFor=\"let imgRow of imageGrid; let i = index\">\n        <ng-container *ngFor=\"let imgCol of imgRow; let j = index\">\n\n          <ng-container *ngIf=\"!configPlainGallery.advanced?.aTags; else aTags\">\n            <img *ngIf=\"imgCol?.modal?.img\"\n                 [src]=\"imgCol.plain?.img ? imgCol.plain.img : imgCol.modal.img\"\n                 class=\"image\"\n                 ksSize [sizeConfig]=\"{width: size?.width, height: size?.height}\"\n                 [attr.aria-label]=\"imgCol.plain?.ariaLabel\"\n                 [title]=\"imgCol.plain?.title ? imgCol.plain.title : getTitleDisplay(imgCol)\"\n                 alt=\"{{imgCol.plain?.alt ? imgCol.plain.alt : getAltPlainDescriptionByImage(imgCol)}}\"\n                 [tabindex]=\"0\" role=\"img\"\n                 (click)=\"showModalGalleryByImage(imgCol)\" (keyup)=\"showModalGalleryByImage(imgCol)\"/>\n          </ng-container>\n\n          <!-- Add directive to set background with the image url as param to pass thumb or img-->\n          <!-- to do something like this <a style=\"background: url('path to image') 50% 50%/cover\">.-->\n          <ng-template #aTags>\n            <a *ngIf=\"imgCol?.modal?.img\"\n               class=\"a-tag-image\"\n               ksATagBgImage [image]=\"imgCol\" [style]=\"configPlainGallery.advanced?.additionalBackground\"\n               ksSize [sizeConfig]=\"{width: size?.width, height: size?.height}\"\n               [attr.aria-label]=\"imgCol.plain?.ariaLabel\"\n               [title]=\"imgCol.plain?.title ? imgCol.plain.title : getTitleDisplay(imgCol)\"\n               [tabindex]=\"0\"\n               (click)=\"showModalGallery(j)\" (keyup)=\"showModalGallery(j)\"></a>\n          </ng-template>\n\n        </ng-container>\n      </ng-container>\n\n    </div>\n  ","\n    <main class=\"main-image-container\"\n          ksKeyboardNavigation [isOpen]=\"isOpen\" (keyPress)=\"onKeyPress($event)\"\n          [attr.aria-label]=\"accessibilityConfig.mainContainerAriaLabel\"\n          [title]=\"accessibilityConfig.mainContainerTitle\">\n\n      <a class=\"nav-left\"\n         [attr.aria-label]=\"accessibilityConfig.mainPrevImageAriaLabel\"\n         [tabindex]=\"isFirstImage && !slideConfig?.infinite ? -1 : 0\" role=\"button\"\n         (click)=\"onNavigationEvent('left', $event)\" (keyup)=\"onNavigationEvent('left', $event)\">\n        <div class=\"inside {{isFirstImage && !slideConfig?.infinite ? 'empty-arrow-image' : 'left-arrow-image'}}\"\n             aria-hidden=\"true\"\n             [title]=\"accessibilityConfig.mainPrevImageTitle\"></div>\n      </a>\n\n      <ng-container *ngIf=\"slideConfig?.sidePreviews?.show\">\n        <ng-container *ngIf=\"getLeftPreviewImage() as leftPreview\">\n          <img *ngIf=\"!isFirstImage || slideConfig?.infinite; else firstImage\"\n               class=\"inside current-image-previous\"\n               [src]=\"leftPreview.plain?.img ? leftPreview.plain.img : leftPreview.modal.img\"\n               [hidden]=\"loading\"\n               ksSize [sizeConfig]=\"{width: slideConfig.sidePreviews?.size.width, height: slideConfig.sidePreviews?.size.height}\"\n               [attr.aria-label]=\"leftPreview.modal.ariaLabel\"\n               [title]=\"leftPreview.modal.title ? leftPreview.modal.title : getTitleToDisplay(leftPreview)\"\n               alt=\"{{leftPreview.modal.alt ? leftPreview.modal.alt : getAltDescriptionByImage(leftPreview)}}\"\n               [tabindex]=\"0\" role=\"img\"\n               (click)=\"onNavigationEvent('left', $event, clickAction)\" (keyup)=\"onNavigationEvent('left', $event, keyboardAction)\"/>\n          <ng-template #firstImage>\n            <div class=\"current-image-previous hidden\"\n                 ksSize [sizeConfig]=\"{width: slideConfig.sidePreviews?.size.width, height: slideConfig.sidePreviews?.size.height}\"></div>\n          </ng-template>\n        </ng-container>\n      </ng-container>\n\n\n      <figure id=\"current-figure\" [hidden]=\"loading\">\n        <img id=\"current-image\"\n             class=\"inside\"\n             [src]=\"currentImage.modal.img\"\n             [attr.aria-label]=\"currentImage.modal.ariaLabel\"\n             [title]=\"currentImage.modal.title ? currentImage.modal.title : getTitleToDisplay()\"\n             alt=\"{{currentImage.modal.alt ? currentImage.modal.alt : getAltDescriptionByImage()}}\"\n             [tabindex]=\"0\" role=\"img\"\n             (load)=\"onImageLoad($event)\"\n             (click)=\"onImageEvent($event, clickAction)\" (keyup)=\"onImageEvent($event, keyboardAction)\"\n             (swipeleft)=\"swipe($event.type)\"\n             (swiperight)=\"swipe($event.type)\"/>\n        <figcaption *ngIf=\"getDescriptionToDisplay() !== ''\"\n                    class=\"inside description\"\n                    ksDescription [description]=\"description\"\n                    [innerHTML]=\"getDescriptionToDisplay()\">\n        </figcaption>\n      </figure>\n\n\n      <ng-container *ngIf=\"slideConfig?.sidePreviews?.show\">\n        <ng-container *ngIf=\"getRightPreviewImage() as rightPreview\">\n          <img *ngIf=\"!isLastImage || slideConfig?.infinite; else lastImage\"\n               class=\"inside current-image-next\"\n               [src]=\"rightPreview.plain?.img ? rightPreview.plain.img : rightPreview.modal.img\"\n               [hidden]=\"loading\"\n               ksSize [sizeConfig]=\"{width: slideConfig.sidePreviews?.size.width, height: slideConfig.sidePreviews?.size.height}\"\n               [attr.aria-label]=\"rightPreview.modal.ariaLabel\"\n               [title]=\"rightPreview.modal.title ? rightPreview.modal.title : getTitleToDisplay(rightPreview)\"\n               alt=\"{{rightPreview.modal.alt ? rightPreview.modal.alt : getAltDescriptionByImage(rightPreview)}}\"\n               [tabindex]=\"0\" role=\"img\"\n               (click)=\"onNavigationEvent('right', $event, clickAction)\" (keyup)=\"onNavigationEvent('right', $event, keyboardAction)\"/>\n          <ng-template #lastImage>\n            <div class=\"current-image-next hidden\"\n                 ksSize [sizeConfig]=\"{width: slideConfig.sidePreviews?.size.width, height: slideConfig.sidePreviews?.size.height}\">\n            </div>\n          </ng-template>\n        </ng-container>\n      </ng-container>\n\n      <ng-container *ngIf=\"loading && configLoading.enable\">\n        <ks-loading-spinner [loadingConfig]=\"configLoading\"\n                            [accessibilityConfig]=\"accessibilityConfig\"></ks-loading-spinner>\n      </ng-container>\n\n      <a class=\"nav-right\"\n         [attr.aria-label]=\"accessibilityConfig.mainNextImageAriaLabel\"\n         [tabindex]=\"isLastImage && !slideConfig?.infinite ? -1 : 0\" role=\"button\"\n         (click)=\"onNavigationEvent('right', $event)\" (keyup)=\"onNavigationEvent('right', $event)\">\n        <div class=\"inside {{isLastImage && !slideConfig?.infinite ? 'empty-arrow-image' : 'right-arrow-image'}}\"\n             aria-hidden=\"true\"\n             [title]=\"accessibilityConfig.mainNextImageTitle\"></div>\n      </a>\n    </main>\n  ","\n    <header class=\"buttons-container\">\n\n      <ng-container *ngIf=\"!configButtons || configButtons?.visible\">\n        <a *ngFor=\"let btn of buttons; trackBy: trackById; let index = index\"\n           class=\"upper-button\"\n           ksSize [sizeConfig]=\"{width: btn.size?.width, height: btn.size?.height}\"\n           [ngStyle]=\"{'font-size': btn.fontSize}\"\n           [attr.aria-label]=\"btn.ariaLabel\"\n           [tabindex]=\"0\" role=\"button\"\n           (click)=\"onEvent(btn, $event)\" (keyup)=\"onEvent(btn, $event)\">\n          <div class=\"inside {{btn.className}}\" aria-hidden=\"true\" title=\"{{btn.title}}\"></div>\n        </a>\n      </ng-container>\n    </header>\n  ","\n    <nav class=\"dots-container\" [attr.aria-label]=\"accessibilityConfig?.dotsContainerAriaLabel\"\n         [title]=\"accessibilityConfig?.dotsContainerTitle\">\n      <ng-container *ngIf=\"!configDots || configDots?.visible\">\n        <div class=\"inside dot\"\n             *ngFor=\"let img of images; trackBy: trackById; let index = index\"\n             [ngClass]=\"{'active': isActive(index)}\"\n             [attr.aria-label]=\"accessibilityConfig?.dotAriaLabel + ' ' + (index + 1)\"\n             [tabindex]=\"0\" role=\"navigation\"\n             (click)=\"onDotEvent(index, $event)\" (keyup)=\"onDotEvent(index, $event)\"></div>\n      </ng-container>\n    </nav>\n  ","\n    <nav class=\"previews-container\"\n         [attr.aria-label]=\"accessibilityConfig?.previewsContainerAriaLabel\"\n         [title]=\"accessibilityConfig?.previewsContainerTitle\">\n\n      <ng-container *ngIf=\"configPreview?.visible\">\n        <a class=\"nav-left\"\n           [attr.aria-label]=\"accessibilityConfig?.previewScrollPrevAriaLabel\"\n           [tabindex]=\"configPreview.arrows && start > 0 ? 0 : -1\" role=\"button\"\n           (click)=\"onNavigationEvent('left', $event)\" (keyup)=\"onNavigationEvent('left', $event)\">\n          <div class=\"inside {{configPreview.arrows && start > 0 ? 'left-arrow-preview-image' : 'empty-arrow-preview-image'}}\"\n               aria-hidden=\"true\"\n               [title]=\"accessibilityConfig?.previewScrollPrevTitle\"></div>\n        </a>\n\n        <ng-container *ngFor=\"let preview of previews; trackBy: trackById; let index = index\">\n          <img *ngIf=\"preview?.modal?.img\"\n               class=\"inside preview-image {{isActive(preview) ? 'active' : ''}}{{!configPreview.clickable ? ' unclickable' : ''}}\"\n               [src]=\"preview.plain?.img ? preview.plain.img : preview.modal.img\"\n               ksSize [sizeConfig]=\"{width: configPreview.size ? configPreview.size.width : defaultPreviewSize.width,\n                                     height: configPreview.size ? configPreview.size.height : defaultPreviewSize.height}\"\n               [attr.aria-label]=\"preview.modal.ariaLabel ? preview.modal.ariaLabel : ''\"\n               [title]=\"preview.modal.title ? preview.modal.title : ''\"\n               alt=\"{{preview.modal.alt ? preview.modal.alt : ''}}\"\n               [tabindex]=\"0\" role=\"img\"\n               (click)=\"onImageEvent(preview, $event)\" (keyup)=\"onImageEvent(preview, $event)\"/>\n        </ng-container>\n\n\n        <a class=\"nav-right\"\n           [attr.aria-label]=\"accessibilityConfig?.previewScrollNextAriaLabel\"\n           [tabindex]=\"configPreview.arrows && end < images.length ? 0 : -1\" role=\"button\"\n           (click)=\"onNavigationEvent('right', $event)\" (keyup)=\"onNavigationEvent('right', $event)\">\n          <div class=\"inside {{configPreview.arrows && end < images.length ? 'right-arrow-preview-image' : 'empty-arrow-preview-image'}}\"\n               aria-hidden=\"true\"\n               [title]=\"accessibilityConfig?.previewScrollNextTitle\"></div>\n        </a>\n      </ng-container>\n\n    </nav>\n  ","\n    <div [attr.aria-label]=\"accessibilityConfig?.loadingSpinnerAriaLabel\"\n         [title]=\"accessibilityConfig?.loadingSpinnerTitle\">\n\n      <ng-container [ngSwitch]=\"loadingConfig.type\">\n        <ng-container *ngSwitchCase=\"loadingStandard\">\n          <div class=\"cssload-loader\">\n            <div class=\"cssload-inner cssload-one\"></div>\n            <div class=\"cssload-inner cssload-two\"></div>\n            <div class=\"cssload-inner cssload-three\"></div>\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"loadingBars\">\n          <div class=\"loader-bars\">\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"loadingCircular\">\n          <div class=\"loader-circular\">\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"loadingDots\">\n          <div class=\"loader-dots\">\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"loadingCubeFlipping\">\n          <div class=\"cube-wrapper\">\n            <div class=\"cube-folding\">\n              <span class=\"leaf1\"></span>\n              <span class=\"leaf2\"></span>\n              <span class=\"leaf3\"></span>\n              <span class=\"leaf4\"></span>\n            </div>\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"loadingCircles\">\n          <div id=\"preloader\">\n            <div id=\"loader\"></div>\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"loadingExplosingSquares\">\n          <div class=\"loader\">\n            <span></span>\n            <span></span>\n            <span></span>\n            <span></span>\n          </div>\n        </ng-container>\n        <!--<ng-container *ngSwitchDefault>-->\n        <!---->\n        <!--</ng-container>-->\n      </ng-container>\n    </div>\n  ","<div #body class=\"sb-item-body\" [style.height]=\"height\"> <div class=\"card-body\"> <ng-content></ng-content> </div> </div>","<div class=\"card-header\"> <a role=\"button\" (click)=\"toggleClick($event)\"> <h5 class=\"mb-0\"> <ng-content></ng-content> <i class=\"fa fa-angle-down rotate-icon\"></i> </h5> </a> </div>","<div class=\"card\" [ngClass]=\"{'is-collapsed': collapsed, 'active': !collapsed}\"> <ng-content></ng-content> </div>","<div class=\"accordion\"> <ng-content></ng-content> </div>","<button *ngIf=\"options.closeButton\" (click)=\"remove()\" class=\"toast-close-button\"> &times; </button> <div *ngIf=\"title\" class=\"{{options.titleClass}}\" [attr.aria-label]=\"title\"> {{title}} </div> <div *ngIf=\"message && options.enableHtml\" class=\"{{options.messageClass}}\" [innerHTML]=\"message\"> </div> <div *ngIf=\"message && !options.enableHtml\" class=\"{{options.messageClass}}\" [attr.aria-label]=\"message\"> {{message}} </div> <div *ngIf=\"options.progressBar\"> <div class=\"toast-progress\" [style.width.%]=\"width\"></div> </div>","<span class=\"completer-list-item-holder\" [ngClass]=\"{'completer-title': type === 'title', 'completer-description': type === 'description'}\" > <span class=\"completer-list-item\" *ngFor=\"let part of parts\" [ngClass]=\"part.isMatch ? matchClass : null\">{{part.text}}</span> </span> ","<div class=\"completer-holder md-form\" mdbCompleter> <input #mdbInput [attr.id]=\"inputId.length > 0 ? inputId : null\" type=\"search\" class=\"completer-input form-control mdb-autocomplete\" mdbInput [ngClass]=\"inputClass\" [(ngModel)]=\"searchStr\" (ngModelChange)=\"onChange($event)\" [attr.name]=\"inputName\" [placeholder]=\"placeholder\" [attr.maxlength]=\"maxChars\" [tabindex]=\"fieldTabindex\" [disabled]=\"disableInput\" [clearSelected]=\"clearSelected\" [clearUnselected]=\"clearUnselected\" [overrideSuggested]=\"overrideSuggested\" [openOnFocus]=\"openOnFocus\" [fillHighlighted]=\"fillHighlighted\" (blur)=\"onBlur()\" (focus)=\"onFocus()\" (keyup)=\"onKeyup($event)\" (keydown)=\"onKeydown($event)\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" /> <button class=\"mdb-autocomplete-clear\"> <svg fill=\"#000000\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\" xmlns=\"https://www.w3.org/2000/svg\"> <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\" /> <path d=\"M0 0h24v24H0z\" fill=\"none\" /> </svg> </button> <label [ngClass]=\"{'active': focused}\">{{ label }}</label> <div class=\"completer-dropdown-holder\" *mdbList=\"dataService; minSearchLength: minSearchLength; pause: pause; autoMatch: autoMatch; initialValue: initialValue; autoHighlight: autoHighlight; let items = results; let searchActive = searching; let isInitialized = searchInitialized; let isOpen = isOpen;\"> <div class=\"completer-dropdown\" mdbAutocompleteDropdown *ngIf=\"isInitialized && isOpen && ((items.length > 0 || displayNoResults) || (searchActive && displaySearching))\"> <div *ngIf=\"searchActive && displaySearching\" class=\"completer-searching\">{{_textSearching}}</div> <div *ngIf=\"!searchActive && (!items || items.length === 0)\" class=\"completer-no-results\">{{_textNoResults}}</div> <div class=\"completer-row-wrapper\" *ngFor=\"let item of items; let rowIndex=index\"> <div class=\"completer-row\" [mdbRow]=\"rowIndex\" [dataItem]=\"item\"> <div *ngIf=\"item.image || item.image === ''\" class=\"completer-image-holder\"> <img *ngIf=\"item.image != ''\" src=\"{{item.image}}\" class=\"completer-image\" /> <div *ngIf=\"item.image === ''\" class=\"completer-image-default\"></div> </div> <div class=\"completer-item-text\" [ngClass]=\"{'completer-item-text-image': item.image || item.image === '' }\"> <mdb-completer-list-item class=\"completer-title\" [text]=\"item.title\" [matchClass]=\"matchClass\" [searchStr]=\"searchStr\" [type]=\"'title'\"></mdb-completer-list-item> <mdb-completer-list-item *ngIf=\"item.description && item.description != ''\" class=\"completer-description\" [text]=\"item.description\" [matchClass]=\"matchClass\" [searchStr]=\"searchStr\" [type]=\"'description'\"> </mdb-completer-list-item> </div> </div> </div> </div> </div> </div> ","<div class=\"card-overflow col-12\" > <div #cardFront class=\"card-front\"> <ng-content select=\".card-front\" ></ng-content> </div> <div #cardReveal class=\"card-reveal\" *ngIf=\"show\"  [@socialsState]=\"socials\" > <ng-content select=\".card-reveal\"></ng-content> </div> </div> ","<div class=\"flip-container card-wrapper\" [ngClass]=\"{'rotate': rotate}\"> <div class=\"flipper card-rotating effect__click tp-box\"> <ng-content></ng-content> </div> </div> ","<!-- Line 27: Deleted (focus)=\"onFocusInput($event)\" for better use in Firefox. If other strange problems will occur, please paste it in line 27. --> <div class=\"mydp picker\" [ngClass]=\"{'picker--opened': showSelector}\" [ngStyle]=\"{'width': opts.width}\"> <div class=\"md-form\"> <label *ngIf=\"label.length > 0\" [ngClass]=\"{ 'active': checkActive(), 'disabled': opts.componentDisabled }\">{{ label }}</label> <input type=\"text\" class=\"form-control mydp-date\" [attr.aria-label]=\"opts.ariaLabelInputField\" (click)=\"openBtnClicked()\" [attr.maxlength]=\"opts.dateFormat.length\" [ngClass]=\"{ 'selectiondisabled': opts.componentDisabled, 'disabled': opts.componentDisabled }\" placeholder=\"{{ placeholder }}\" [ngModel]=\"selectionDayTxt\" (ngModelChange)=\"onUserDateInput($event)\" [value]=\"selectionDayTxt\" [ngStyle]=\"{ 'height': opts.height,  'font-size': opts.selectionTxtFontSize }\" (blur)=\"onBlurInput($event)\" [disabled]=\"opts.componentDisabled\" autocomplete=\"off\"> </div> <div class=\"selector picker__holder selectorarrow selectorarrowleft selectorarrowright\" #divFocus [ngClass]=\"{'alignselectorright': opts.alignSelectorRight}\" tabindex=\"0\"> <div class=\"picker__frame picker__box\" #pickerFrame> <div class=\"picker__header\"> <div class=\"picker__date-display\"> <div class=\"picker__weekday-display\"> {{ weekText(getWeekday(tmp)) }} </div> <div class=\"picker__month-display\"> <div>{{ monthText(tmp.month) }}</div> </div> <div class=\"picker__day-display\"> <div>{{ tmp.day }}</div> </div> <div class=\"picker__year-display\"> <div>{{ tmp.year }}</div> </div> </div> <select class=\"picker__select--year\" [(ngModel)]=\"visibleMonth.year\" (ngModelChange)=\"onUserYearInput($event)\" role=\"menu\" aria-label=\"Year selector\"> <option *ngFor=\"let year of years\" [value]=\"year\">{{ year }}</option> </select> <select class=\"picker__select--month\" [(ngModel)]=\"visibleMonth.monthTxt\" (ngModelChange)=\"onUserMonthInput($event)\" role=\"menu\" aria-label=\"Month selector\"> <option *ngFor=\"let month of months\" [value]=\"month.short\">{{ month.label }}</option> </select> <button class=\"picker__nav--prev\" data-nav=\"-1\" type=\"button\" aria-controls=\"date-picker-example_table\" title=\"Previous month\" (click)=\"prevMonth()\" [disabled]=\"prevMonthDisabled\" [ngClass]=\"{'headerbtnenabled': !prevMonthDisabled, 'headerbtndisabled': prevMonthDisabled}\"></button> <button class=\"picker__nav--next\" data-nav=\"1\" type=\"button\" aria-controls=\"date-picker-example_table\" title=\"Next month\" (click)=\"nextMonth()\" [disabled]=\"nextMonthDisabled\" [ngClass]=\"{'headerbtnenabled': !nextMonthDisabled, 'headerbtndisabled': nextMonthDisabled}\"></button> </div> <table class=\"picker__table\"> <thead> <tr> <th class=\"picker__weekday weekdaytitleweeknbr\" *ngIf=\"opts.showWeekNumbers&&opts.firstDayOfWeek==='mo'\">#</th> <th class=\"picker__weekday\" scope=\"col\" *ngFor=\"let d of weekDays\">{{d}}</th> </tr> </thead> <tbody> <tr *ngFor=\"let w of dates\"> <td class=\"picker__day daycellweeknbr\" *ngIf=\"opts.showWeekNumbers&&opts.firstDayOfWeek==='mo'\">{{w.weekNbr}}</td> <td class=\"picker__day\" *ngFor=\"let d of w.week\" [ngClass]=\"{'picker__day--infocus':d.cmo===currMonthId&&!d.disabled, 'disabled': d.disabled, 'tablesingleday': d.cmo===currMonthId&&!d.disabled}\"> <div *ngIf=\"d.markedDate.marked\" class=\"markdate\" [ngStyle]=\"{'background-color': d.markedDate.color}\"></div> <div class=\"picker__day\" [ngClass]=\"{'picker__day--infocus':d.cmo===currMonthId,'picker__day--outfocus': (d.cmo===nextMonthId || d.cmo===prevMonthId), 'picker__day--today':d.currDay&&opts.markCurrentDay, 'picker__day--selected picker__day--highlighted':selectedDate.day===d.dateObj.day && selectedDate.month===d.dateObj.month && selectedDate.year===d.dateObj.year && d.cmo===currMonthId}\" (click)=\"!d.disabled&&cellClicked(d);$event.stopPropagation()\" (keydown)=\"cellKeyDown($event, d)\" tabindex=\"0\"> {{d.dateObj.day}} </div> </td> </tr> </tbody> </table> <div class=\"picker__footer\"> <button type=\"button\" *ngIf=\"opts.showTodayBtn\" class=\"picker__button--today\" (click)=\"todayClicked()\" role=\"button\" [attr.aria-label]=\"opts.todayBtnTxt\"> {{opts.todayBtnTxt}} </button> <button type=\"button\" *ngIf=\"opts.showClearDateBtn\" class=\"picker__button--clear\" (click)=\"removeBtnClicked()\" role=\"button\" [attr.aria-label]=\"opts.clearBtnTxt\"> {{opts.clearBtnTxt}} </button> <button type=\"button\" [ngClass]=\"{'ml-auto': !opts.showTodayBtn}\" class=\"picker__button--close\" (click)=\"showSelector = false; removeInlineStyle();\" role=\"button\" [attr.aria-label]=\"opts.closeBtnTxt\"> {{opts.closeBtnTxt}} </button> </div> </div> </div> </div>","<span class=\"min-chart\"> <span  *ngIf=\"customText\"   class=\"chart-custom-text\" [ngStyle]=\"{ 'line-height': size + 'px', 'width': size + 'px', 'height': size + 'px'}\">{{ customText }}</span> <span  *ngIf=\"!customText\"  class=\"percent\">{{ percent }}</span> <mdb-easy-pie-chart [percent]=\"percent\" [options]=\"options\"></mdb-easy-pie-chart> </span>","<div>Loading</div>","<div class=\"ng-gallery mdb-lightbox {{ type }}\" *ngIf=\"showRepeat\">  <figure class=\"col-md-4\" *ngFor =\"let i of modalImages; let index = index\"> <img src=\"{{ !i.thumb ? i.img : i.thumb }}\" class=\"ng-thumb\" (click)=\"openGallery(index)\" alt=\"Image {{ index + 1 }}\" /> </figure> </div> <div  tabindex=\"0\" class=\"ng-overlay\" [class.hide_lightbox]=\"opened == false\"> <div class=\"top-bar\" style='z-index: 100000'> <span class=\"info-text\">{{ currentImageIndex + 1 }}/{{ modalImages.length }}</span>     <a class=\"close-popup\" (click)=\"closeGallery()\" (click)=\"toggleRestart()\"></a> <a *ngIf=\"!is_iPhone_or_iPod\" class=\"fullscreen-toogle\" [class.toggled]='fullscreen' (click)=\"fullScreen()\"></a> <a class=\"zoom-toogle\" [class.zoom]='zoom' (click)=\"toggleZoomed()\" *ngIf=\"!isMobile\"></a> </div> <div class=\"ng-gallery-content\"> <!--<img *ngIf=\"!loading\" src=\"{{imgSrc}}\" (mousedown)=\"checkEvent($event)\" (mouseup)=\"setZoom($event)\" [class.zoom]='zoom' [class.smooth]='smooth' class=\"effect\" (swipeleft)=\"swipe($event, $event.type)\" (swiperight)=\"swipe($event, $event.type)\"/>--> <img *ngIf=\"!loading\" src=\"{{imgSrc}}\" [class.smooth]='smooth' class=\"effect\" (swipeleft)=\"swipe($event, $event.type)\" (swiperight)=\"swipe($event, $event.type)\" (click)=\"toggleZoomed()\" style=\"transform: scale(0.9, 0.9)\"/> <div class=\"uil-ring-css\" *ngIf=\"loading\"> <div></div> </div>   <a class=\"nav-left\" *ngIf=\"modalImages.length >1 && !isMobile\" (click)=\"prevImage()\" > <span></span> </a> <a class=\"nav-right\" *ngIf=\"modalImages.length >1 && !isMobile\" (click)=\"nextImage()\"> <span></span> </a> </div> </div> <div *ngIf=\"openModalWindow\"> <mdb-image-modal [modalImages]=\"images\" [imagePointer]=\"imagePointer\" (cancelEvent)=\"cancelImageModel()\"></mdb-image-modal> </div>","<div class=\"dropdown-content\" #dropdownContent [ngStyle]=\"{'top.px': top, 'left.px': left, 'width.px': width}\"  [@dropdownAnimation]=\"{value: state, params: {startHeight: startHeight, endHeight: endHeight}}\"> <div class=\"filter\" *ngIf=\"filterEnabled\"> <input #filterInput autocomplete=\"on\" [placeholder]=\"placeholder\" (click)=\"onSingleFilterClick($event)\" (input)=\"onSingleFilterInput($event)\" (keydown)=\"onSingleFilterKeydown($event)\"> </div> <div class=\"options\" #optionsList> <ul class=\"select-dropdown\" [ngClass]=\"{'multiple-select-dropdown': multiple}\" (wheel)=\"onOptionsWheel($event)\"> <li *ngFor=\"let option of optionList.filtered\" [ngClass]=\"{'active': option.highlighted, 'selected': option.selected, 'disabled': option.disabled, 'optgroup': option.group}\" [ngStyle]=\"getOptionStyle(option)\" (click)=\"onOptionClick(option)\" (mouseover)=\"onOptionMouseover(option)\"> <img class=\"rounded-circle\" [src]=\"option.icon\" *ngIf=\"option.icon !== ''\"> <span class=\"select-option\" *ngIf=\"!multiple\">{{option.label}}</span> <span class=\"filtrable\" *ngIf=\"multiple\"> <input type=\"checkbox\" [checked]=\"option.selected\" class=\"form-check-input {{customClass}}\"> <label></label> {{option.label}} </span> </li> <li *ngIf=\"!this.hasOptionsItems\" class=\"message disabled\"> <span>{{notFoundMsg}}</span> </li> </ul> </div> </div>","<label *ngIf=\"label !== ''\"> {{label}} </label> <div #selection [attr.tabindex]=\"disabled ? null : 0\" [ngClass]=\"{'open': isOpen, 'focus': hasFocus, 'below': isBelow, 'disabled': disabled}\" (click)=\"onSelectContainerClick()\" (focus)=\"onSelectContainerFocus()\" (keydown)=\"onSelectContainerKeydown($event)\" (window:click)=\"onWindowClick()\" (window:resize)=\"onWindowResize()\"> <div class=\"single\" *ngIf=\"!multiple\"> <div class=\"value\" *ngIf=\"optionList.hasSelected()\"> {{optionList.selection[0].label}} </div> <div class=\"placeholder\" *ngIf=\"!optionList.hasSelected()\"> {{placeholderView}} </div> <div class=\"clear\" *ngIf=\"allowClear && hasSelected\" (click)=\"onClearSelectionClick($event)\"> &#x2715; </div> </div> <div class=\"multiple\" *ngIf=\"multiple\"> <div class=\"placeholder\" *ngIf=\"!optionList.hasSelected()\"> {{placeholderView}} </div> <div class=\"option\"  *ngFor=\"let option of optionList.selection\"> <span class=\"deselect-option\">, </span>{{option.label}} </div> </div> </div> <mdb-select-dropdown *ngIf=\"isOpen\" #dropdown [multiple]=\"multiple\" [optionList]=\"optionList\" [notFoundMsg]=\"notFoundMsg\" [highlightColor]=\"highlightColor\" [highlightTextColor]=\"highlightTextColor\" [filterEnabled]=\"filterEnabled\" [placeholder]=\"filterPlaceholder\" [top]=\"top\" [left]=\"left\" (close)=\"onDropdownClose($event)\" (optionClicked)=\"onDropdownOptionClicked($event)\" (singleFilterClick)=\"onSingleFilterClick()\" (singleFilterInput)=\"onSingleFilterInput($event)\" (singleFilterKeydown)=\"onSingleFilterKeydown($event)\"> </mdb-select-dropdown>","<!-- The background div is named as such because it appears below the other divs and is not sized based on values. --> <div class=\"mat-progress-bar-background mat-progress-bar-element\"></div> <div class=\"mat-progress-bar-buffer mat-progress-bar-element\" [ngStyle]=\"_bufferTransform()\"></div> <div class=\"mat-progress-bar-primary mat-progress-bar-fill mat-progress-bar-element\" [ngStyle]=\"_primaryTransform()\"></div> <div class=\"mat-progress-bar-secondary mat-progress-bar-fill mat-progress-bar-element\"></div> ","<!-- preserveAspectRatio of xMidYMid meet as the center of the viewport is the circle's center. The center of the circle will remain at the center of the md-progress-spinner element containing the SVG. --> <svg viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid meet\"> <path></path> </svg>","<!-- preserveAspectRatio of xMidYMid meet as the center of the viewport is the circle's center. The center of the circle will remain at the center of the md-progress-spinner element containing the SVG. --> <svg viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMidYMid meet\"> <path></path> </svg>","<div class=\"progress-bar\" style=\"min-width: 0;\" role=\"progressbar\" [ngClass]=\"type && 'progress-bar-' + type\" [ngStyle]=\"{width: (percent < 100 ? percent : 100) + '%', transition: transition}\" aria-valuemin=\"0\" [attr.aria-valuenow]=\"value\" [attr.aria-valuetext]=\"percent.toFixed(0) + '%'\" [attr.aria-valuemax]=\"max\"> <ng-content></ng-content> </div> ","<div class=\"preloader-wrapper active  {{spinnerType}}\"> <mdb-Spinners mdbSpinners mode=\"indeterminate\"></mdb-Spinners> </div>","<div mdbProgress [animate]=\"animate\" [max]=\"max\"> <mdb-bar [type]=\"type\" [value]=\"value\"> <ng-content></ng-content> </mdb-bar> </div> ","<ul #sidenav id=\"slide-out\" class=\"{{ class }} side-nav\" > <ng-content></ng-content> <!-- <div class=\"sidenav-bg mask-strong\"></div>     --> </ul> <div (click)=\"hide()\" (touchstart)=\"hide()\" #overlay id=\"sidenav-overlay\" style=\"display: none;\"></div>","<div class=\"container-fluid\">  <div class=\"row\"> <div class=\"{{ listGetClass }}\"> <ul class=\"nav {{ buttonClass }}\" [ngClass]=\"classMap\" (click)=\"$event.preventDefault()\"> <li *ngFor=\"let tabz of tabs;let i = index\" [ngClass]=\"['nav-item', tabz.customClass || '']\" [class.active]=\"tabz.active\" [class.disabled]=\"tabz.disabled\" (click)=\"click($event, i)\"> <a #tabEl href=\"javascript:void(0);\" class=\"nav-link waves-light\" [class.active]=\"tabz.active\" [class.disabled]=\"tabz.disabled\"> <span [mdbNgTransclude]=\"tabz.headingRef\" [innerHTML]=\"tabz.heading\"></span> <span *ngIf=\"tabz.removable\"> <span (click)=\"$event.preventDefault(); removeTab(tabz);\" class=\"fa fa-remove ml-2\"> </span> </span> </a> </li> </ul> </div> <div class=\"{{ tabsGetClass }}\"> <div class=\"tab-content {{ contentClass }}\"> <ng-content></ng-content> </div> </div> </div> </div>","<div *ngIf=\"values && values.length\" class=\"md-chip-list\"  [ngClass]=\"focused\"> <span *ngFor=\"let value of values\" class=\"md-chip\" selected >          {{value}} <i class=\"close fa fa-times\" aria-hidden=\"true\" (click)=\"removeValue(value)\" ></i> </span> <span> <input  [(ngModel)]=\"labelToAdd\"  (keyup.enter)=\"addValue(box.value, $event);$event.preventDefault()\" (focus)=\"onFocus()\"  (focusout)=\"focusOutFunction()\"   #box /> </span> </div> <div *ngIf=\"!values || !values.length\"> <input class=\"md-chips-input\" placeholder=\"{{ placeholder }}\" #tbox  (keyup.enter)=\"addValue(tbox.value, $event);$event.preventDefault()\"/> </div>","<div> <div class=\"md-form\"> <label class=\"active\">{{ label }}</label> <input [placeholder]=\"placeholder\" [value]=\"endHours\" type=\"text\" class=\"form-control timepicker\" (click)=\"openBtnClicked()\" [(ngModel)]=\"endHours\"> </div> <div class=\"clockpicker picker\" [hidden]=\"!showClock\" [ngClass]=\"{'picker--opened': showClock, 'darktheme': darktheme}\"> <div class=\"picker__holder\"> <div class=\"picker__frame\"> <div class=\"picker__wrap\"> <div class=\"picker__box\"> <div class=\"picker__date-display\"> <div class=\"clockpicker-display\"> <div class=\"clockpicker-display-column\"> <span class=\"clockpicker-span-hours text-primary\" [ngClass]=\"{'text-primary': showHours}\" (click)=\"showHoursClock()\"> {{ selectedHours.h }}</span>:<span class=\"clockpicker-span-minutes\" [ngClass]=\"{'text-primary': !showHours}\" (click)=\"showMinutesClock()\">{{selectedHours.m }}</span> </div> <div class=\"clockpicker-display-column clockpicker-display-am-pm\" *ngIf=\"twelvehour\"> <div class=\"clockpicker-span-am-pm\">{{ selectedHours.ampm }}</div> </div> </div> </div> <div class=\"picker__calendar-container\"> <div class=\"clockpicker-plate\" #plate> <div class=\"clockpicker-canvas\"> <svg class=\"clockpicker-svg\" width=\"270\" height=\"270\" #svg> <g transform=\"translate(135,135)\" #g> <line x1=\"0\" y1=\"0\" x2=\"77.94228634059948\" y2=\"-45.00000000000001\" #hand></line> <circle class=\"clockpicker-canvas-fg\" r=\"5\" cx=\"95.26279441628824\" cy=\"-55.000000000000014\" #fg></circle> <circle class=\"clockpicker-canvas-bg\" r=\"20\" cx=\"95.26279441628824\" cy=\"-55.000000000000014\" #bg></circle> <circle class=\"clockpicker-canvas-bearing\" cx=\"0\" cy=\"0\" r=\"2\" #bearing></circle> </g> </svg> </div> <div class=\"clockpicker-dial clockpicker-hours\" #hoursPlate [ngClass]=\"{'clockpicker-dial-out': !showHours}\" [ngStyle]=\"{'visibility': !showHours ? 'hidden' : 'visible'}\"> <div *ngFor=\"let tick of hoursTicks\" class=\"clockpicker-tick\" style=\"font-size: 140%;\" [ngStyle]=\"{'left': tick.left+'px', 'top': tick.top+'px'}\" id=\"{{ tick.hour }}\"> {{ tick.hour }} </div> </div> <div class=\"clockpicker-dial clockpicker-minutes\" #minutesPlate [ngClass]=\"{'clockpicker-dial-out': showHours}\" [ngStyle]=\"{'visibility': showHours ? 'hidden' : 'visible'}\"> <div *ngFor=\"let tick of minutesTicks\" class=\"clockpicker-tick\" style=\"font-size: 120%;\" [ngStyle]=\"{'left': tick.left+'px', 'top': tick.top+'px'}\"> {{ tick.min }} </div> </div> </div> <div class=\"clockpicker-am-pm-block\" *ngIf=\"twelvehour\"> <button type=\"button\" class=\"btn-floating btn-flat clockpicker-button am-button\" [ngClass]=\"{'active': selectedHours.ampm=='AM'}\" (click)=\"setAmPm('AM')\"> AM </button> <button type=\"button\" class=\"btn-floating btn-flat clockpicker-button pm-button\" [ngClass]=\"{'active': selectedHours.ampm=='PM'}\" (click)=\"setAmPm('PM')\"> PM </button> </div> </div> <div class=\"picker__footer\"> <button type=\"button\" *ngIf=\"buttonLabel\" class=\"btn-flat clockpicker-button\" (click)=\"closeBtnClicked()\"> {{buttonLabel}} </button> <button type=\"button\" *ngIf=\"!buttonLabel\" class=\"btn-flat clockpicker-button\" (click)=\"closeBtnClicked()\"> Done </button> </div> </div> </div> </div> </div> </div> </div>","<div tabindex=\"0\" (swipeleft)=\"swipe($event.type)\" (swiperight)=\"swipe($event.type)\" (mouseenter)=\"pause()\" (mouseleave)=\"play()\" (mouseup)=\"play()\" class=\"carousel {{ class }} {{ type }}\"> <div class=\"controls-top\" *ngIf=\"slides.length > 1 && !checkNavigation() && isControls\"> <a class=\"btn-floating\" [class.disabled]=\"activeSlide===0&&noWrap\" (click)=\"previousSlide()\"><i class=\"fa fa-chevron-left\"></i></a> <a class=\"btn-floating\" (click)=\"nextSlide()\" [class.disabled]=\"isLast(activeSlide) && noWrap\"><i class=\"fa fa-chevron-right\"></i></a> </div> <ol class=\"carousel-indicators\" *ngIf=\"slides.length > 1 && checkDots() && isControls\"> <li *ngFor=\"let slidez of slides; let i = index;\" [class.active]=\"slidez.active === true\" (click)=\"selectSlide(i)\"></li> </ol> <ol class=\"carousel-indicators\" *ngIf=\"slides.length > 1 && !checkDots() && isControls\"> <li *ngFor=\"let slidez of slides; let i = index;\" [class.active]=\"slidez.active === true\" (click)=\"selectSlide(i)\"> <img class=\"img-fluid\" src=\"{{ getImg(slidez) }}\"> </li> </ol> <div class=\"carousel-inner\"><ng-content></ng-content></div> <a class=\"carousel-control-prev\" [class.disabled]=\"activeSlide === 0 && noWrap\" (click)=\"previousSlide()\" *ngIf=\"slides.length > 1 && checkNavigation() && isControls\"> <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span> <span  class=\"sr-only\">Previous</span> </a> <a class=\"carousel-control-next\" (click)=\"nextSlide()\" [class.disabled]=\"isLast(activeSlide) && noWrap\" *ngIf=\"slides.length > 1 && checkNavigation() && isControls\"> <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span> <span class=\"sr-only\">Next</span> </a> </div>","\n  <ng-content></ng-content>\n  ","\n  <div [class.dropup]=\"direction === 'up'\"\n  [class.dropdown]=\"direction === 'down'\"\n  [class.show]=\"isOpen\"\n  [class.open]=\"isOpen\">\n    <ng-content></ng-content>\n  </div>\n  ","<i class=\"fa fa-{{icon}} fa-{{size}} {{class}} prefix\"></i>","\n  <div [class]=\"'modal-dialog' + (config.class ? ' ' + config.class : '')\" role=\"document\">\n  <div class=\"modal-content\"><ng-content></ng-content></div>\n</div>","\n        <ng-content></ng-content>\n    ","\n  <ng-content></ng-content>\n  ","<nav class=\"{{SideClass}}\" #nav> <div [ngClass]=\"{'container': containerInside}\" [ngStyle]=\"{'display': displayStyle}\" #container> <ng-content select=\"mdb-navbar-brand\"></ng-content> <ng-content select=\"logo\"></ng-content> <ng-content *ngIf=\"this.doubleNav == true\" select=\"navlinks\"></ng-content> <div *ngIf=\"this.doubleNav == false\"> <button class=\"navbar-toggler\" type=\"button\" (click)=\"toggle($event)\" mdbWavesEffect *ngIf=\"this.el.nativeElement.children.length !== 0\"> <span class=\"navbar-toggler-icon\"> </span> </button> </div> <div #navbar [style.height]=\"height\" class=\"navbar-collapse collapse\" [ngClass]=\"{'collapse': collapse, 'show': showClass, 'collapsing': collapsing}\"> <ng-content select=\"links\"></ng-content> </div> </div> </nav> ","\n        <ng-content></ng-content>\n    ","\n <h3 class=\"popover-header\" *ngIf=\"title\">{{title}}</h3>\n <div class=\"popover-body\">\n <ng-content></ng-content>\n </div>","\n  <div class=\"tooltip-arrow\"></div>\n  <div class=\"tooltip-inner\"><ng-content></ng-content></div>\n  ","import {CanActivate} from '@angular/router';\nimport {Inject, Injectable} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\nimport {AngularFireAuth} from 'angularfire2/auth';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n  constructor(@Inject(AngularFireAuth) private authService: AngularFireAuth) {\n  }\n  canActivate(): Observable<boolean> {\n    return this.authService.authState.pipe(map(user => {\n      return user !== null;\n    }));\n  }\n}\n","<router-outlet></router-outlet>","import {Component} from '@angular/core';\n\n@Component({\n  template: `<router-outlet></router-outlet>`\n})\nexport class AdministratorCenterComponent {\n}\n","\n    <div class=\"modal-dialog\" role=\"document\" *ngIf=\"isLoggedIn === false\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header text-center\">\n          <h4 class=\"modal-title w-100 font-weight-bold\">Sign in</h4>\n        </div>\n        <form (ngSubmit)=\"submit()\" [formGroup]=\"formGroup\">\n          <div class=\"modal-body mx-3\">\n            <div class=\"md-form mb-5\">\n              <i class=\"fa fa-envelope prefix grey-text\"></i>\n              <input type=\"email\" formControlName=\"email\" placeholder=\"Email\"\n                     class=\"form-control validate\" mdbInputDirective>\n              <div *ngIf=\"formGroup.get('email').hasError('required')\">\n                <p class=\"text-right\" style=\"font-size: 12px\">\n                  Email 欄位不得為空\n                </p>\n              </div>\n              <div *ngIf=\"formGroup.get('email').hasError('email')\">\n                <p class=\"text-right\" style=\"font-size: 12px\">\n                  Email 格式錯誤\n                <p></p>\n              </div>\n            </div>\n            <div class=\"md-form mb-4\">\n              <i class=\"fa fa-lock prefix grey-text\"></i>\n              <input type=\"password\" id=\"defaultForm-pass\" formControlName=\"password\" placeholder=\"Password\"\n                     class=\"form-control validate\" mdbInputDirective>\n              <div *ngIf=\"formGroup.get('password').errors\">\n                <p class=\"text-right\" style=\"font-size: 12px\">\n                  密碼欄位不得為空\n                </p>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer d-flex justify-content-center\">\n            <button type=\"submit\" class=\"btn btn-default waves-light\"\n                    [ngClass]=\"formGroup.valid ? '' : 'disabled'\"\n                    mdbWavesEffect>Login</button>\n          </div>\n        </form>\n      </div>\n    </div>\n    <div class=\"modal-dialog\" role=\"document\" *ngIf=\"isLoggedIn === true\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header text-center\">\n          <h4 class=\"modal-title w-100 font-weight-bold\">管理者已登入</h4>\n        </div>\n        <div class=\"modal-footer d-flex justify-content-center\">\n          <button class=\"btn btn-default waves-light\" (click)=\"logout()\"\n                  mdbWavesEffect>LOG OUT</button>\n        </div>\n      </div>\n    </div>\n  ","import {FormBuilder, FormGroup, Validators} from '@angular/forms';\nimport {Component, Inject, OnDestroy} from '@angular/core';\nimport {SettingService} from '../core/setting.service';\nimport {AngularFireAuth} from 'angularfire2/auth';\nimport {Router} from '@angular/router';\n\n\n@Component({\n  template: `\n    <div class=\"modal-dialog\" role=\"document\" *ngIf=\"isLoggedIn === false\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header text-center\">\n          <h4 class=\"modal-title w-100 font-weight-bold\">Sign in</h4>\n        </div>\n        <form (ngSubmit)=\"submit()\" [formGroup]=\"formGroup\">\n          <div class=\"modal-body mx-3\">\n            <div class=\"md-form mb-5\">\n              <i class=\"fa fa-envelope prefix grey-text\"></i>\n              <input type=\"email\" formControlName=\"email\" placeholder=\"Email\"\n                     class=\"form-control validate\" mdbInputDirective>\n              <div *ngIf=\"formGroup.get('email').hasError('required')\">\n                <p class=\"text-right\" style=\"font-size: 12px\">\n                  Email 欄位不得為空\n                </p>\n              </div>\n              <div *ngIf=\"formGroup.get('email').hasError('email')\">\n                <p class=\"text-right\" style=\"font-size: 12px\">\n                  Email 格式錯誤\n                <p></p>\n              </div>\n            </div>\n            <div class=\"md-form mb-4\">\n              <i class=\"fa fa-lock prefix grey-text\"></i>\n              <input type=\"password\" id=\"defaultForm-pass\" formControlName=\"password\" placeholder=\"Password\"\n                     class=\"form-control validate\" mdbInputDirective>\n              <div *ngIf=\"formGroup.get('password').errors\">\n                <p class=\"text-right\" style=\"font-size: 12px\">\n                  密碼欄位不得為空\n                </p>\n              </div>\n            </div>\n          </div>\n          <div class=\"modal-footer d-flex justify-content-center\">\n            <button type=\"submit\" class=\"btn btn-default waves-light\"\n                    [ngClass]=\"formGroup.valid ? '' : 'disabled'\"\n                    mdbWavesEffect>Login</button>\n          </div>\n        </form>\n      </div>\n    </div>\n    <div class=\"modal-dialog\" role=\"document\" *ngIf=\"isLoggedIn === true\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header text-center\">\n          <h4 class=\"modal-title w-100 font-weight-bold\">管理者已登入</h4>\n        </div>\n        <div class=\"modal-footer d-flex justify-content-center\">\n          <button class=\"btn btn-default waves-light\" (click)=\"logout()\"\n                  mdbWavesEffect>LOG OUT</button>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class AdministratorLoginComponent implements OnDestroy {\n  formGroup: FormGroup;\n  authSubscription;\n  isLoggedIn;\n  constructor(@Inject(AngularFireAuth) private authService: AngularFireAuth, private formBuilder: FormBuilder,\n              private router: Router, private settingService: SettingService) {\n    this.authSubscription = this.settingService.authState$.subscribe(user => {\n      this.isLoggedIn = (user !== null);\n    });\n    this.formGroup = this.formBuilder.group({\n      email : [null, [Validators.email, Validators.required]],\n      password : [null, Validators.required]\n    });\n  }\n  logout() {\n    this.settingService.logout();\n    this.router.navigate(['/about'])\n  }\n  submit() {\n    this.authService.auth\n      .signInWithEmailAndPassword(this.formGroup.value['email'], this.formGroup.value['password'])\n      .then(results => {\n        alert('登入成功');\n        this.router.navigate(['administrator/about'])\n        console.log(results);\n      }, reason => {\n        alert('帳號密碼錯誤');\n        console.log(reason);\n      });\n  }\n\n  ngOnDestroy() {\n    this.authSubscription.unsubscribe();\n  }\n}\n","import {AngularFireAuth, AngularFireAuthModule} from 'angularfire2/auth';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\nimport {RouterModule} from '@angular/router';\nimport {routes} from './routes';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {NavigationModule} from '../navigation/navigation.module';\nimport {MDBBootstrapModulesPro} from 'ng-uikit-pro-standard';\nimport {ModalGalleryModule} from 'angular-modal-gallery';\nimport {AgmCoreModule} from '@agm/core';\nimport {CoreModule} from '../core/core.module';\nimport {AuthGuard} from './administrator.auth.guard';\nimport {AdministratorLoginComponent} from './administrator.login.component';\nimport {AdministratorCenterComponent} from './administrator.center.component';\nimport {AdministratorPageAboutComponent} from './administrator.page.about.component';\nimport {AdministratorPagePlanOriginComponent} from './administrator.page.plan.origin.component';\nimport {AdministratorPagePlanCurrentComponent} from './administrator.page.plan.current.component';\nimport {AdministratorPagePlanHistoryComponent} from './administrator.page.plan.history.component';\nimport {AdministratorPagePlanHistoryDetailComponent} from './administrator.page.plan.history.detail.component';\nimport {AdministratorPageSchoolCalendarComponent} from './administrator.page.school.calendar.component';\nimport {AdministratorPageSchoolCalendarDetailComponent} from './administrator.page.school.calendar.detail.component';\nimport {AdministratorPageSchoolGalleryComponent} from './administrator.page.school.gallery.component';\nimport {AdministratorPageSchoolGalleryDetailComponent} from './administrator.page.school.gallery.detail.component';\n\n@NgModule({\n  imports: [\n    BrowserModule, RouterModule.forChild(routes),\n    ModalGalleryModule.forRoot(), MDBBootstrapModulesPro.forRoot(),\n    AgmCoreModule.forRoot({\n      apiKey: 'AIzaSyAbQR5RhbaDwz6Kw3tGUgSmIdwRYCy9qxM',\n      language: 'zh-TW'\n    }),\n    FormsModule, ReactiveFormsModule,\n    NavigationModule, CoreModule,\n    AngularFireAuthModule\n  ],\n  declarations: [\n    AdministratorCenterComponent, AdministratorLoginComponent,\n    AdministratorPageAboutComponent,\n    AdministratorPagePlanOriginComponent, AdministratorPagePlanCurrentComponent,\n    AdministratorPagePlanHistoryComponent, AdministratorPagePlanHistoryDetailComponent,\n    AdministratorPageSchoolCalendarComponent, AdministratorPageSchoolCalendarDetailComponent,\n    AdministratorPageSchoolGalleryComponent, AdministratorPageSchoolGalleryDetailComponent\n  ],\n  providers: [AngularFireAuth, AuthGuard],\n  exports: []\n})\nexport class AdministratorModule {\n}\n","\n    <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-11\">\n          <div class=\"float-right\" (click)=\"form_carousel.show()\">\n            <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n              <i class=\"fa fa-edit\"> </i>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"關於\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of paragraphList; let i = index\">\n      <div class=\"container-fluid\" style=\"position: absolute; z-index: 1;\">\n        <div class=\"row\">\n          <div class=\"col-11\">\n            <div class=\"float-right\"(click)=\"this.inputImage = null; this.editingParagraph = paragraph; form_paragraph.show()\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-edit\"> </i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"關於 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"關於 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\"\n             (click)=\"this.inputImage = null; newParagraph.key = ''; this.editingParagraph = newParagraph; form_paragraph.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div class=\"container\">\n      <div class=\"float-right\" (click)=\"form_iframe.show();\">\n        <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n          <i class=\"fa fa-file-video-o\"> </i>\n        </a>\n      </div>\n      <div *ngIf=\"embedVideoUrl\" class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" [src]=\"embedVideoUrl\" allowfullscreen>\n        </iframe>\n      </div>\n    </div>\n\n    <div mdbModal #form_carousel=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 關於 輪播圖片編輯 </h4>\n            <button id=\"form-carousel-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_carousel.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\" *ngFor=\"let image of carouselImageList|async; let i = index\">\n              <i class=\"fa fa-picture-o\"> 圖片 {{i + 1}} </i>\n              <div *ngIf=\"image !== ''\">\n                <button class=\"btn btn-primary waves-light\" mdbWavesEffect (click)=\"deleteCarouselFile(i)\">\n                  <i class=\"fa fa-trash-o mr-1\"></i> Delete\n                </button>\n                <img #thumbnail src=\"{{ image }}\" class=\"img-thumbnail\">\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.carouselInputImages[i] = $event.target.files[0]\">\n              <div *ngIf=\"uploadingCarousel === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : carouselUploadPercents[i] | async}\">\n                {{ carouselUploadPercents[i] | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect (click)=\"uploadCarouselFile()\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_paragraph=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 關於 內容編輯 </h4>\n            <button id=\"form-paragraph-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_paragraph.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingParagraph.img }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #paragraph type=\"text\" class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingParagraph.content }}\">\n                  </textarea>\n                </div>\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingParagraph.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"addParagraph(paragraph.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"deleteParagraph()\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"updateParagraph(paragraph.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_iframe=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 關於 嵌入影片 編輯 </h4>\n            <button id=\"form-iframe-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_iframe.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <input #iframe type=\"text\" class=\"form-control\" value=\"{{ this.embedVideoUrlString }}\"\n                     placeholder=\"嵌入連結\">\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect (click)=\"updateEmbedVideoUrl(iframe.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {DomSanitizer, SafeUrl} from '@angular/platform-browser';\nimport {catchError, delay, map, retry} from 'rxjs/operators';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {ParagraphModel} from '../model/paragraph.model';\nimport {SettingService} from '../core/setting.service';\nimport {Observable, of, zip} from 'rxjs';\nimport {Router} from '@angular/router';\n\n@Component({\n  template: `\n    <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-11\">\n          <div class=\"float-right\" (click)=\"form_carousel.show()\">\n            <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n              <i class=\"fa fa-edit\"> </i>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"關於\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of paragraphList; let i = index\">\n      <div class=\"container-fluid\" style=\"position: absolute; z-index: 1;\">\n        <div class=\"row\">\n          <div class=\"col-11\">\n            <div class=\"float-right\"(click)=\"this.inputImage = null; this.editingParagraph = paragraph; form_paragraph.show()\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-edit\"> </i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"關於 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"關於 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\"\n             (click)=\"this.inputImage = null; newParagraph.key = ''; this.editingParagraph = newParagraph; form_paragraph.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div class=\"container\">\n      <div class=\"float-right\" (click)=\"form_iframe.show();\">\n        <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n          <i class=\"fa fa-file-video-o\"> </i>\n        </a>\n      </div>\n      <div *ngIf=\"embedVideoUrl\" class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" [src]=\"embedVideoUrl\" allowfullscreen>\n        </iframe>\n      </div>\n    </div>\n\n    <div mdbModal #form_carousel=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 關於 輪播圖片編輯 </h4>\n            <button id=\"form-carousel-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_carousel.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\" *ngFor=\"let image of carouselImageList|async; let i = index\">\n              <i class=\"fa fa-picture-o\"> 圖片 {{i + 1}} </i>\n              <div *ngIf=\"image !== ''\">\n                <button class=\"btn btn-primary waves-light\" mdbWavesEffect (click)=\"deleteCarouselFile(i)\">\n                  <i class=\"fa fa-trash-o mr-1\"></i> Delete\n                </button>\n                <img #thumbnail src=\"{{ image }}\" class=\"img-thumbnail\">\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.carouselInputImages[i] = $event.target.files[0]\">\n              <div *ngIf=\"uploadingCarousel === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : carouselUploadPercents[i] | async}\">\n                {{ carouselUploadPercents[i] | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect (click)=\"uploadCarouselFile()\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_paragraph=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 關於 內容編輯 </h4>\n            <button id=\"form-paragraph-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_paragraph.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingParagraph.img }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #paragraph type=\"text\" class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingParagraph.content }}\">\n                  </textarea>\n                </div>\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingParagraph.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"addParagraph(paragraph.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"deleteParagraph()\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"updateParagraph(paragraph.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_iframe=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 關於 嵌入影片 編輯 </h4>\n            <button id=\"form-iframe-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_iframe.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <input #iframe type=\"text\" class=\"form-control\" value=\"{{ this.embedVideoUrlString }}\"\n                     placeholder=\"嵌入連結\">\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect (click)=\"updateEmbedVideoUrl(iframe.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class AdministratorPageAboutComponent implements OnInit, OnDestroy {\n  uploading = false;\n  _uploadedImgUrl: string;\n  embedVideoUrl: SafeUrl;\n  embedVideoUrlString = '';\n  paragraphListSubscription;\n  embedVideoUrlSubscription;\n  uploadingCarousel = false;\n  inputImage: HTMLInputElement;\n  uploadPercent: Observable<string>;\n  paragraphList: ParagraphModel[] = [];\n  carouselImageList: Observable<string[]>;\n  newParagraph = new ParagraphModel('', '');\n  editingParagraph = new ParagraphModel('', '');\n  carouselInputImages: HTMLInputElement[] = new Array(4);\n  carouselUploadPercents: Observable<string>[] = new Array(4);\n\n  @Input()\n  set uploadedImgUrl(url: string) {\n    if (this.uploadedImgUrl !== url) {\n      this._uploadedImgUrl = url;\n      this.database.object('about/paragraphList/' + this.editingParagraph.key)\n        .update({ content: this.editingParagraph.content, img : url })\n        .then(_ => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-paragraph-close-btn') as HTMLElement).click();\n        }, reason => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-paragraph-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n  get uploadedImgUrl() {\n    return this._uploadedImgUrl;\n  }\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router, private sanitizer: DomSanitizer) {\n    this.settingService.path$.next(this.router.url);\n    this.getCarouselImageList();\n  }\n  ngOnInit() {\n    this.paragraphListSubscription = this.database.list('about/paragraphList').snapshotChanges()\n      .subscribe(results => {\n        this.paragraphList = results.map(element => {\n          return new ParagraphModel(element.payload.val(), element.key);\n        });\n      });\n    this.embedVideoUrlSubscription = this.database.object('about/embedVideoUrl').snapshotChanges()\n      .subscribe(results => {\n        this.embedVideoUrlString = String(results.payload.val());\n        if (this.embedVideoUrlString !== '' && this.embedVideoUrlString !== 'null') {\n          this.embedVideoUrl = this.sanitizer.bypassSecurityTrustResourceUrl(this.embedVideoUrlString);\n        } else {\n          this.embedVideoUrl = null;\n        }\n      });\n  }\n  ngOnDestroy() {\n    this.paragraphListSubscription.unsubscribe();\n    this.embedVideoUrlSubscription.unsubscribe();\n  }\n\n  private getCarouselImageList() {\n    this.carouselImageList = zip(\n      this.storage.ref('about/carousel/image_0').getDownloadURL().pipe(catchError(_ => of(''))),\n      this.storage.ref('about/carousel/image_1').getDownloadURL().pipe(catchError(_ => of(''))),\n      this.storage.ref('about/carousel/image_2').getDownloadURL().pipe(catchError(_ => of(''))),\n      this.storage.ref('about/carousel/image_3').getDownloadURL().pipe(catchError(_ => of(''))));\n  }\n  deleteCarouselFile(index: number) {\n    this.storage.ref('about/carousel/image_' + index).delete();\n    this.getCarouselImageList();\n  }\n  uploadCarouselFile() {\n    this.uploadingCarousel = true;\n    const observableList$: Observable<string>[] = [];\n    this.carouselInputImages.forEach((image, index) => {\n      const task = this.storage.ref('about/carousel/image_' + index).put(image);\n      this.carouselUploadPercents[index] =  task.percentageChanges().pipe(\n        map((number) => number + '%')\n      );\n      observableList$.push(this.carouselUploadPercents[index]);\n    });\n    zip(...observableList$)\n      .subscribe(value => {\n        let check = true;\n        for (const element of value) {\n          if (element !== '100%') {\n            check = false;\n          }\n        }\n        if (check) {\n          (document.getElementById('form-carousel-close-btn') as HTMLElement).click();\n          this.getCarouselImageList();\n        }\n      });\n  }\n  deleteParagraph() {\n    this.storage.ref('about/paragraphList/image_' + this.editingParagraph.key).delete();\n    this.database.object('about/paragraphList/' + this.editingParagraph.key).remove().then( _ => {\n      (document.getElementById('form-paragraph-close-btn') as HTMLElement).click();\n    });\n  }\n  addParagraph(text: string) {\n    if (this.inputImage) {\n      this.uploading = true;\n      this.database.list('about/paragraphList')\n        .push({content: text, img: 'imageUploading'})\n        .then(result => {\n          this.editingParagraph.content = text;\n          this.editingParagraph.key = result.key;\n          const fileRef = 'about/paragraphList/image_' + result.key;\n          const task = this.storage.upload(fileRef, this.inputImage);\n          this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n            map((number) => {\n              if (number === 100) {\n                this.storage.ref(fileRef)\n                  .getDownloadURL()\n                  .pipe(delay(1000))\n                  .pipe(retry(2))\n                  .subscribe(value => {\n                    this.uploadedImgUrl = value;\n                  });\n              }\n              return number + '%';\n            })\n          );\n        });\n    } else {\n      alert('請選擇一張圖片');\n    }\n  }\n  updateParagraph(text: string) {\n    if (this.inputImage) {\n      this.uploading = true;\n      const fileRef = 'about/paragraphList/image_' + this.editingParagraph.key;\n      const task = this.storage.upload(fileRef, this.inputImage);\n      this.editingParagraph.content = text;\n      this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n        map((number) => {\n          if (number === 100) {\n            this.storage.ref(fileRef)\n              .getDownloadURL()\n              .pipe(delay(1000))\n              .pipe(retry(2))\n              .subscribe(value => {\n                this.uploadedImgUrl = value;\n              });\n          }\n          return number + '%';\n        })\n      );\n    } else {\n      this.database.object('about/paragraphList/' + this.editingParagraph.key)\n        .update({ content: text })\n        .then(_ => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-paragraph-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n  updateEmbedVideoUrl(url: string) {\n    this.database.object('about')\n      .update({ embedVideoUrl: url })\n      .then(_ => {\n        (document.getElementById('form-iframe-close-btn') as HTMLElement).click();\n      });\n  }\n}\n","\n    <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-11\">\n          <div class=\"float-right\" (click)=\"form_carousel.show()\">\n            <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n              <i class=\"fa fa-edit\"> </i>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"本屆炫光\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of paragraphList; let i = index\">\n      <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n        <div class=\"row\">\n          <div class=\"col-11\">\n            <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingParagraph = paragraph; form_paragraph.show()\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-edit\"> </i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"本屆炫光 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"本屆炫光 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\"\n             (click)=\"this.inputImage = null; newParagraph.key = ''; this.editingParagraph = newParagraph; form_paragraph.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_carousel=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 本屆炫光輪播圖片編輯 </h4>\n            <button id=\"form-carousel-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_carousel.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\" *ngFor=\"let image of carouselImageList|async; let i = index\">\n              <i class=\"fa fa-picture-o\"> 圖片 {{i + 1}} </i>\n              <div *ngIf=\"image !== ''\">\n                <button class=\"btn btn-primary waves-light\" mdbWavesEffect (click)=\"deleteCarouselFile(thumbnail, i)\">\n                  <i class=\"fa fa-trash-o mr-1\"></i> Delete\n                </button>\n                <img #thumbnail src=\"{{ image }}\" class=\"img-thumbnail\">\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.carouselInputImages[i] = $event.target.files[0]\">\n              <div *ngIf=\"uploadingCarousel === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : carouselUploadPercents[i] | async}\">\n                {{ carouselUploadPercents[i] | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect (click)=\"uploadCarouselFile()\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_paragraph=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 本屆炫光 內容編輯 </h4>\n            <button id=\"form-paragraph-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_paragraph.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingParagraph.img }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #paragraph type=\"text\" class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingParagraph.content }}\">\n                  </textarea>\n                </div>\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingParagraph.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"addParagraph(paragraph.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"deleteParagraph()\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"updateParagraph(paragraph.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ","import {Component, ElementRef, Input, OnDestroy, OnInit} from '@angular/core';\nimport {catchError, delay, map, retry} from 'rxjs/operators';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {ParagraphModel} from '../model/paragraph.model';\nimport {SettingService} from '../core/setting.service';\nimport {Observable, of, zip} from 'rxjs';\nimport {Router} from '@angular/router';\n\n@Component({\n  template: `\n    <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-11\">\n          <div class=\"float-right\" (click)=\"form_carousel.show()\">\n            <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n              <i class=\"fa fa-edit\"> </i>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"本屆炫光\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of paragraphList; let i = index\">\n      <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n        <div class=\"row\">\n          <div class=\"col-11\">\n            <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingParagraph = paragraph; form_paragraph.show()\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-edit\"> </i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"本屆炫光 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"本屆炫光 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\"\n             (click)=\"this.inputImage = null; newParagraph.key = ''; this.editingParagraph = newParagraph; form_paragraph.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_carousel=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 本屆炫光輪播圖片編輯 </h4>\n            <button id=\"form-carousel-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_carousel.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\" *ngFor=\"let image of carouselImageList|async; let i = index\">\n              <i class=\"fa fa-picture-o\"> 圖片 {{i + 1}} </i>\n              <div *ngIf=\"image !== ''\">\n                <button class=\"btn btn-primary waves-light\" mdbWavesEffect (click)=\"deleteCarouselFile(thumbnail, i)\">\n                  <i class=\"fa fa-trash-o mr-1\"></i> Delete\n                </button>\n                <img #thumbnail src=\"{{ image }}\" class=\"img-thumbnail\">\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.carouselInputImages[i] = $event.target.files[0]\">\n              <div *ngIf=\"uploadingCarousel === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : carouselUploadPercents[i] | async}\">\n                {{ carouselUploadPercents[i] | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect (click)=\"uploadCarouselFile()\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_paragraph=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 本屆炫光 內容編輯 </h4>\n            <button id=\"form-paragraph-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_paragraph.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingParagraph.img }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #paragraph type=\"text\" class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingParagraph.content }}\">\n                  </textarea>\n                </div>\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingParagraph.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"addParagraph(paragraph.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"deleteParagraph()\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"updateParagraph(paragraph.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class AdministratorPagePlanCurrentComponent implements OnInit, OnDestroy {\n  uploadingCarousel = false;\n  carouselImageList: Observable<string[]>;\n  carouselInputImages: HTMLInputElement[] = new Array(1);\n  carouselUploadPercents: Observable<string>[] = new Array(1);\n\n  private _uploadedImgUrl: string;\n  private paragraphListSubscription;\n  editingParagraph = new ParagraphModel('', '');\n  newParagraph = new ParagraphModel('', '');\n  paragraphList: ParagraphModel[] = [];\n  uploadPercent: Observable<string>;\n  inputImage: HTMLInputElement;\n  uploading = false;\n\n  @Input()\n  set uploadedImgUrl(url: string) {\n    if (this.uploadedImgUrl !== url) {\n      this._uploadedImgUrl = url;\n      this.database.object('plan/current/paragraphList/' + this.editingParagraph.key)\n        .update({ content: this.editingParagraph.content, img : url })\n        .then(_ => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-paragraph-close-btn') as HTMLElement).click();\n        }, reason => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-paragraph-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n  get uploadedImgUrl() {\n    return this._uploadedImgUrl;\n  }\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router) {\n    this.settingService.path$.next(this.router.url);\n    this.getCarouselImageList();\n  }\n  ngOnInit() {\n    this.paragraphListSubscription = this.database.list('plan/current/paragraphList').snapshotChanges()\n      .subscribe(results => {\n        this.paragraphList = results.map(element => {\n          return new ParagraphModel(element.payload.val(), element.key);\n        });\n      });\n  }\n  ngOnDestroy() {\n    this.paragraphListSubscription.unsubscribe();\n  }\n\n  private getCarouselImageList() {\n    this.carouselImageList = zip(\n      this.storage.ref('plan/current/carousel/image_0').getDownloadURL().pipe(catchError(_ => of(''))));\n  }\n  deleteCarouselFile(elementRef: ElementRef, index: number) {\n    this.storage.ref('plan/current/carousel/image_' + index).delete();\n    this.getCarouselImageList();\n  }\n  uploadCarouselFile() {\n    this.uploadingCarousel = true;\n    const observableList$: Observable<string>[] = [];\n    this.carouselInputImages.forEach((image, index) => {\n      const task = this.storage.ref('plan/current/carousel/image_' + index).put(image);\n      this.carouselUploadPercents[index] =  task.percentageChanges().pipe(\n        map((number) => number + '%')\n      );\n      observableList$.push(this.carouselUploadPercents[index]);\n    });\n    zip(...observableList$)\n      .subscribe(value => {\n        let check = true;\n        for (const element of value) {\n          if (element !== '100%') {\n            check = false;\n          }\n        }\n        if (check) {\n          (document.getElementById('form-carousel-close-btn') as HTMLElement).click();\n          this.getCarouselImageList();\n        }\n      });\n  }\n  deleteParagraph() {\n    this.storage.ref('plan/current/paragraphList/image_' + this.editingParagraph.key).delete();\n    this.database.object('plan/current/paragraphList/' + this.editingParagraph.key).remove().then( _ => {\n      (document.getElementById('form-paragraph-close-btn') as HTMLElement).click();\n    });\n  }\n  addParagraph(text: string) {\n    if (this.inputImage) {\n      this.uploading = true;\n      this.database.list('plan/current/paragraphList')\n        .push({content: text, img: 'imageUploading'})\n        .then(result => {\n          this.editingParagraph.content = text;\n          this.editingParagraph.key = result.key;\n          const fileRef = 'plan/current/paragraphList/image_' + result.key;\n          const task = this.storage.upload(fileRef, this.inputImage);\n          this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n            map((number) => {\n              if (number === 100) {\n                this.storage.ref(fileRef)\n                  .getDownloadURL()\n                  .pipe(delay(1000))\n                  .pipe(retry(2))\n                  .subscribe(value => {\n                    this.uploadedImgUrl = value;\n                  });\n              }\n              return number + '%';\n            })\n          );\n        });\n    } else {\n      alert('請選擇一張圖片');\n    }\n  }\n  updateParagraph(text: string) {\n    if (this.inputImage) {\n      this.uploading = true;\n      const fileRef = 'plan/current/paragraphList/image_' + this.editingParagraph.key;\n      const task = this.storage.upload(fileRef, this.inputImage);\n      this.editingParagraph.content = text;\n      this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n        map((number) => {\n          if (number === 100) {\n            this.storage.ref(fileRef)\n              .getDownloadURL()\n              .pipe(delay(1000))\n              .pipe(retry(2))\n              .subscribe(value => {\n                this.uploadedImgUrl = value;\n              });\n          }\n          return number + '%';\n        })\n      );\n    } else {\n      this.database.object('plan/current/paragraphList/' + this.editingParagraph.key)\n        .update({ content: text })\n        .then(_ => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-paragraph-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n}\n","\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"歷屆炫光\" topImage=false></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let history of historyList\">\n      <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n        <div class=\"row\">\n          <div class=\"col-11\">\n            <div class=\"float-right\"\n                 (click)=\"this.inputImage = null; this.editingHistory = history; form_edit.show();\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-edit\"> </i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-md-8 col-sm-12\">\n            <a routerLink=\"/administrator/plan/history/{{history.key}}\">\n              <app-image-ratio-component image=\"{{ history.imgUrl }}\" ratio=\"3:1\">\n              </app-image-ratio-component>\n            </a>\n          </div>\n          <div class=\"col-md-4 col-sm-12\">\n            <h2>{{ history.title }}</h2>\n            <strong>{{ history.subTitle }}</strong>\n            <div *ngFor=\"let text of history.content|stringNewLine\">\n              {{ text }}<br>\n            </div>\n          </div>\n        </div>\n      </div>\n      <app-separate-right-component></app-separate-right-component>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\"\n             (click)=\"this.inputImage = null; this.editingHistory = newHistory; form_edit.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div mdbModal #form_edit=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\" *ngIf=\"editingHistory.key != ''\"><i class=\"fa fa-pencil\"></i> 編輯歷屆炫光 </h4>\n            <h4 class=\"title\" *ngIf=\"editingHistory.key == ''\"><i class=\"fa fa-pencil\"></i> 新增歷屆炫光 </h4>\n            <button id=\"form-edit-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_edit.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <input #title type=\"text\" class=\"form-control\"\n                     placeholder=\"標題\" value=\"{{ editingHistory.title }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <input #subTitle type=\"text\" class=\"form-control\"\n                     placeholder=\"副標題\" value=\"{{ editingHistory.subTitle }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <input #date type=\"date\" class=\"form-control\" placeholder=\"時間\" value=\"{{ editingHistory.date }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingHistory.imgUrl }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #content mdbInputDirective type=\"text\"\n                            class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingHistory.content }}\"></textarea>\n                </div>\n              </div>\n              <input #fileInput mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingHistory.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"add(date.value, title.value, subTitle.value, content.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingHistory.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"delete(editingHistory.key)\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingHistory.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"update(date.value, title.value, subTitle.value, content.value, editingHistory.key)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ","import {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {SettingService} from '../core/setting.service';\nimport {HistoryModel} from '../model/history.model';\nimport {Component, OnDestroy} from '@angular/core';\nimport {delay, map, retry} from 'rxjs/operators';\nimport {Observable, Subscription} from 'rxjs';\nimport {Router} from '@angular/router';\n\n@Component({\n  template: `\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"歷屆炫光\" topImage=false></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let history of historyList\">\n      <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n        <div class=\"row\">\n          <div class=\"col-11\">\n            <div class=\"float-right\"\n                 (click)=\"this.inputImage = null; this.editingHistory = history; form_edit.show();\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-edit\"> </i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-md-8 col-sm-12\">\n            <a routerLink=\"/administrator/plan/history/{{history.key}}\">\n              <app-image-ratio-component image=\"{{ history.imgUrl }}\" ratio=\"3:1\">\n              </app-image-ratio-component>\n            </a>\n          </div>\n          <div class=\"col-md-4 col-sm-12\">\n            <h2>{{ history.title }}</h2>\n            <strong>{{ history.subTitle }}</strong>\n            <div *ngFor=\"let text of history.content|stringNewLine\">\n              {{ text }}<br>\n            </div>\n          </div>\n        </div>\n      </div>\n      <app-separate-right-component></app-separate-right-component>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\"\n             (click)=\"this.inputImage = null; this.editingHistory = newHistory; form_edit.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div mdbModal #form_edit=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\" *ngIf=\"editingHistory.key != ''\"><i class=\"fa fa-pencil\"></i> 編輯歷屆炫光 </h4>\n            <h4 class=\"title\" *ngIf=\"editingHistory.key == ''\"><i class=\"fa fa-pencil\"></i> 新增歷屆炫光 </h4>\n            <button id=\"form-edit-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_edit.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <input #title type=\"text\" class=\"form-control\"\n                     placeholder=\"標題\" value=\"{{ editingHistory.title }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <input #subTitle type=\"text\" class=\"form-control\"\n                     placeholder=\"副標題\" value=\"{{ editingHistory.subTitle }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <input #date type=\"date\" class=\"form-control\" placeholder=\"時間\" value=\"{{ editingHistory.date }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingHistory.imgUrl }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #content mdbInputDirective type=\"text\"\n                            class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingHistory.content }}\"></textarea>\n                </div>\n              </div>\n              <input #fileInput mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingHistory.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"add(date.value, title.value, subTitle.value, content.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingHistory.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"delete(editingHistory.key)\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingHistory.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"update(date.value, title.value, subTitle.value, content.value, editingHistory.key)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class AdministratorPagePlanHistoryComponent implements OnDestroy {\n  uploading = false;\n  newHistory = new HistoryModel('', '');\n  editingHistory = new HistoryModel('', '');\n  historySubscription: Subscription;\n  historyList: HistoryModel[];\n  inputImage: HTMLInputElement;\n  uploadPercent: Observable<string>;\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router) {\n    this.settingService.path$.next(this.router.url);\n    this.getInfo();\n  }\n  ngOnDestroy () {\n    if (this.historySubscription) {\n      this.historySubscription.unsubscribe();\n    }\n  }\n  getInfo() {\n    if (this.historySubscription) {\n      this.historySubscription.unsubscribe();\n    }\n    this.historySubscription = this.database\n      .list('plan/history', ref => ref.orderByChild('date'))\n      .snapshotChanges()\n      .pipe(map(action => {\n        return action.map(json => new HistoryModel(json.payload.val(), json.key));\n      }))\n      .subscribe(results => {\n        this.historyList = results.reverse();\n      });\n  }\n  add(date: string, title: string, subTitle: string, content: string) {\n    let latestKey = 0;\n    for (const model of this.historyList) {\n      if (Number(model.key) > latestKey) {\n        latestKey = Number(model.key);\n      }\n    }\n    if (this.inputImage) {\n      this.uploading = true;\n      const fileRef = 'plan/history/image_' + (latestKey + 1);\n      const task = this.storage.upload(fileRef, this.inputImage);\n      this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n        map((number) => {\n          if (number === 100) {\n            this.storage.ref(fileRef)\n              .getDownloadURL()\n              .pipe(delay(1000))\n              .pipe(retry(2))\n              .subscribe(value => {\n                this.database.object('plan/history/' + (latestKey + 1))\n                  .set({title: title, subTitle: subTitle, content: content, imgUrl: value, date: date})\n                  .then(_ => {\n                    this.uploading = false;\n                    (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n                  });\n              });\n          }\n          return number + '%';\n        })\n      );\n    } else {\n      alert('請選擇一張圖片');\n    }\n  }\n  update(date: string, title: string, subTitle: string, content: string, key: string) {\n    if (this.inputImage) {\n      this.uploading = true;\n      const fileRef = 'plan/history/image_' + key;\n      const task = this.storage.upload(fileRef, this.inputImage);\n      this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n        map((number) => {\n          if (number === 100) {\n            this.storage.ref(fileRef)\n              .getDownloadURL()\n              .pipe(delay(1000))\n              .pipe(retry(2))\n              .subscribe(value => {\n                this.database.object('plan/history/' + key)\n                  .update({title: title, subTitle: subTitle, content: content, imgUrl: value, date: date })\n                  .then(_ => {\n                    this.uploading = false;\n                    (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n                  });\n              });\n          }\n          return number + '%';\n        })\n      );\n    } else {\n      this.database.object('plan/history/' + key)\n        .update({title: title, subTitle: subTitle, content: content, date: date })\n        .then(_ => {\n          (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n  delete(key: string) {\n    this.storage.ref('plan/history/image_' + key).delete();\n    this.database.object('plan/history/' + key).remove().then( _ => {\n      (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n    });\n  }\n}\n","\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <app-page-title-component title=\"歷屆炫光 - {{ history.title }}\"></app-page-title-component>\n    </div>\n    <ng-container *ngFor=\"let paragraph of history.paragraphList; let i = index\">\n      <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n        <div class=\"row\">\n          <div class=\"col-11\">\n            <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingParagraph = paragraph; form_paragraph.show()\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-edit\"> </i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"歷屆炫光 - {{ history.title }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"歷屆炫光 - {{ history.title }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\"\n             (click)=\"this.inputImage = null; newParagraph.key = ''; this.editingParagraph = newParagraph; form_paragraph.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div class=\"container\">\n      <div class=\"float-right\" (click)=\"form_iframe.show();\">\n        <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n          <i class=\"fa fa-file-video-o\"> </i>\n        </a>\n      </div>\n      <div *ngIf=\"embedVideoUrl\" class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" [src]=\"embedVideoUrl\" allowfullscreen>\n        </iframe>\n      </div>\n    </div>\n\n    <div mdbModal #form_paragraph=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 歷屆炫光 - {{ history.title }} 內容編輯 </h4>\n            <button id=\"form-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_paragraph.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingParagraph.img }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #paragraph type=\"text\" class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingParagraph.content }}\">\n                  </textarea>\n                </div>\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingParagraph.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"addParagraph(paragraph.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"deleteParagraph()\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"updateParagraph(paragraph.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_iframe=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 歷屆炫光 {{ history.title }} 嵌入影片 編輯 </h4>\n            <button id=\"form-iframe-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_iframe.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <input #iframe type=\"text\" class=\"form-control\" value=\"{{ this.embedVideoUrlString }}\"\n                     placeholder=\"嵌入連結\">\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect (click)=\"updateEmbedVideoUrl(iframe.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ","import {catchError, delay, flatMap, map, retry} from 'rxjs/operators';\nimport {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {DomSanitizer, SafeUrl} from '@angular/platform-browser';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {ParagraphModel} from '../model/paragraph.model';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {SettingService} from '../core/setting.service';\nimport {HistoryModel} from '../model/history.model';\nimport {Observable, of, zip} from 'rxjs';\n\n@Component({\n  template: `\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <app-page-title-component title=\"歷屆炫光 - {{ history.title }}\"></app-page-title-component>\n    </div>\n    <ng-container *ngFor=\"let paragraph of history.paragraphList; let i = index\">\n      <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n        <div class=\"row\">\n          <div class=\"col-11\">\n            <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingParagraph = paragraph; form_paragraph.show()\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-edit\"> </i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"歷屆炫光 - {{ history.title }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"歷屆炫光 - {{ history.title }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\"\n             (click)=\"this.inputImage = null; newParagraph.key = ''; this.editingParagraph = newParagraph; form_paragraph.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div class=\"container\">\n      <div class=\"float-right\" (click)=\"form_iframe.show();\">\n        <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n          <i class=\"fa fa-file-video-o\"> </i>\n        </a>\n      </div>\n      <div *ngIf=\"embedVideoUrl\" class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" [src]=\"embedVideoUrl\" allowfullscreen>\n        </iframe>\n      </div>\n    </div>\n\n    <div mdbModal #form_paragraph=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 歷屆炫光 - {{ history.title }} 內容編輯 </h4>\n            <button id=\"form-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_paragraph.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingParagraph.img }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #paragraph type=\"text\" class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingParagraph.content }}\">\n                  </textarea>\n                </div>\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingParagraph.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"addParagraph(paragraph.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"deleteParagraph()\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"updateParagraph(paragraph.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_iframe=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 歷屆炫光 {{ history.title }} 嵌入影片 編輯 </h4>\n            <button id=\"form-iframe-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_iframe.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <input #iframe type=\"text\" class=\"form-control\" value=\"{{ this.embedVideoUrlString }}\"\n                     placeholder=\"嵌入連結\">\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect (click)=\"updateEmbedVideoUrl(iframe.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class AdministratorPagePlanHistoryDetailComponent implements OnInit, OnDestroy {\n  private _uploadedImgUrl: string;\n  private historySubscription;\n  private routerSubscription;\n  private _id: string;\n\n  editingParagraph = new ParagraphModel('', '');\n  newParagraph = new ParagraphModel('', '');\n  history = new HistoryModel('', '');\n  carouselImageList: Observable<string[]>;\n  uploadPercent: Observable<string>;\n  inputImage: HTMLInputElement;\n  embedVideoUrlSubscription;\n  embedVideoUrlString = '';\n  embedVideoUrl: SafeUrl;\n  uploading = false;\n\n  @Input()\n  set id(id: string) {\n    this._id = id;\n    this.carouselImageList = zip(\n      this.storage.ref('plan/history/image_' + id).getDownloadURL().pipe(catchError(_ => of('')))\n    );\n    this.historySubscription = this.database.object('plan/history/' + id).snapshotChanges().pipe(\n      flatMap(results => {\n        this.history = new HistoryModel(results.payload.val(), results.key);\n        return this.database.list('plan/history/' + id + '/paragraphList').snapshotChanges();\n      }))\n      .subscribe(results => {\n        results.forEach(element => {\n          this.history.paragraphList.push(new ParagraphModel(element.payload.val(), element.key));\n        });\n      });\n    this.embedVideoUrlSubscription = this.database.object('plan/history/' + this.id + '/embedVideoUrl').snapshotChanges()\n      .subscribe(results => {\n        this.embedVideoUrlString = String(results.payload.val());\n        if (this.embedVideoUrlString !== '' && this.embedVideoUrlString !== 'null') {\n          this.embedVideoUrl = this.sanitizer.bypassSecurityTrustResourceUrl(this.embedVideoUrlString);\n        } else {\n          this.embedVideoUrl = null;\n        }\n      });\n  }\n  get id() {\n    return this._id;\n  }\n\n  @Input()\n  set uploadedImgUrl(url: string) {\n    if (this.uploadedImgUrl !== url) {\n      this._uploadedImgUrl = url;\n      this.database.object('plan/history/' + this.id + '/paragraphList/' + this.editingParagraph.key)\n        .update({ content: this.editingParagraph.content, img : url })\n        .then(_ => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-close-btn') as HTMLElement).click();\n        }, reason => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n  get uploadedImgUrl() {\n    return this._uploadedImgUrl;\n  }\n\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router,\n              private route: ActivatedRoute,\n              private sanitizer: DomSanitizer) {\n    this.settingService.path$.next(this.router.url);\n  }\n  addParagraph(text: string) {\n    if (this.inputImage) {\n      this.uploading = true;\n      this.database.list('plan/history/' + this.id + '/paragraphList')\n        .push({content: text, img: 'imageUploading'})\n        .then(result => {\n          this.editingParagraph.content = text;\n          this.editingParagraph.key = result.key;\n          const fileRef = 'plan/history/' + this.id + '/paragraphList/image_' + result.key;\n          const task = this.storage.upload(fileRef, this.inputImage);\n          this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n            map((number) => {\n              if (number === 100) {\n                this.storage.ref(fileRef)\n                  .getDownloadURL()\n                  .pipe(delay(1000))\n                  .pipe(retry(2))\n                  .subscribe(value => {\n                    this.uploadedImgUrl = value;\n                  });\n              }\n              return number + '%';\n            })\n          );\n        });\n    } else {\n      alert('請選擇一張圖片');\n    }\n  }\n  deleteParagraph() {\n    this.storage.ref('plan/history/' + this.id + '/paragraphList/image_' + this.editingParagraph.key).delete();\n    this.database.object('plan/history/' + this.id + '/paragraphList/' + this.editingParagraph.key).remove().then( _ => {\n      (document.getElementById('form-close-btn') as HTMLElement).click();\n    });\n  }\n  updateParagraph(text: string) {\n    if (this.inputImage) {\n      this.uploading = true;\n      const fileRef = 'plan/history/' + this.id + '/paragraphList/image_' + this.editingParagraph.key;\n      const task = this.storage.upload(fileRef, this.inputImage);\n      this.editingParagraph.content = text;\n      this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n        map((number) => {\n          if (number === 100) {\n            this.storage.ref(fileRef)\n              .getDownloadURL()\n              .pipe(delay(1000))\n              .pipe(retry(2))\n              .subscribe(value => {\n                this.uploadedImgUrl = value;\n              });\n          }\n          return number + '%';\n        })\n      );\n    } else {\n      this.database.object('plan/history/' + this.id + '/paragraphList/' + this.editingParagraph.key)\n        .update({ content: text })\n        .then(_ => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n\n  updateEmbedVideoUrl(url: string) {\n    this.database.object('plan/history/' + this.id)\n      .update({ embedVideoUrl: url })\n      .then(_ => {\n        (document.getElementById('form-iframe-close-btn') as HTMLElement).click();\n      });\n  }\n\n  ngOnInit() {\n    this.routerSubscription = this.route\n      .params\n      .subscribe(param => {\n        this.id = String(+param['id']);\n      });\n  }\n\n  ngOnDestroy() {\n    this.routerSubscription.unsubscribe();\n    this.historySubscription.unsubscribe();\n    this.embedVideoUrlSubscription.unsubscribe();\n  }\n}\n","\n    <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-11\">\n          <div class=\"float-right\" (click)=\"form_carousel.show()\">\n            <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n              <i class=\"fa fa-edit\"> </i>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"炫光緣起\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of paragraphList; let i = index\">\n      <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n        <div class=\"row\">\n          <div class=\"col-11\">\n            <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingParagraph = paragraph; form_paragraph.show()\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-edit\"> </i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"炫光緣起 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"炫光緣起 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\"\n             (click)=\"this.inputImage = null; newParagraph.key = ''; this.editingParagraph = newParagraph; form_paragraph.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_carousel=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 炫光緣起輪播圖片編輯 </h4>\n            <button id=\"form-carousel-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_carousel.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\" *ngFor=\"let image of carouselImageList|async; let i = index\">\n              <i class=\"fa fa-picture-o\"> 圖片 {{i + 1}} </i>\n              <div *ngIf=\"image !== ''\">\n                <button class=\"btn btn-primary waves-light\" mdbWavesEffect (click)=\"deleteCarouselFile(thumbnail, i)\">\n                  <i class=\"fa fa-trash-o mr-1\"></i> Delete\n                </button>\n                <img #thumbnail src=\"{{ image }}\" class=\"img-thumbnail\">\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.carouselInputImages[i] = $event.target.files[0]\">\n              <div *ngIf=\"uploadingCarousel === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : carouselUploadPercents[i] | async}\">\n                {{ carouselUploadPercents[i] | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect (click)=\"uploadCarouselFile()\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_paragraph=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 炫光緣起 內容編輯 </h4>\n            <button id=\"form-paragraph-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_paragraph.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingParagraph.img }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #paragraph type=\"text\" class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingParagraph.content }}\">\n                  </textarea>\n                </div>\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingParagraph.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"addParagraph(paragraph.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"deleteParagraph()\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"updateParagraph(paragraph.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ","import {Component, ElementRef, Input, OnDestroy, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {Observable, of, zip} from 'rxjs';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {catchError, delay, map, retry} from 'rxjs/operators';\nimport {SettingService} from '../core/setting.service';\nimport {ParagraphModel} from '../model/paragraph.model';\n\n@Component({\n  template: `\n    <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-11\">\n          <div class=\"float-right\" (click)=\"form_carousel.show()\">\n            <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n              <i class=\"fa fa-edit\"> </i>\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"炫光緣起\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of paragraphList; let i = index\">\n      <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n        <div class=\"row\">\n          <div class=\"col-11\">\n            <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingParagraph = paragraph; form_paragraph.show()\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-edit\"> </i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"炫光緣起 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"炫光緣起 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\"\n             (click)=\"this.inputImage = null; newParagraph.key = ''; this.editingParagraph = newParagraph; form_paragraph.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_carousel=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 炫光緣起輪播圖片編輯 </h4>\n            <button id=\"form-carousel-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_carousel.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\" *ngFor=\"let image of carouselImageList|async; let i = index\">\n              <i class=\"fa fa-picture-o\"> 圖片 {{i + 1}} </i>\n              <div *ngIf=\"image !== ''\">\n                <button class=\"btn btn-primary waves-light\" mdbWavesEffect (click)=\"deleteCarouselFile(thumbnail, i)\">\n                  <i class=\"fa fa-trash-o mr-1\"></i> Delete\n                </button>\n                <img #thumbnail src=\"{{ image }}\" class=\"img-thumbnail\">\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.carouselInputImages[i] = $event.target.files[0]\">\n              <div *ngIf=\"uploadingCarousel === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : carouselUploadPercents[i] | async}\">\n                {{ carouselUploadPercents[i] | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect (click)=\"uploadCarouselFile()\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_paragraph=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 炫光緣起 內容編輯 </h4>\n            <button id=\"form-paragraph-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_paragraph.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingParagraph.img }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #paragraph type=\"text\" class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingParagraph.content }}\">\n                  </textarea>\n                </div>\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingParagraph.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"addParagraph(paragraph.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"deleteParagraph()\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"updateParagraph(paragraph.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class AdministratorPagePlanOriginComponent implements OnInit, OnDestroy {\n  uploadingCarousel = false;\n  carouselImageList: Observable<string[]>;\n  carouselInputImages: HTMLInputElement[] = new Array(1);\n  carouselUploadPercents: Observable<string>[] = new Array(1);\n\n  private _uploadedImgUrl: string;\n  private paragraphListSubscription;\n  editingParagraph = new ParagraphModel('', '');\n  newParagraph = new ParagraphModel('', '');\n  paragraphList: ParagraphModel[] = [];\n  uploadPercent: Observable<string>;\n  inputImage: HTMLInputElement;\n  uploading = false;\n\n  @Input()\n  set uploadedImgUrl(url: string) {\n    if (this.uploadedImgUrl !== url) {\n      this._uploadedImgUrl = url;\n      this.database.object('plan/origin/paragraphList/' + this.editingParagraph.key)\n        .update({ content: this.editingParagraph.content, img : url })\n        .then(_ => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-paragraph-close-btn') as HTMLElement).click();\n        }, reason => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-paragraph-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n  get uploadedImgUrl() {\n    return this._uploadedImgUrl;\n  }\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router) {\n    this.settingService.path$.next(this.router.url);\n    this.getCarouselImageList();\n  }\n  ngOnInit() {\n    this.paragraphListSubscription = this.database.list('plan/origin/paragraphList').snapshotChanges()\n      .subscribe(results => {\n        this.paragraphList = results.map(element => {\n          return new ParagraphModel(element.payload.val(), element.key);\n        });\n      });\n  }\n  ngOnDestroy() {\n    this.paragraphListSubscription.unsubscribe();\n  }\n\n  private getCarouselImageList() {\n    this.carouselImageList = zip(\n      this.storage.ref('plan/origin/carousel/image_0').getDownloadURL().pipe(catchError(_ => of(''))));\n  }\n  deleteCarouselFile(elementRef: ElementRef, index: number) {\n    this.storage.ref('plan/origin/carousel/image_' + index).delete();\n    this.getCarouselImageList();\n  }\n  uploadCarouselFile() {\n    this.uploadingCarousel = true;\n    const observableList$: Observable<string>[] = [];\n    this.carouselInputImages.forEach((image, index) => {\n      const task = this.storage.ref('plan/origin/carousel/image_' + index).put(image);\n      this.carouselUploadPercents[index] =  task.percentageChanges().pipe(\n        map((number) => number + '%')\n      );\n      observableList$.push(this.carouselUploadPercents[index]);\n    });\n    zip(...observableList$)\n      .subscribe(value => {\n        let check = true;\n        for (const element of value) {\n          if (element !== '100%') {\n            check = false;\n          }\n        }\n        if (check) {\n          (document.getElementById('form-carousel-close-btn') as HTMLElement).click();\n          this.getCarouselImageList();\n        }\n      });\n  }\n  deleteParagraph() {\n    this.storage.ref('plan/origin/paragraphList/image_' + this.editingParagraph.key).delete();\n    this.database.object('plan/origin/paragraphList/' + this.editingParagraph.key).remove().then( _ => {\n      (document.getElementById('form-paragraph-close-btn') as HTMLElement).click();\n    });\n  }\n  addParagraph(text: string) {\n    if (this.inputImage) {\n      this.uploading = true;\n      this.database.list('plan/origin/paragraphList')\n        .push({content: text, img: 'imageUploading'})\n        .then(result => {\n          this.editingParagraph.content = text;\n          this.editingParagraph.key = result.key;\n          const fileRef = 'plan/origin/paragraphList/image_' + result.key;\n          const task = this.storage.upload(fileRef, this.inputImage);\n          this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n            map((number) => {\n              if (number === 100) {\n                this.storage.ref(fileRef)\n                  .getDownloadURL()\n                  .pipe(delay(1000))\n                  .pipe(retry(2))\n                  .subscribe(value => {\n                    this.uploadedImgUrl = value;\n                  });\n              }\n              return number + '%';\n            })\n          );\n        });\n    } else {\n      alert('請選擇一張圖片');\n    }\n  }\n  updateParagraph(text: string) {\n    if (this.inputImage) {\n      this.uploading = true;\n      const fileRef = 'plan/origin/paragraphList/image_' + this.editingParagraph.key;\n      const task = this.storage.upload(fileRef, this.inputImage);\n      this.editingParagraph.content = text;\n      this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n        map((number) => {\n          if (number === 100) {\n            this.storage.ref(fileRef)\n              .getDownloadURL()\n              .pipe(delay(1000))\n              .pipe(retry(2))\n              .subscribe(value => {\n                this.uploadedImgUrl = value;\n              });\n          }\n          return number + '%';\n        })\n      );\n    } else {\n      this.database.object('plan/origin/paragraphList/' + this.editingParagraph.key)\n        .update({ content: text })\n        .then(_ => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-paragraph-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n}\n","\n    <div class=\"container mb-5\">\n      <app-page-title-component title=\"活動預告\" topImage=false></app-page-title-component>\n      <div class=\"row align-items-center\">\n        <div class=\"col-xl-5 col-lg-12\">\n          <input #searchField type=\"text\" class=\"form-control\" placeholder=\"搜尋活動關鍵字\">\n        </div>\n        <div class=\"col-xl-7 col-lg-12\">\n          <div class=\"row align-items-center justify-content-between no-gutters\">\n            <div class=\"col-xl-auto col-lg-4 col-md-4 col-sm-4 col-5\">\n              <input type=\"date\" class=\"form-control\" [(ngModel)]=\"dateFrom\">\n            </div>\n            <label class=\"d-inline\" style=\"margin-top: 10px\">-</label>\n            <div class=\"col-xl-auto col-lg-4 col-md-4 col-sm-4 col-5\">\n              <input type=\"date\" class=\"form-control\" [(ngModel)]=\"dateTo\">\n            </div>\n            <div class=\"col-xl-auto col-lg-auto col-md-auto col-sm-auto col-12\">\n              <button type=\"button\" (click)=\"this.search(searchField.value)\" class=\"btn btn-primary waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-search\"> 搜尋 </i></button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let event of eventList\">\n      <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n        <div class=\"row\">\n          <div class=\"col-11\">\n            <div class=\"float-right\"\n                 (click)=\"this.inputImage = null; this.editingEvent = event; form_edit.show();\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-edit\"> </i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-md-8 col-sm-12\">\n            <a routerLink=\"/administrator/school/calendar/{{event.key}}\">\n              <app-image-ratio-component image=\"{{ event.imgUrl }}\" ratio=\"3:1\">\n              </app-image-ratio-component>\n            </a>\n          </div>\n          <div class=\"col-md-4 col-sm-12\">\n            <h2>{{ event.title }}</h2>\n            <strong>{{ event.subTitle }}</strong>\n            <div *ngFor=\"let text of event.content|stringNewLine\">\n              {{ text }}<br>\n            </div>\n          </div>\n        </div>\n      </div>\n      <app-separate-right-component></app-separate-right-component>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\" (click)=\"this.inputImage = null; this.editingEvent = newEvent; form_edit.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div mdbModal #form_edit=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\" *ngIf=\"editingEvent.key != ''\"><i class=\"fa fa-pencil\"></i> 編輯活動預告 </h4>\n            <h4 class=\"title\" *ngIf=\"editingEvent.key == ''\"><i class=\"fa fa-pencil\"></i> 新增活動預告 </h4>\n            <button id=\"form-edit-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_edit.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <input #title type=\"text\" class=\"form-control\"\n                     placeholder=\"標題\" value=\"{{ editingEvent.title }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <input #subTitle type=\"text\" class=\"form-control\"\n                     placeholder=\"副標題\" value=\"{{ editingEvent.subTitle }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <input #date type=\"date\" class=\"form-control\"\n                     placeholder=\"時間\" value=\"{{ editingEvent.date }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingEvent.imgUrl }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #content mdbInputDirective type=\"text\"\n                            class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingEvent.content }}\"></textarea>\n                </div>\n              </div>\n              <input #fileInput mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingEvent.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"add(date.value, title.value, subTitle.value, content.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingEvent.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"delete(editingEvent.key)\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingEvent.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"update(date.value, title.value, subTitle.value, content.value, editingEvent.key)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ","import {AngularFireDatabase} from 'angularfire2/database';\nimport {delay, flatMap, map, retry} from 'rxjs/operators';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {SettingService} from '../core/setting.service';\nimport {Observable, Subject, Subscription} from 'rxjs';\nimport {Component, OnDestroy} from '@angular/core';\nimport {EventModel} from '../model/event.model';\nimport {Router} from '@angular/router';\n\n@Component({\n  template: `\n    <div class=\"container mb-5\">\n      <app-page-title-component title=\"活動預告\" topImage=false></app-page-title-component>\n      <div class=\"row align-items-center\">\n        <div class=\"col-xl-5 col-lg-12\">\n          <input #searchField type=\"text\" class=\"form-control\" placeholder=\"搜尋活動關鍵字\">\n        </div>\n        <div class=\"col-xl-7 col-lg-12\">\n          <div class=\"row align-items-center justify-content-between no-gutters\">\n            <div class=\"col-xl-auto col-lg-4 col-md-4 col-sm-4 col-5\">\n              <input type=\"date\" class=\"form-control\" [(ngModel)]=\"dateFrom\">\n            </div>\n            <label class=\"d-inline\" style=\"margin-top: 10px\">-</label>\n            <div class=\"col-xl-auto col-lg-4 col-md-4 col-sm-4 col-5\">\n              <input type=\"date\" class=\"form-control\" [(ngModel)]=\"dateTo\">\n            </div>\n            <div class=\"col-xl-auto col-lg-auto col-md-auto col-sm-auto col-12\">\n              <button type=\"button\" (click)=\"this.search(searchField.value)\" class=\"btn btn-primary waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-search\"> 搜尋 </i></button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let event of eventList\">\n      <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n        <div class=\"row\">\n          <div class=\"col-11\">\n            <div class=\"float-right\"\n                 (click)=\"this.inputImage = null; this.editingEvent = event; form_edit.show();\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-edit\"> </i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-md-8 col-sm-12\">\n            <a routerLink=\"/administrator/school/calendar/{{event.key}}\">\n              <app-image-ratio-component image=\"{{ event.imgUrl }}\" ratio=\"3:1\">\n              </app-image-ratio-component>\n            </a>\n          </div>\n          <div class=\"col-md-4 col-sm-12\">\n            <h2>{{ event.title }}</h2>\n            <strong>{{ event.subTitle }}</strong>\n            <div *ngFor=\"let text of event.content|stringNewLine\">\n              {{ text }}<br>\n            </div>\n          </div>\n        </div>\n      </div>\n      <app-separate-right-component></app-separate-right-component>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\" (click)=\"this.inputImage = null; this.editingEvent = newEvent; form_edit.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div mdbModal #form_edit=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\" *ngIf=\"editingEvent.key != ''\"><i class=\"fa fa-pencil\"></i> 編輯活動預告 </h4>\n            <h4 class=\"title\" *ngIf=\"editingEvent.key == ''\"><i class=\"fa fa-pencil\"></i> 新增活動預告 </h4>\n            <button id=\"form-edit-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_edit.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <input #title type=\"text\" class=\"form-control\"\n                     placeholder=\"標題\" value=\"{{ editingEvent.title }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <input #subTitle type=\"text\" class=\"form-control\"\n                     placeholder=\"副標題\" value=\"{{ editingEvent.subTitle }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <input #date type=\"date\" class=\"form-control\"\n                     placeholder=\"時間\" value=\"{{ editingEvent.date }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingEvent.imgUrl }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #content mdbInputDirective type=\"text\"\n                            class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingEvent.content }}\"></textarea>\n                </div>\n              </div>\n              <input #fileInput mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingEvent.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"add(date.value, title.value, subTitle.value, content.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingEvent.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"delete(editingEvent.key)\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingEvent.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"update(date.value, title.value, subTitle.value, content.value, editingEvent.key)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class AdministratorPageSchoolCalendarComponent implements OnDestroy {\n  dateTo = '';\n  dateFrom = '';\n  uploading = false;\n  searchIngKeyword = '';\n  searchKeyword$ = new Subject<string>();\n  queryObservable = this.searchKeyword$.pipe(\n    flatMap(keyword => {\n        this.searchIngKeyword = keyword;\n        if (this.dateFrom !== '' && this.dateTo !== '') {\n          return this.database.list('school/calendar', ref =>\n            ref.orderByChild('date').startAt(this.dateFrom).endAt(this.dateTo)).snapshotChanges();\n        } else if (this.dateFrom !== '') {\n          return this.database.list('school/calendar', ref =>\n            ref.orderByChild('date').startAt(this.dateFrom)).snapshotChanges();\n        } else if (this.dateTo !== '') {\n          return this.database.list('school/calendar', ref =>\n            ref.orderByChild('date').endAt(this.dateTo)).snapshotChanges();\n        } else {\n          return this.database.list('school/calendar', ref => ref.orderByChild('date')).snapshotChanges();\n        }\n      }\n    ))\n    .pipe(map(action => {\n      return action\n        .map(json => new EventModel(json.payload.val(), json.key))\n        .filter(value => {\n          if (this.searchIngKeyword === '') {\n            return true;\n          } else {\n            return value.title.indexOf(this.searchIngKeyword) >= 0;\n          }\n        });\n    }));\n  newEvent = new EventModel('', '');\n  editingEvent = new EventModel('', '');\n  eventSubscription: Subscription;\n  eventList: EventModel[];\n  inputImage: HTMLInputElement;\n  uploadPercent: Observable<string>;\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router) {\n    this.settingService.path$.next(this.router.url);\n    this.getInfo();\n    this.queryObservable.subscribe(results => {\n      this.eventList = results.reverse();\n    });\n  }\n  ngOnDestroy () {\n    if (this.eventSubscription) {\n      this.eventSubscription.unsubscribe();\n    }\n  }\n  getInfo() {\n    if (this.eventSubscription) {\n      this.eventSubscription.unsubscribe();\n    }\n    this.eventSubscription = this.database\n      .list('school/calendar', ref => ref.orderByChild('date'))\n      .snapshotChanges()\n      .pipe(map(action => {\n        return action.map(json => new EventModel(json.payload.val(), json.key));\n      }))\n      .subscribe(results => {\n        this.eventList = results.reverse();\n      });\n  }\n  search(keyword: string) {\n    this.searchKeyword$.next(keyword);\n  }\n  add(date: string, title: string, subTitle: string, content: string) {\n    let latestKey = 0;\n    for (const model of this.eventList) {\n      if (Number(model.key) > latestKey) {\n        latestKey = Number(model.key);\n      }\n    }\n    if (this.inputImage) {\n      this.uploading = true;\n      const fileRef = 'school/calendar/image_' + (latestKey + 1);\n      const task = this.storage.upload(fileRef, this.inputImage);\n      this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n        map((number) => {\n          if (number === 100) {\n            this.storage.ref(fileRef)\n              .getDownloadURL()\n              .pipe(delay(1000))\n              .pipe(retry(2))\n              .subscribe(value => {\n                this.database.object('school/calendar/' + (latestKey + 1))\n                  .set({ title: title, subTitle: subTitle, content: content, imgUrl: value, date: date })\n                  .then(_ => {\n                    this.uploading = false;\n                    (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n                  });\n              });\n          }\n          return number + '%';\n        })\n      );\n    } else {\n      alert('請選擇一張圖片');\n    }\n  }\n  update(date: string, title: string, subTitle: string, content: string, key: string) {\n    if (this.inputImage) {\n      this.uploading = true;\n      const fileRef = 'school/calendar/image_' + key;\n      const task = this.storage.upload(fileRef, this.inputImage);\n      this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n        map((number) => {\n          if (number === 100) {\n            this.storage.ref(fileRef)\n              .getDownloadURL()\n              .pipe(delay(1000))\n              .pipe(retry(2))\n              .subscribe(value => {\n                this.database.object('school/calendar/' + key)\n                  .update({title: title, subTitle: subTitle, content: content, imgUrl: value, date: date })\n                  .then(_ => {\n                    this.uploading = false;\n                    (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n                  });\n              });\n          }\n          return number + '%';\n        })\n      );\n    } else {\n      this.database.object('school/calendar/' + key)\n        .update({title: title, subTitle: subTitle, content: content, date: date })\n        .then(_ => {\n          (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n  delete(key: string) {\n    this.storage.ref('school/calendar/image_' + key).delete();\n    this.database.object('school/calendar/' + key).remove().then( _ => {\n      (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n    });\n  }\n}\n","\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"活動預告 - {{ event.title }}\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/school/calendar/form/{{event.key}}\">報名活動</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of event.paragraphList; let i = index\">\n      <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n        <div class=\"row\">\n          <div class=\"col-11\">\n            <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingParagraph = paragraph; form_paragraph.show()\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-edit\"> </i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"活動預告_{{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"活動預告_{{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\"\n             (click)=\"this.inputImage = null; newParagraph.key = ''; this.editingParagraph = newParagraph; form_paragraph.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_paragraph=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 活動預告 - {{ event.title }} 內容編輯 </h4>\n            <button id=\"form-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_paragraph.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingParagraph.img }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #paragraph type=\"text\"  class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingParagraph.content }}\">\n                  </textarea>\n                </div>\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingParagraph.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"addParagraph(paragraph.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"deleteParagraph()\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"updateParagraph(paragraph.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ","import {catchError, delay, flatMap, map, retry} from 'rxjs/operators';\nimport {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {ParagraphModel} from '../model/paragraph.model';\nimport {SettingService} from '../core/setting.service';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {EventModel} from '../model/event.model';\nimport {Observable, of, zip} from 'rxjs';\n\n@Component({\n  template: `\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"活動預告 - {{ event.title }}\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/school/calendar/form/{{event.key}}\">報名活動</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of event.paragraphList; let i = index\">\n      <div class=\"container-fluid\" style=\"position: absolute; z-index: 1\">\n        <div class=\"row\">\n          <div class=\"col-11\">\n            <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingParagraph = paragraph; form_paragraph.show()\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-edit\"> </i>\n              </a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"活動預告_{{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"活動預告_{{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\"\n             (click)=\"this.inputImage = null; newParagraph.key = ''; this.editingParagraph = newParagraph; form_paragraph.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_paragraph=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 活動預告 - {{ event.title }} 內容編輯 </h4>\n            <button id=\"form-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_paragraph.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingParagraph.img }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #paragraph type=\"text\"  class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingParagraph.content }}\">\n                  </textarea>\n                </div>\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingParagraph.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"addParagraph(paragraph.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"deleteParagraph()\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"updateParagraph(paragraph.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class AdministratorPageSchoolCalendarDetailComponent implements OnInit, OnDestroy {\n  private _uploadedImgUrl: string;\n  private eventSubscription;\n  private routerSubscription;\n  private _id: string;\n\n  editingParagraph = new ParagraphModel('', '');\n  newParagraph = new ParagraphModel('', '');\n  event = new EventModel('', '');\n  carouselImageList: Observable<string[]>;\n  uploadPercent: Observable<string>;\n  inputImage: HTMLInputElement;\n  uploading = false;\n\n  @Input()\n  set id(id: string) {\n    this._id = id;\n    this.carouselImageList = zip(\n      this.storage.ref('school/calendar/image_' + id).getDownloadURL().pipe(catchError(_ => of('')))\n    );\n    this.eventSubscription = this.database.object('school/calendar/' + id).snapshotChanges().pipe(\n      flatMap(results => {\n        this.event = new EventModel(results.payload.val(), results.key);\n        return this.database.list('school/calendar/' + id + '/paragraphList').snapshotChanges();\n      }))\n      .subscribe(results => {\n        results.forEach(element => {\n          this.event.paragraphList.push(new ParagraphModel(element.payload.val(), element.key));\n        });\n      });\n  }\n  get id() {\n    return this._id;\n  }\n\n  @Input()\n  set uploadedImgUrl(url: string) {\n    if (this.uploadedImgUrl !== url) {\n      this._uploadedImgUrl = url;\n      this.database.object('school/calendar/' + this.id + '/paragraphList/' + this.editingParagraph.key)\n        .update({ content: this.editingParagraph.content, img : url })\n        .then(_ => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-close-btn') as HTMLElement).click();\n        }, reason => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n  get uploadedImgUrl() {\n    return this._uploadedImgUrl;\n  }\n\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router,\n              private route: ActivatedRoute) {\n    this.settingService.path$.next(this.router.url);\n  }\n  addParagraph(text: string) {\n    if (this.inputImage) {\n      this.uploading = true;\n      this.database.list('school/calendar/' + this.id + '/paragraphList')\n        .push({content: text, img: 'imageUploading'})\n        .then(result => {\n          this.editingParagraph.content = text;\n          this.editingParagraph.key = result.key;\n          const fileRef = 'school/calendar/' + this.id + '/paragraphList/image_' + result.key;\n          const task = this.storage.upload(fileRef, this.inputImage);\n          this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n            map((number) => {\n              if (number === 100) {\n                this.storage.ref(fileRef)\n                  .getDownloadURL()\n                  .pipe(delay(1000))\n                  .pipe(retry(2))\n                  .subscribe(value => {\n                    this.uploadedImgUrl = value;\n                  });\n              }\n              return number + '%';\n            })\n          );\n        });\n    } else {\n      alert('請選擇一張圖片');\n    }\n  }\n  deleteParagraph() {\n    this.storage.ref('school/calendar/' + this.id + '/paragraphList/image_' + this.editingParagraph.key).delete();\n    this.database.object('school/calendar/' + this.id + '/paragraphList/' + this.editingParagraph.key).remove().then( _ => {\n      (document.getElementById('form-close-btn') as HTMLElement).click();\n    });\n  }\n  updateParagraph(text: string) {\n    if (this.inputImage) {\n      this.uploading = true;\n      const fileRef = 'school/calendar/' + this.id + '/paragraphList/image_' + this.editingParagraph.key;\n      const task = this.storage.upload(fileRef, this.inputImage);\n      this.editingParagraph.content = text;\n      this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n        map((number) => {\n          if (number === 100) {\n            this.storage.ref(fileRef)\n              .getDownloadURL()\n              .pipe(delay(1000))\n              .pipe(retry(2))\n              .subscribe(value => {\n                this.uploadedImgUrl = value;\n              });\n          }\n          return number + '%';\n        })\n      );\n    } else {\n      this.database.object('school/calendar/' + this.id + '/paragraphList/' + this.editingParagraph.key)\n        .update({ content: text })\n        .then(_ => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n  ngOnInit() {\n    this.routerSubscription = this.route\n      .params\n      .subscribe(param => {\n        this.id = String(+param['id']);\n      });\n  }\n\n  ngOnDestroy() {\n    this.routerSubscription.unsubscribe();\n    this.eventSubscription.unsubscribe();\n  }\n}\n","\n    <div class=\"container\">\n      <app-page-title-component title=\"歷屆花絮\" topImage=false></app-page-title-component>\n    </div>\n    <ng-container *ngFor=\"let gallery of galleryList; let i = index\">\n      <ng-container *ngIf=\"i % 2 === 0\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col-6\">\n              <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingGallery = gallery; form_edit.show();\">\n                <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                  <i class=\"fa fa-edit\"></i>\n                </a>\n              </div>\n            </div>\n            <div *ngIf=\"galleryList[i + 1]\" class=\"col-6\">\n              <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingGallery = galleryList[i + 1]; form_edit.show();\">\n                <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                  <i class=\"fa fa-edit\"></i>\n                </a>\n              </div>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-6\">\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  <a routerLink=\"/administrator/school/gallery/{{gallery.key}}\">\n                    <app-image-ratio-component image=\"{{ gallery.imgUrl }}\" ratio=\"1:1\">\n                    </app-image-ratio-component>\n                  </a>\n                </div>\n                <div class=\"col-md-6\">\n                  <h2>{{ gallery.title }}</h2>\n                  <strong>{{ gallery.subTitle }}</strong>\n                  <div *ngFor=\"let text of gallery.content|stringNewLine\">\n                    {{ text }}<br>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div *ngIf=\"galleryList[i + 1] != null\" class=\"col-6\">\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  <a routerLink=\"/administrator/school/gallery/{{galleryList[i + 1].key}}\">\n                    <app-image-ratio-component image=\"{{ galleryList[i + 1].imgUrl }}\" ratio=\"1:1\">\n                    </app-image-ratio-component>\n                  </a>\n                </div>\n                <div class=\"col-md-6\">\n                  <h2>{{ galleryList[i + 1].title }}</h2>\n                  <strong>{{ galleryList[i + 1].subTitle }}</strong>\n                  <div *ngFor=\"let text of galleryList[i + 1].content|stringNewLine\">\n                    {{ text }}<br>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\" (click)=\"this.inputImage = null; this.editingGallery = newGallery; form_edit.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div mdbModal #form_edit=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\" *ngIf=\"editingGallery.key != ''\"><i class=\"fa fa-pencil\"></i> 編輯歷屆花絮 </h4>\n            <h4 class=\"title\" *ngIf=\"editingGallery.key == ''\"><i class=\"fa fa-pencil\"></i> 新增歷屆花絮 </h4>\n            <button id=\"form-edit-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_edit.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <input #title type=\"text\" class=\"form-control\"\n                     placeholder=\"標題\" value=\"{{ editingGallery.title }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <input #subTitle type=\"text\" class=\"form-control\"\n                     placeholder=\"副標題\" value=\"{{ editingGallery.subTitle }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <input #date type=\"date\" class=\"form-control\"\n                     placeholder=\"時間\" value=\"{{ editingGallery.date }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingGallery.imgUrl }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #content mdbInputDirective type=\"text\"\n                            class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingGallery.content }}\"></textarea>\n                </div>\n              </div>\n              <input #fileInput mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingGallery.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"add(date.value, title.value, subTitle.value, content.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingGallery.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"delete(editingGallery.key)\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingGallery.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"update(date.value, title.value, subTitle.value, content.value, editingGallery.key)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ","import {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {SettingService} from '../core/setting.service';\nimport {GalleryModel} from '../model/gallery.model';\nimport {Component, OnDestroy} from '@angular/core';\nimport {delay, map, retry} from 'rxjs/operators';\nimport {Observable, Subscription} from 'rxjs';\nimport {Router} from '@angular/router';\n\n@Component({\n  template: `\n    <div class=\"container\">\n      <app-page-title-component title=\"歷屆花絮\" topImage=false></app-page-title-component>\n    </div>\n    <ng-container *ngFor=\"let gallery of galleryList; let i = index\">\n      <ng-container *ngIf=\"i % 2 === 0\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col-6\">\n              <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingGallery = gallery; form_edit.show();\">\n                <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                  <i class=\"fa fa-edit\"></i>\n                </a>\n              </div>\n            </div>\n            <div *ngIf=\"galleryList[i + 1]\" class=\"col-6\">\n              <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingGallery = galleryList[i + 1]; form_edit.show();\">\n                <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                  <i class=\"fa fa-edit\"></i>\n                </a>\n              </div>\n            </div>\n          </div>\n          <div class=\"row\">\n            <div class=\"col-6\">\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  <a routerLink=\"/administrator/school/gallery/{{gallery.key}}\">\n                    <app-image-ratio-component image=\"{{ gallery.imgUrl }}\" ratio=\"1:1\">\n                    </app-image-ratio-component>\n                  </a>\n                </div>\n                <div class=\"col-md-6\">\n                  <h2>{{ gallery.title }}</h2>\n                  <strong>{{ gallery.subTitle }}</strong>\n                  <div *ngFor=\"let text of gallery.content|stringNewLine\">\n                    {{ text }}<br>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div *ngIf=\"galleryList[i + 1] != null\" class=\"col-6\">\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  <a routerLink=\"/administrator/school/gallery/{{galleryList[i + 1].key}}\">\n                    <app-image-ratio-component image=\"{{ galleryList[i + 1].imgUrl }}\" ratio=\"1:1\">\n                    </app-image-ratio-component>\n                  </a>\n                </div>\n                <div class=\"col-md-6\">\n                  <h2>{{ galleryList[i + 1].title }}</h2>\n                  <strong>{{ galleryList[i + 1].subTitle }}</strong>\n                  <div *ngFor=\"let text of galleryList[i + 1].content|stringNewLine\">\n                    {{ text }}<br>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px; z-index: 1\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\" (click)=\"this.inputImage = null; this.editingGallery = newGallery; form_edit.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div mdbModal #form_edit=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\" *ngIf=\"editingGallery.key != ''\"><i class=\"fa fa-pencil\"></i> 編輯歷屆花絮 </h4>\n            <h4 class=\"title\" *ngIf=\"editingGallery.key == ''\"><i class=\"fa fa-pencil\"></i> 新增歷屆花絮 </h4>\n            <button id=\"form-edit-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_edit.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <input #title type=\"text\" class=\"form-control\"\n                     placeholder=\"標題\" value=\"{{ editingGallery.title }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <input #subTitle type=\"text\" class=\"form-control\"\n                     placeholder=\"副標題\" value=\"{{ editingGallery.subTitle }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <input #date type=\"date\" class=\"form-control\"\n                     placeholder=\"時間\" value=\"{{ editingGallery.date }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingGallery.imgUrl }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #content mdbInputDirective type=\"text\"\n                            class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingGallery.content }}\"></textarea>\n                </div>\n              </div>\n              <input #fileInput mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingGallery.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"add(date.value, title.value, subTitle.value, content.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingGallery.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"delete(editingGallery.key)\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingGallery.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"update(date.value, title.value, subTitle.value, content.value, editingGallery.key)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class AdministratorPageSchoolGalleryComponent implements OnDestroy {\n  uploading = false;\n  newGallery = new GalleryModel('', '');\n  editingGallery = new GalleryModel('', '');\n  gallerySubscription: Subscription;\n  galleryList: GalleryModel[];\n  inputImage: HTMLInputElement;\n  uploadPercent: Observable<string>;\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router) {\n    this.settingService.path$.next(this.router.url);\n    this.getInfo();\n  }\n  ngOnDestroy () {\n    if (this.gallerySubscription) {\n      this.gallerySubscription.unsubscribe();\n    }\n  }\n  getInfo() {\n    if (this.gallerySubscription) {\n      this.gallerySubscription.unsubscribe();\n    }\n    this.gallerySubscription = this.database\n      .list('school/gallery', ref => ref.orderByChild('date'))\n      .snapshotChanges()\n      .pipe(map(action => {\n        return action.map(json => new GalleryModel(json.payload.val(), json.key));\n      }))\n      .subscribe(results => {\n        this.galleryList = results.reverse();\n      });\n  }\n  add(date: string, title: string, subTitle: string, content: string) {\n    let latestKey = 0;\n    for (const model of this.galleryList) {\n      if (Number(model.key) > latestKey) {\n        latestKey = Number(model.key);\n      }\n    }\n    if (this.inputImage) {\n      this.uploading = true;\n      const fileRef = 'school/gallery/image_' + (latestKey + 1);\n      const task = this.storage.upload(fileRef, this.inputImage);\n      this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n        map((number) => {\n          if (number === 100) {\n            this.storage.ref(fileRef)\n              .getDownloadURL()\n              .pipe(delay(1000))\n              .pipe(retry(2))\n              .subscribe(value => {\n                this.database.object('school/gallery/' + (latestKey + 1))\n                  .set({ title: title, subTitle: subTitle, content: content, imgUrl: value, date: date })\n                  .then(_ => {\n                    this.uploading = false;\n                    (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n                  });\n              });\n          }\n          return number + '%';\n        })\n      );\n    } else {\n      alert('請選擇一張圖片');\n    }\n  }\n  update(date: string, title: string, subTitle: string, content: string, key: string) {\n    if (this.inputImage) {\n      this.uploading = true;\n      const fileRef = 'school/gallery/image_' + key;\n      const task = this.storage.upload(fileRef, this.inputImage);\n      this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n        map((number) => {\n          if (number === 100) {\n            this.storage.ref(fileRef)\n              .getDownloadURL()\n              .pipe(delay(1000))\n              .pipe(retry(2))\n              .subscribe(value => {\n                this.database.object('school/gallery/' + key)\n                  .update({ title: title, subTitle: subTitle, content: content, imgUrl: value, date: date })\n                  .then(_ => {\n                    this.uploading = false;\n                    (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n                  });\n              });\n          }\n          return number + '%';\n        })\n      );\n    } else {\n      this.database.object('school/gallery/' + key)\n        .update({ title: title, subTitle: subTitle, content: content, date: date })\n        .then(_ => {\n          (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n  delete(key: string) {\n    this.storage.ref('school/gallery/image_' + key).delete();\n    this.database.object('school/gallery/' + key).remove().then( _ => {\n      (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n    });\n  }\n}\n","\n    <div class=\"container\">\n      <app-page-title-component title=\"歷屆花絮 - {{ gallery.title }}\" topImage=false></app-page-title-component>\n      <div class=\"row no-gutters\">\n        <ng-container *ngFor=\"let image of gallery.imgList\">\n          <div class=\"col-md-2 col-sm-4 col-6 mt-4\">\n            <div class=\"w-100\" style=\"position: absolute; z-index: 1\">\n              <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingImg = image; form_edit.show();\">\n                <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                  <i class=\"fa fa-edit\"> </i>\n                </a>\n              </div>\n            </div>\n            <div class=\"m-1\">\n              <app-image-ratio-component image=\"{{ image.url }}\" ratio=\"1:1\">\n              </app-image-ratio-component>\n            </div>\n          </div>\n        </ng-container>\n        <div class=\"col-md-2 col-sm-4 col-6 mt-4\">\n          <div class=\"w-100\" style=\"position: absolute; z-index: 1\">\n            <div class=\"float-right\" (click)=\"this.inputImage = null; this.newImg.key = ''; this.editingImg = newImg; form_edit.show();\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-plus\"> </i>\n              </a>\n            </div>\n          </div>\n          <div class=\"m-1\">\n            <app-image-ratio-component image=\"\" ratio=\"1:1\">\n            </app-image-ratio-component>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div mdbModal #form_edit=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\" *ngIf=\"editingImg.key != ''\"><i class=\"fa fa-pencil\"></i> 編輯照片 </h4>\n            <h4 class=\"title\" *ngIf=\"editingImg.key == ''\"><i class=\"fa fa-pencil\"></i> 新增照片 </h4>\n            <button id=\"form-img-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_edit.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <app-image-ratio-component image=\"{{ editingImg.url }}}\" ratio=\"1:1\">\n              </app-image-ratio-component>\n              <input #fileInput mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingImg.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"addImg()\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingImg.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"deleteImg()\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingImg.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"updateImg()\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {delay, flatMap, map, retry} from 'rxjs/operators';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {SettingService} from '../core/setting.service';\nimport {GalleryModel} from '../model/gallery.model';\nimport {ImageModel} from '../model/image.model';\nimport {Observable} from 'rxjs';\n\n@Component({\n  template: `\n    <div class=\"container\">\n      <app-page-title-component title=\"歷屆花絮 - {{ gallery.title }}\" topImage=false></app-page-title-component>\n      <div class=\"row no-gutters\">\n        <ng-container *ngFor=\"let image of gallery.imgList\">\n          <div class=\"col-md-2 col-sm-4 col-6 mt-4\">\n            <div class=\"w-100\" style=\"position: absolute; z-index: 1\">\n              <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingImg = image; form_edit.show();\">\n                <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                  <i class=\"fa fa-edit\"> </i>\n                </a>\n              </div>\n            </div>\n            <div class=\"m-1\">\n              <app-image-ratio-component image=\"{{ image.url }}\" ratio=\"1:1\">\n              </app-image-ratio-component>\n            </div>\n          </div>\n        </ng-container>\n        <div class=\"col-md-2 col-sm-4 col-6 mt-4\">\n          <div class=\"w-100\" style=\"position: absolute; z-index: 1\">\n            <div class=\"float-right\" (click)=\"this.inputImage = null; this.newImg.key = ''; this.editingImg = newImg; form_edit.show();\">\n              <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-plus\"> </i>\n              </a>\n            </div>\n          </div>\n          <div class=\"m-1\">\n            <app-image-ratio-component image=\"\" ratio=\"1:1\">\n            </app-image-ratio-component>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div mdbModal #form_edit=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\" *ngIf=\"editingImg.key != ''\"><i class=\"fa fa-pencil\"></i> 編輯照片 </h4>\n            <h4 class=\"title\" *ngIf=\"editingImg.key == ''\"><i class=\"fa fa-pencil\"></i> 新增照片 </h4>\n            <button id=\"form-img-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_edit.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <app-image-ratio-component image=\"{{ editingImg.url }}}\" ratio=\"1:1\">\n              </app-image-ratio-component>\n              <input #fileInput mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingImg.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"addImg()\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingImg.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"deleteImg()\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingImg.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"updateImg()\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class AdministratorPageSchoolGalleryDetailComponent implements OnInit, OnDestroy {\n  private _uploadedImgUrl: string;\n  private gallerySubscription;\n  private routerSubscription;\n  private _id: string;\n  uploading = false;\n  inputImage: HTMLInputElement;\n  uploadPercent: Observable<string>;\n  gallery = new GalleryModel('', '');\n  newImg = new ImageModel(0, '', '');\n  editingImg = new ImageModel(0, '', '');\n\n  @Input()\n  set id(id: string) {\n    this._id = id;\n    this.gallerySubscription = this.database.object('school/gallery/' + id).snapshotChanges().pipe(\n      flatMap(results => {\n        this.gallery = new GalleryModel(results.payload.val(), results.key);\n        return this.database.list('school/gallery/' + id + '/imgList').snapshotChanges();\n      }))\n      .subscribe(results => {\n        let serialNumber = 0;\n        results.forEach(element => {\n          this.gallery.imgList.push(new ImageModel(serialNumber, element.payload.val(), element.key));\n          serialNumber += 1;\n        });\n      });\n  }\n  get id() {\n    return this._id;\n  }\n\n  @Input()\n  set uploadedImgUrl(url: string) {\n    if (this.uploadedImgUrl !== url) {\n      this._uploadedImgUrl = url;\n      this.database.object('school/gallery/' + this.id + '/imgList/' + this.editingImg.key)\n        .set(url)\n        .then(_ => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-img-close-btn') as HTMLElement).click();\n        }, reason => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-img-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n  get uploadedImgUrl() {\n    return this._uploadedImgUrl;\n  }\n\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router,\n              private route: ActivatedRoute) {\n    this.settingService.path$.next(this.router.url);\n  }\n\n  addImg() {\n    if (this.inputImage) {\n      this.uploading = true;\n      this.database.list('school/gallery/' + this.id + '/imgList')\n        .push('imageUploading')\n        .then(result => {\n          this.editingImg.key = result.key;\n          const fileRef = 'school/gallery/' + this.id + '/image_' + result.key;\n          const task = this.storage.upload(fileRef, this.inputImage);\n          this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n            map((number) => {\n              if (number === 100) {\n                this.storage.ref(fileRef)\n                  .getDownloadURL()\n                  .pipe(delay(1000))\n                  .pipe(retry(2))\n                  .subscribe(value => {\n                    this.uploadedImgUrl = value;\n                  });\n              }\n              return number + '%';\n            })\n          );\n        });\n    } else {\n      alert('請選擇一張圖片');\n    }\n  }\n  updateImg() {\n    if (this.inputImage) {\n      this.uploading = true;\n      const fileRef = 'school/gallery/' + this.id + '/image_' + this.editingImg.key;\n      const task = this.storage.upload(fileRef, this.inputImage);\n      this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n        map((number) => {\n          if (number === 100) {\n            this.storage.ref(fileRef)\n              .getDownloadURL()\n              .pipe(delay(1000))\n              .pipe(retry(2))\n              .subscribe(value => {\n                this.uploadedImgUrl = value;\n              });\n          }\n          return number + '%';\n        })\n      );\n    } else {\n      alert('請選擇一張圖片');\n    }\n  }\n  deleteImg() {\n    this.storage.ref('school/gallery/' + this.id + '/image_' + this.editingImg.key).delete();\n    this.database.object('school/gallery/' + this.id + '/imgList/' + this.editingImg.key).remove().then( _ => {\n      (document.getElementById('form-img-close-btn') as HTMLElement).click();\n    });\n  }\n\n  ngOnInit() {\n    this.routerSubscription = this.route\n      .params\n      .subscribe(param => {\n        this.id = String(+param['id']);\n      });\n  }\n\n  ngOnDestroy() {\n    this.routerSubscription.unsubscribe();\n    this.gallerySubscription.unsubscribe();\n  }\n}\n","<div class=\"container\">\n  <app-header-component></app-header-component>\n</div>\n<app-menu-component color=\"grey\"></app-menu-component>\n<router-outlet></router-outlet>\n<app-footer-component></app-footer-component>\n","import {Component, OnInit} from '@angular/core';\nimport {distinctUntilChanged} from 'rxjs/operators';\nimport {NavigationEnd, Router} from '@angular/router';\nimport {Title} from '@angular/platform-browser';\n\ndeclare let gtag: Function;\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  constructor(private router: Router, private titleService: Title) {\n    this.titleService.setTitle('台灣炫光藝術協會');\n    this.router.events\n      .pipe(distinctUntilChanged((previous: any, current: any) => {\n        if (current instanceof NavigationEnd) {\n          return previous.url === current.url;\n        }\n        return true;\n      }))\n      .subscribe(\n        (x: any) => { gtag('event', 'page_view', { 'page_path': x.url }); });\n  }\n\n  ngOnInit() {}\n}\n","import { NgtUniversalModule } from '@ng-toolkit/universal';\nimport { CommonModule } from '@angular/common';\nimport 'hammerjs';\nimport 'mousetrap';\nimport {routes} from './routes';\nimport {AppComponent} from './app.component';\nimport {PageModule} from './page/page.module';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {ModalGalleryModule} from 'angular-modal-gallery';\nimport {NgModule, NO_ERRORS_SCHEMA} from '@angular/core';\nimport {NavigationModule} from './navigation/navigation.module';\nimport {PreloadAllModules, RouterModule} from '@angular/router';\nimport {AdministratorModule} from './administrator/administrator.module';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {MDBBootstrapModulesPro, MDBSpinningPreloader, ToastModule} from 'ng-uikit-pro-standard';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    CommonModule,\n    NgtUniversalModule,\n    ToastModule.forRoot(),\n    ModalGalleryModule.forRoot(),\n    MDBBootstrapModulesPro.forRoot(),\n    RouterModule.forRoot(routes, { preloadingStrategy: PreloadAllModules }),\n    BrowserModule, BrowserAnimationsModule,\n    NavigationModule, PageModule, AdministratorModule\n  ],\n  schemas: [ NO_ERRORS_SCHEMA ],\n  providers: [MDBSpinningPreloader],\n})\nexport class AppModule {}\n","import { AppComponent } from './app.component';\nimport { AppModule } from './app.module';\nimport {NgModule} from '@angular/core';\n    import {ServerModule, ServerTransferStateModule} from '@angular/platform-server';\n    import {ModuleMapLoaderModule} from '@nguniversal/module-map-ngfactory-loader';\n    import { BrowserModule } from '@angular/platform-browser';\n    import { NoopAnimationsModule } from '@angular/platform-browser/animations';\n    \n    @NgModule({\n bootstrap: [AppComponent],\n\n        imports:[\n BrowserModule.withServerTransition({appId: 'app-root'}),\n \n AppModule,\n \n            ServerModule,\n            NoopAnimationsModule,\n            ModuleMapLoaderModule,\n            ServerTransferStateModule, // comment\n        ]\n    })\n    export class AppServerModule {}\n    ","\n    <div *ngIf=\"imageList|stringExceptEmpty|arrayMoreThanZero\">\n      <ng-container [ngSwitch]=\"imageList|stringExceptEmpty|arrayMoreThanOne\">\n        <mdb-carousel *ngSwitchCase=\"true\" style=\"z-index: 1\" [isControls]=\"true\" [animation]=\"'slide'\">\n          <ng-container *ngFor=\"let image of imageList|stringExceptEmpty\">\n            <mdb-slide>\n              <img class=\"d-block w-100 carouselImage\" src=\"{{ image }}\">\n            </mdb-slide>\n          </ng-container>\n        </mdb-carousel>\n        <mdb-carousel *ngSwitchDefault style=\"z-index: 1\" [isControls]=\"false\">\n          <ng-container *ngFor=\"let image of imageList|stringExceptEmpty\">\n            <mdb-slide>\n              <img class=\"d-block w-100 carouselImage\" src=\"{{ image }}\">\n            </mdb-slide>\n          </ng-container>\n        </mdb-carousel>\n      </ng-container>\n    </div>\n    <div *ngIf=\"!(imageList|stringExceptEmpty|arrayMoreThanZero) && editMode\" style=\"height: 120px\"></div>\n  ","import {Component, Input} from '@angular/core';\n\n@Component({\n  selector: 'app-carousel-main-component',\n  template: `\n    <div *ngIf=\"imageList|stringExceptEmpty|arrayMoreThanZero\">\n      <ng-container [ngSwitch]=\"imageList|stringExceptEmpty|arrayMoreThanOne\">\n        <mdb-carousel *ngSwitchCase=\"true\" style=\"z-index: 1\" [isControls]=\"true\" [animation]=\"'slide'\">\n          <ng-container *ngFor=\"let image of imageList|stringExceptEmpty\">\n            <mdb-slide>\n              <img class=\"d-block w-100 carouselImage\" src=\"{{ image }}\">\n            </mdb-slide>\n          </ng-container>\n        </mdb-carousel>\n        <mdb-carousel *ngSwitchDefault style=\"z-index: 1\" [isControls]=\"false\">\n          <ng-container *ngFor=\"let image of imageList|stringExceptEmpty\">\n            <mdb-slide>\n              <img class=\"d-block w-100 carouselImage\" src=\"{{ image }}\">\n            </mdb-slide>\n          </ng-container>\n        </mdb-carousel>\n      </ng-container>\n    </div>\n    <div *ngIf=\"!(imageList|stringExceptEmpty|arrayMoreThanZero) && editMode\" style=\"height: 120px\"></div>\n  `,\n  styles: [`\n    .carouselImage {\n      height: 300px;\n      object-fit: cover;\n      margin-bottom: 50px;\n    },\n    @media (min-width: 576px) {\n      .carouselImage {\n        height: 400px;\n        object-fit: cover;\n        margin-bottom: 50px;\n      },\n    }\n    @media (min-width: 768px) {\n      .carouselImage {\n        height: 500px;\n        object-fit: cover;\n        margin-bottom: 50px;\n      },\n    },\n    @media (min-width: 992px) {\n      .carouselImage {\n        height: 600px;\n        object-fit: cover;\n        margin-bottom: 50px;\n      },\n    }\n    @media (min-width: 1200px) {\n      .carouselImage {\n        height: 700px;\n        object-fit: cover;\n        margin-bottom: 50px;\n      },\n    }\n  `]\n})\nexport class CarouselMainComponent {\n  @Input() imageList: string[];\n  @Input() editMode = false;\n  constructor() {}\n}\n\n","\n    <div style=\"border-style: solid; border-color: black; border-width: 1px\" [ngClass] = \"{\n      'ratio_container_1_1': ratio == '1:1',\n      'ratio_container_3_1': ratio == '3:1',\n      'ratio_container_4_3': ratio == '4:3',\n      'ratio_container_16_9': ratio == '16:9'\n    }\">\n      <img class=\"image border-dark\" src=\"{{ image }}\" alt=\"{{ alt }}\"/>\n    </div>\n  ","import {Component, Input} from '@angular/core';\n\n@Component({\n  selector: 'app-image-ratio-component',\n  template: `\n    <div style=\"border-style: solid; border-color: black; border-width: 1px\" [ngClass] = \"{\n      'ratio_container_1_1': ratio == '1:1',\n      'ratio_container_3_1': ratio == '3:1',\n      'ratio_container_4_3': ratio == '4:3',\n      'ratio_container_16_9': ratio == '16:9'\n    }\">\n      <img class=\"image border-dark\" src=\"{{ image }}\" alt=\"{{ alt }}\"/>\n    </div>\n  `,\n  styles: [\n    `\n      .ratio_container_3_1 {\n        width: 100%;\n        height: 0;\n        padding-bottom: 33.33%;\n        position: relative;\n      }\n      .ratio_container_16_9 {\n        width: 100%;\n        height: 0;\n        padding-bottom: 56.25%;\n        position: relative;\n      }\n      .ratio_container_4_3 {\n        width: 100%;\n        height: 0;\n        padding-bottom: 75%;\n        position: relative;\n      }\n      .ratio_container_1_1 {\n        width: 100%;\n        height: 0;\n        padding-bottom: 100%;\n        position: relative;\n      }\n      .image {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        object-fit: cover;\n      }\n    `\n  ]\n})\nexport class ImageRatioComponent {\n  @Input() image: string;\n  @Input() ratio: string;\n  @Input() alt: string;\n  constructor() {}\n}\n","\n    <ng-container [ngSwitch]=\"topImage\">\n      <div *ngSwitchCase=true><img style=\"margin-bottom: 30px\" src=\"/assets/line_top.png\"/></div>\n      <div *ngSwitchDefault style=\"height: 30px\"></div>\n    </ng-container>\n    <div style=\"margin-bottom: 30px\"><strong class=\"title\">{{ title }}</strong></div>\n  ","import {Component, Input} from '@angular/core';\n\n@Component({\n  selector: 'app-page-title-component',\n  template: `\n    <ng-container [ngSwitch]=\"topImage\">\n      <div *ngSwitchCase=true><img style=\"margin-bottom: 30px\" src=\"/assets/line_top.png\"/></div>\n      <div *ngSwitchDefault style=\"height: 30px\"></div>\n    </ng-container>\n    <div style=\"margin-bottom: 30px\"><strong class=\"title\">{{ title }}</strong></div>\n  `,\n  styles: [\n    `\n      .title {\n        font-size: 16px;\n      }\n    `\n  ]\n})\nexport class PageTitleComponent {\n  @Input() title: string;\n  @Input() topImage = true;\n  constructor() {}\n}\n","\n    <div class=\"row justify-content-start no-gutters\">\n      <div class=\"col-3\">\n        <img style=\"width: 100%; height: 3px\" src=\"/assets/line.png\"/>\n      </div>\n      <div class=\"col-1\">\n        <img src=\"/assets/line_dot.png\"/>\n      </div>\n    </div>\n  ","import {Component} from '@angular/core';\n\n@Component({\n  selector: 'app-separate-left-component',\n  template: `\n    <div class=\"row justify-content-start no-gutters\">\n      <div class=\"col-3\">\n        <img style=\"width: 100%; height: 3px\" src=\"/assets/line.png\"/>\n      </div>\n      <div class=\"col-1\">\n        <img src=\"/assets/line_dot.png\"/>\n      </div>\n    </div>\n  `\n})\nexport class SeparateLeftComponent {\n  constructor() {}\n}\n","\n    <div class=\"row justify-content-end no-gutters\">\n      <div class=\"col-1\" style=\"text-align: right\">\n        <img src=\"/assets/line_dot.png\"/>\n      </div>\n      <div class=\"col-3\">\n        <img style=\"width: 100%; height: 3px\" src=\"/assets/line.png\"/>\n      </div>\n    </div>\n    <br>\n  ","import {Component} from '@angular/core';\n\n@Component({\n  selector: 'app-separate-right-component',\n  template: `\n    <div class=\"row justify-content-end no-gutters\">\n      <div class=\"col-1\" style=\"text-align: right\">\n        <img src=\"/assets/line_dot.png\"/>\n      </div>\n      <div class=\"col-3\">\n        <img style=\"width: 100%; height: 3px\" src=\"/assets/line.png\"/>\n      </div>\n    </div>\n    <br>\n  `\n})\nexport class SeparateRightComponent {\n  constructor() {}\n}\n","import {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {AngularFireModule} from 'angularfire2';\nimport {SettingService} from './setting.service';\nimport {IntIsOddPipe} from '../pipe/int.isOdd.pipe';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {environment} from '../../environments/environment';\nimport {AngularFireStorageModule} from 'angularfire2/storage';\nimport {AngularFireDatabaseModule} from 'angularfire2/database';\nimport {CalendarComponent} from '../components/calendar.component';\nimport {PageTitleComponent} from '../components/page.title.component';\nimport {ImageRatioComponent} from '../components/image.ratio.component';\nimport {SeparateLeftComponent} from '../components/separate.left.component';\nimport {SeparateRightComponent} from '../components/separate.right.component';\nimport {StringNewLineTransformPipe} from '../pipe/string.newLineTransform.pipe';\n\n@NgModule({\n  imports: [\n    BrowserModule, FormsModule,\n    AngularFireModule.initializeApp(environment.firebase, 'BSAA'),\n    AngularFireDatabaseModule,\n    AngularFireStorageModule\n  ],\n  declarations: [\n    CalendarComponent, StringNewLineTransformPipe, IntIsOddPipe,\n    PageTitleComponent, ImageRatioComponent, SeparateLeftComponent, SeparateRightComponent\n  ],\n  exports: [\n    StringNewLineTransformPipe, IntIsOddPipe,\n    PageTitleComponent, ImageRatioComponent, SeparateLeftComponent, SeparateRightComponent\n  ],\n  providers: [SettingService],\n})\nexport class CoreModule {}\n","import {BehaviorSubject, Observable} from 'rxjs';\nimport {Inject, Injectable} from '@angular/core';\nimport {AngularFireAuth} from 'angularfire2/auth';\nimport {User} from 'firebase';\nimport {share} from 'rxjs/operators';\n\n@Injectable()\nexport class SettingService {\n  langCode$: BehaviorSubject<string>;\n  path$: BehaviorSubject<string>;\n  authState$: Observable<User>;\n  menuMap: any;\n  constructor(@Inject(AngularFireAuth) private authService: AngularFireAuth) {\n    this.authState$ = this.authService.authState.pipe(share());\n    this.langCode$ = new BehaviorSubject<string>('zh');\n    this.path$ = new BehaviorSubject<string>('')\n    this.menuMap = {\n      about : {\n        'en' : 'About',\n        'zh' : '關於',\n      },\n      plan : {\n        'en' : 'Plan',\n        'zh' : '炫光計畫',\n      },\n      planOrigin : {\n        'en' : 'Origin',\n        'zh' : '炫光緣起',\n      },\n      planCurrent : {\n        'en' : 'Current',\n        'zh' : '本屆炫光',\n      },\n      planHistory : {\n        'en' : 'History',\n        'zh' : '歷屆炫光',\n      },\n      school : {\n        'en' : 'School',\n        'zh' : '炫光小學堂',\n      },\n      schoolCalendar : {\n        'en' : 'Calendar',\n        'zh' : '活動預告',\n      },\n      schoolGallery : {\n        'en' : 'Gallery',\n        'zh' : '歷屆花絮',\n      },\n    };\n  }\n  logout() {\n    this.authService.auth.signOut().then(results => {\n      console.log('logout results ' + results);\n    }, reason => {\n      console.log('logout failed ' + reason);\n    });\n  }\n}\n","import {ParagraphModel} from './paragraph.model';\n\nexport class EventModel {\n  key: string;\n  date: string;\n  title: string;\n  imgUrl: string;\n  content: string;\n  subTitle: string;\n  paragraphList: ParagraphModel[] = [];\n\n  constructor(json, key = null) {\n    this.key = key;\n    this.date = json.date ? json.date : '';\n    this.title = json.title ? json.title : '';\n    this.imgUrl = json.imgUrl ? json.imgUrl : '';\n    this.content = json.content ? json.content : '';\n    this.subTitle = json.subTitle ? json.subTitle : '';\n  }\n}\n","import {ImageModel} from './image.model';\n\nexport class GalleryModel {\n  key: string;\n  date: string;\n  title: string;\n  imgUrl: string;\n  content: string;\n  subTitle: string;\n  imgList: ImageModel[] = [];\n\n  constructor(json, key = null) {\n    this.key = key;\n    this.date = json.date ? json.date : '';\n    this.title = json.title ? json.title : '';\n    this.imgUrl = json.imgUrl ? json.imgUrl : '';\n    this.content = json.content ? json.content : '';\n    this.subTitle = json.subTitle ? json.subTitle : '';\n  }\n}\n","import {ParagraphModel} from './paragraph.model';\n\nexport class HistoryModel {\n  key: string;\n  date: string;\n  title: string;\n  imgUrl: string;\n  content: string;\n  subTitle: string;\n  paragraphList: ParagraphModel[] = [];\n\n  constructor(json, key = null) {\n    this.key = key;\n    this.date = json.date ? json.date : '';\n    this.title = json.title ? json.title : '';\n    this.imgUrl = json.imgUrl ? json.imgUrl : '';\n    this.content = json.content ? json.content : '';\n    this.subTitle = json.subTitle ? json.subTitle : '';\n  }\n}\n","export class ImageModel {\n  sort: number;\n  url: string;\n  key: string;\n\n  constructor(sort, url, key) {\n    this.sort = sort;\n    this.url = url;\n    this.key = key;\n  }\n}\n","export class ParagraphModel {\n  content: string;\n  img: string;\n  key: string;\n\n  constructor(json, key = null) {\n    this.content = json.content ? json.content : '';\n    this.img = json.img ? json.img : '';\n    this.key = key;\n  }\n}\n","import {ParagraphModel} from './paragraph.model';\n\nexport class UpcomingModel {\n  key: string;\n  title: string;\n  imgUrl: string;\n  content: string;\n  subTitle: string;\n  paragraphList: ParagraphModel[] = [];\n\n  constructor(json, key = null) {\n    this.key = key;\n    this.title = json.title ? json.title : '';\n    this.imgUrl = json.imgUrl ? json.imgUrl : '';\n    this.content = json.content ? json.content : '';\n    this.subTitle = json.subTitle ? json.subTitle : '';\n  }\n}\n","\n    <!--Footer-->\n    <footer class=\"page-footer theme-gray text-center text-md-left pt-4 mt-4\">\n      <!--Social buttons-->\n      <div class=\"text-center mb-3\">\n        <a class=\"btn-floating waves-light\" mdbWavesEffect\n           href=\"https://www.facebook.com/%E5%8F%B0%E7%81%A3%E7%82%AB%E5%85%89%E8%97%9D%E8%A1%93%E5%8D%94%E6%9C%83-338836259459978/\"\n           target=\"_blank\">\n          <img src=\"/assets/fb_w.png\">\n        </a>\n        <a class=\"btn-floating waves-light\" mdbWavesEffect\n           href=\"https://www.instagram.com/brightstar_arts/\" target=\"_blank\">\n          <img src=\"/assets/ig_w.png\">\n        </a>\n        <a class=\"btn-floating waves-light\" mdbWavesEffect\n           href=\"https://www.youtube.com/channel/UCWj4Cm0BDiicehhRZyoQvHg\" target=\"_blank\">\n          <img src=\"/assets/youtube_w.png\">\n        </a>\n      </div>\n      <!--/.Social buttons-->\n\n      <div class=\"text-center\">\n        <span style=\"font-size: 12px\">11148 臺北市士林區忠誠路一段 62 號 3 樓 </span><br>\n        <i class=\"fa fa-phone\"> </i><span style=\"font-size: 12px\"> 886-2-2833-2255 #131 </span>\n        <i class=\"fa fa-envelope\"> </i><span style=\"font-size: 12px\"> info@bsaa.org </span>\n      </div>\n\n      <!--Copyright-->\n      <div class=\"theme-gray text-center py-3\">\n        <div class=\"container-fluid\">\n          © 2018 Copyright： BSAA. All rights reserved.\n        </div>\n      </div>\n      <!--/.Copyright-->\n\n    </footer>\n    <!--/.Footer-->\n  ","import {Component} from '@angular/core';\n\n@Component({\n  selector: 'app-footer-component',\n  template: `\n    <!--Footer-->\n    <footer class=\"page-footer theme-gray text-center text-md-left pt-4 mt-4\">\n      <!--Social buttons-->\n      <div class=\"text-center mb-3\">\n        <a class=\"btn-floating waves-light\" mdbWavesEffect\n           href=\"https://www.facebook.com/%E5%8F%B0%E7%81%A3%E7%82%AB%E5%85%89%E8%97%9D%E8%A1%93%E5%8D%94%E6%9C%83-338836259459978/\"\n           target=\"_blank\">\n          <img src=\"/assets/fb_w.png\">\n        </a>\n        <a class=\"btn-floating waves-light\" mdbWavesEffect\n           href=\"https://www.instagram.com/brightstar_arts/\" target=\"_blank\">\n          <img src=\"/assets/ig_w.png\">\n        </a>\n        <a class=\"btn-floating waves-light\" mdbWavesEffect\n           href=\"https://www.youtube.com/channel/UCWj4Cm0BDiicehhRZyoQvHg\" target=\"_blank\">\n          <img src=\"/assets/youtube_w.png\">\n        </a>\n      </div>\n      <!--/.Social buttons-->\n\n      <div class=\"text-center\">\n        <span style=\"font-size: 12px\">11148 臺北市士林區忠誠路一段 62 號 3 樓 </span><br>\n        <i class=\"fa fa-phone\"> </i><span style=\"font-size: 12px\"> 886-2-2833-2255 #131 </span>\n        <i class=\"fa fa-envelope\"> </i><span style=\"font-size: 12px\"> info@bsaa.org </span>\n      </div>\n\n      <!--Copyright-->\n      <div class=\"theme-gray text-center py-3\">\n        <div class=\"container-fluid\">\n          © 2018 Copyright： BSAA. All rights reserved.\n        </div>\n      </div>\n      <!--/.Copyright-->\n\n    </footer>\n    <!--/.Footer-->\n  `\n})\nexport class NavigationFooterComponent {\n  constructor() {}\n}\n","\n    <div class=\"row align-items-center\">\n      <div class=\"col-1\">\n        <ng-container *ngIf=\"isLoggedIn; else logoElseBlock\">\n          <a routerLink=\"administrator/about\" routerLinkActive=\"active\">\n            <img class=\"logo\" style=\"height: 100px; margin: 10px\" src=\"/assets/logo.png\"/>\n          </a>\n        </ng-container>\n        <ng-template #logoElseBlock>\n          <a routerLink=\"/about\" routerLinkActive=\"active\">\n            <img class=\"logo\" style=\"height: 100px; margin: 10px\" src=\"/assets/logo.png\"/>\n          </a>\n        </ng-template>\n      </div>\n      <div class=\"col\">\n        <ng-container *ngIf=\"isLoggedIn\">\n          <p class=\"text-left\">管理者狀態<span style=\"font-size: 12px\">(資料登打完畢記得登出)</span><a style=\"color: red\" (click)=\"logout()\"> [登出] </a></p>\n        </ng-container>\n      </div>\n      <!--<div class=\"col-auto align-self-center mb-2 d-none d-sm-block\">-->\n        <!--<ng-container *ngIf=\"languageCode === 'zh'; else languageElseBlock1\">-->\n          <!--<a (click)=\"changedLangToChinese()\">中文</a> | <a style=\"color: lightgray\" (click)=\"changedLangToEnglish()\">English</a>-->\n        <!--</ng-container>-->\n        <!--<ng-template #languageElseBlock1>-->\n          <!--<a style=\"color: lightgray\" (click)=\"changedLangToChinese()\">中文</a> | <a (click)=\"changedLangToEnglish()\">English</a>-->\n        <!--</ng-template>-->\n      <!--</div>-->\n      <div class=\"col-auto align-self-center\">\n        <div class=\"text-center mb-3\">\n          <a class=\"btn-floating waves-light\" mdbWavesEffect\n             href=\"https://www.facebook.com/%E5%8F%B0%E7%81%A3%E7%82%AB%E5%85%89%E8%97%9D%E8%A1%93%E5%8D%94%E6%9C%83-338836259459978/\"\n             target=\"_blank\">\n            <img src=\"/assets/fb.png\">\n          </a>\n          <a class=\"btn-floating waves-light\" mdbWavesEffect\n             href=\"https://www.instagram.com/brightstar_arts/\" target=\"_blank\">\n            <img src=\"/assets/ig.png\">\n          </a>\n          <a class=\"btn-floating waves-light\" mdbWavesEffect\n             href=\"https://www.youtube.com/channel/UCWj4Cm0BDiicehhRZyoQvHg\" target=\"_blank\">\n            <img src=\"/assets/youtube.png\">\n          </a>\n        </div>\n        <!--<div class=\"text-center d-sm-none\">-->\n          <!--<ng-container *ngIf=\"languageCode === 'zh'; else languageElseBlock2\">-->\n            <!--<a (click)=\"changedLangToChinese()\">中文</a> | <a style=\"color: lightgray\" (click)=\"changedLangToEnglish()\">English</a>-->\n          <!--</ng-container>-->\n          <!--<ng-template #languageElseBlock2>-->\n            <!--<a style=\"color: lightgray\" (click)=\"changedLangToChinese()\">中文</a> | <a (click)=\"changedLangToEnglish()\">English</a>-->\n          <!--</ng-template>-->\n        <!--</div>-->\n      </div>\n    </div>\n  ","import {Router} from '@angular/router';\nimport {Component, OnDestroy} from '@angular/core';\nimport {SettingService} from '../core/setting.service';\n\n@Component({\n  selector: 'app-header-component',\n  template: `\n    <div class=\"row align-items-center\">\n      <div class=\"col-1\">\n        <ng-container *ngIf=\"isLoggedIn; else logoElseBlock\">\n          <a routerLink=\"administrator/about\" routerLinkActive=\"active\">\n            <img class=\"logo\" style=\"height: 100px; margin: 10px\" src=\"/assets/logo.png\"/>\n          </a>\n        </ng-container>\n        <ng-template #logoElseBlock>\n          <a routerLink=\"/about\" routerLinkActive=\"active\">\n            <img class=\"logo\" style=\"height: 100px; margin: 10px\" src=\"/assets/logo.png\"/>\n          </a>\n        </ng-template>\n      </div>\n      <div class=\"col\">\n        <ng-container *ngIf=\"isLoggedIn\">\n          <p class=\"text-left\">管理者狀態<span style=\"font-size: 12px\">(資料登打完畢記得登出)</span><a style=\"color: red\" (click)=\"logout()\"> [登出] </a></p>\n        </ng-container>\n      </div>\n      <!--<div class=\"col-auto align-self-center mb-2 d-none d-sm-block\">-->\n        <!--<ng-container *ngIf=\"languageCode === 'zh'; else languageElseBlock1\">-->\n          <!--<a (click)=\"changedLangToChinese()\">中文</a> | <a style=\"color: lightgray\" (click)=\"changedLangToEnglish()\">English</a>-->\n        <!--</ng-container>-->\n        <!--<ng-template #languageElseBlock1>-->\n          <!--<a style=\"color: lightgray\" (click)=\"changedLangToChinese()\">中文</a> | <a (click)=\"changedLangToEnglish()\">English</a>-->\n        <!--</ng-template>-->\n      <!--</div>-->\n      <div class=\"col-auto align-self-center\">\n        <div class=\"text-center mb-3\">\n          <a class=\"btn-floating waves-light\" mdbWavesEffect\n             href=\"https://www.facebook.com/%E5%8F%B0%E7%81%A3%E7%82%AB%E5%85%89%E8%97%9D%E8%A1%93%E5%8D%94%E6%9C%83-338836259459978/\"\n             target=\"_blank\">\n            <img src=\"/assets/fb.png\">\n          </a>\n          <a class=\"btn-floating waves-light\" mdbWavesEffect\n             href=\"https://www.instagram.com/brightstar_arts/\" target=\"_blank\">\n            <img src=\"/assets/ig.png\">\n          </a>\n          <a class=\"btn-floating waves-light\" mdbWavesEffect\n             href=\"https://www.youtube.com/channel/UCWj4Cm0BDiicehhRZyoQvHg\" target=\"_blank\">\n            <img src=\"/assets/youtube.png\">\n          </a>\n        </div>\n        <!--<div class=\"text-center d-sm-none\">-->\n          <!--<ng-container *ngIf=\"languageCode === 'zh'; else languageElseBlock2\">-->\n            <!--<a (click)=\"changedLangToChinese()\">中文</a> | <a style=\"color: lightgray\" (click)=\"changedLangToEnglish()\">English</a>-->\n          <!--</ng-container>-->\n          <!--<ng-template #languageElseBlock2>-->\n            <!--<a style=\"color: lightgray\" (click)=\"changedLangToChinese()\">中文</a> | <a (click)=\"changedLangToEnglish()\">English</a>-->\n          <!--</ng-template>-->\n        <!--</div>-->\n      </div>\n    </div>\n  `,\n  styles: [\n    `\n    `\n  ]\n})\nexport class NavigationHeaderComponent implements OnDestroy {\n  languageCode: string;\n  isLoggedIn = false;\n  authSubscription;\n  langSubscription;\n\n  constructor(private settingService: SettingService, private router: Router) {\n    this.authSubscription = this.settingService.authState$\n      .subscribe(user => {\n        this.isLoggedIn = (user !== null);\n      });\n    this.langSubscription = this.settingService.langCode$\n      .subscribe(lang => {\n        this.languageCode = lang;\n      });\n  }\n\n  logout() {\n    this.settingService.logout();\n    this.router.navigate(['/about']);\n  }\n\n  changedLangToChinese() {\n    this.settingService.langCode$.next('zh');\n  }\n  changedLangToEnglish() {\n    this.settingService.langCode$.next('en');\n  }\n  ngOnDestroy() {\n    this.authSubscription.unsubscribe();\n    this.langSubscription.unsubscribe();\n  }\n}\n","\n    <mdb-navbar SideClass=\"navbar navbar-expand-lg navbar-dark scrolling-navbar ie-nav {{ color }}\"\n                data-spy=\"affix\" data-offset-top=\"17\" [containerInside]=\"true\">\n      <links>\n        <ul class=\"navbar-nav mr-auto\">\n          <ng-container *ngIf=\"isAuth$|async; else aboutElseBlock\">\n            <li class=\"nav-item waves-light\" [ngClass]=\"highLightMenu == 'administrator/about' ? 'active' : ''\" mdbWavesEffect>\n              <a class=\"nav-link\" routerLink=\"administrator/about\" routerLinkActive=\"active\">\n                {{ languageCode | i18nSelect:menuMap.about }}\n                <span class=\"sr-only\">(current)</span></a>\n            </li>\n          </ng-container>\n          <ng-template #aboutElseBlock>\n            <li class=\"nav-item waves-light\" [ngClass]=\"highLightMenu == '/about' ? 'active' : ''\" mdbWavesEffect>\n              <a class=\"nav-link\" routerLink=\"/about\" routerLinkActive=\"active\">\n                {{ languageCode | i18nSelect:menuMap.about }}\n                <span class=\"sr-only\">(current)</span></a>\n            </li>\n          </ng-template>\n          <li class=\"nav-item dropdown\" dropdown>\n            <a dropdownToggle mdbWavesEffect type=\"button\" class=\"nav-link dropdown-toggle waves-light\" mdbWavesEffect>\n              {{ languageCode | i18nSelect:menuMap.plan }}\n            </a>\n            <div *dropdownMenu class=\"dropdown-menu dropdown dropdown-primary\" role=\"menu\">\n              <ng-container *ngIf=\"isAuth$|async; else planElseBlock\">\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"administrator/plan/origin\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.planOrigin }}\n                </a>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"administrator/plan/current\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.planCurrent }}\n                </a>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"administrator/plan/history\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.planHistory }}\n                </a>\n              </ng-container>\n              <ng-template #planElseBlock>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"plan/origin\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.planOrigin }}\n                </a>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"plan/current\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.planCurrent }}\n                </a>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"plan/history\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.planHistory }}\n                </a>\n              </ng-template>\n            </div>\n          </li>\n          <li class=\"nav-item dropdown\" dropdown>\n            <a dropdownToggle mdbWavesEffect type=\"button\" class=\"nav-link dropdown-toggle waves-light\" mdbWavesEffect>\n              {{ languageCode | i18nSelect:menuMap.school }}\n            </a>\n            <div *dropdownMenu class=\"dropdown-menu dropdown dropdown-primary\" role=\"menu\">\n              <ng-container *ngIf=\"isAuth$|async; else schoolElseBlock\">\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"administrator/school/calendar\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.schoolCalendar }}\n                </a>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"administrator/school/gallery\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.schoolGallery }}\n                </a>\n              </ng-container>\n              <ng-template #schoolElseBlock>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"school/calendar\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.schoolCalendar }}\n                </a>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"school/gallery\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.schoolGallery }}\n                </a>\n              </ng-template>\n            </div>\n          </li>\n          <!--<li class=\"nav-item dropdown\" dropdown>-->\n            <!--<a dropdownToggle mdbWavesEffect type=\"button\" class=\"nav-link dropdown-toggle waves-light\" mdbWavesEffect>-->\n              <!--炫藝場-->\n            <!--</a>-->\n            <!--<div *dropdownMenu class=\"dropdown-menu dropdown dropdown-primary\" role=\"menu\">-->\n              <!--<a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"/art/upcoming\" routerLinkActive=\"active\">活動預告</a>-->\n              <!--<a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"/art/vr\" routerLinkActive=\"active\">VR藝廊</a>-->\n            <!--</div>-->\n          <!--</li>-->\n          <!--<li class=\"nav-item dropdown\" dropdown>-->\n            <!--<a dropdownToggle mdbWavesEffect type=\"button\" class=\"nav-link dropdown-toggle waves-light\" mdbWavesEffect>-->\n              <!--藝術家資料庫-->\n            <!--</a>-->\n            <!--<div *dropdownMenu class=\"dropdown-menu dropdown dropdown-primary\" role=\"menu\">-->\n              <!--<a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"/database/artist\" routerLinkActive=\"active\">大藝術家</a>-->\n              <!--<a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"/database/coolguy\" routerLinkActive=\"active\">炫小子</a>-->\n            <!--</div>-->\n          <!--</li>-->\n          <!--<li class=\"nav-item waves-light\" [ngClass]=\"highLightMenu == '/donation' ? 'active' : ''\" mdbWavesEffect>-->\n            <!--<a class=\"nav-link\" routerLink=\"/donation\" routerLinkActive=\"active\">贊助炫光</a>-->\n          <!--</li>-->\n        </ul>\n      </links>\n    </mdb-navbar>\n  ","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {SettingService} from '../core/setting.service';\nimport {map} from 'rxjs/operators';\n\n@Component({\n  selector: 'app-menu-component',\n  template: `\n    <mdb-navbar SideClass=\"navbar navbar-expand-lg navbar-dark scrolling-navbar ie-nav {{ color }}\"\n                data-spy=\"affix\" data-offset-top=\"17\" [containerInside]=\"true\">\n      <links>\n        <ul class=\"navbar-nav mr-auto\">\n          <ng-container *ngIf=\"isAuth$|async; else aboutElseBlock\">\n            <li class=\"nav-item waves-light\" [ngClass]=\"highLightMenu == 'administrator/about' ? 'active' : ''\" mdbWavesEffect>\n              <a class=\"nav-link\" routerLink=\"administrator/about\" routerLinkActive=\"active\">\n                {{ languageCode | i18nSelect:menuMap.about }}\n                <span class=\"sr-only\">(current)</span></a>\n            </li>\n          </ng-container>\n          <ng-template #aboutElseBlock>\n            <li class=\"nav-item waves-light\" [ngClass]=\"highLightMenu == '/about' ? 'active' : ''\" mdbWavesEffect>\n              <a class=\"nav-link\" routerLink=\"/about\" routerLinkActive=\"active\">\n                {{ languageCode | i18nSelect:menuMap.about }}\n                <span class=\"sr-only\">(current)</span></a>\n            </li>\n          </ng-template>\n          <li class=\"nav-item dropdown\" dropdown>\n            <a dropdownToggle mdbWavesEffect type=\"button\" class=\"nav-link dropdown-toggle waves-light\" mdbWavesEffect>\n              {{ languageCode | i18nSelect:menuMap.plan }}\n            </a>\n            <div *dropdownMenu class=\"dropdown-menu dropdown dropdown-primary\" role=\"menu\">\n              <ng-container *ngIf=\"isAuth$|async; else planElseBlock\">\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"administrator/plan/origin\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.planOrigin }}\n                </a>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"administrator/plan/current\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.planCurrent }}\n                </a>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"administrator/plan/history\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.planHistory }}\n                </a>\n              </ng-container>\n              <ng-template #planElseBlock>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"plan/origin\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.planOrigin }}\n                </a>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"plan/current\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.planCurrent }}\n                </a>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"plan/history\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.planHistory }}\n                </a>\n              </ng-template>\n            </div>\n          </li>\n          <li class=\"nav-item dropdown\" dropdown>\n            <a dropdownToggle mdbWavesEffect type=\"button\" class=\"nav-link dropdown-toggle waves-light\" mdbWavesEffect>\n              {{ languageCode | i18nSelect:menuMap.school }}\n            </a>\n            <div *dropdownMenu class=\"dropdown-menu dropdown dropdown-primary\" role=\"menu\">\n              <ng-container *ngIf=\"isAuth$|async; else schoolElseBlock\">\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"administrator/school/calendar\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.schoolCalendar }}\n                </a>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"administrator/school/gallery\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.schoolGallery }}\n                </a>\n              </ng-container>\n              <ng-template #schoolElseBlock>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"school/calendar\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.schoolCalendar }}\n                </a>\n                <a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"school/gallery\" routerLinkActive=\"active\">\n                  {{ languageCode | i18nSelect:menuMap.schoolGallery }}\n                </a>\n              </ng-template>\n            </div>\n          </li>\n          <!--<li class=\"nav-item dropdown\" dropdown>-->\n            <!--<a dropdownToggle mdbWavesEffect type=\"button\" class=\"nav-link dropdown-toggle waves-light\" mdbWavesEffect>-->\n              <!--炫藝場-->\n            <!--</a>-->\n            <!--<div *dropdownMenu class=\"dropdown-menu dropdown dropdown-primary\" role=\"menu\">-->\n              <!--<a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"/art/upcoming\" routerLinkActive=\"active\">活動預告</a>-->\n              <!--<a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"/art/vr\" routerLinkActive=\"active\">VR藝廊</a>-->\n            <!--</div>-->\n          <!--</li>-->\n          <!--<li class=\"nav-item dropdown\" dropdown>-->\n            <!--<a dropdownToggle mdbWavesEffect type=\"button\" class=\"nav-link dropdown-toggle waves-light\" mdbWavesEffect>-->\n              <!--藝術家資料庫-->\n            <!--</a>-->\n            <!--<div *dropdownMenu class=\"dropdown-menu dropdown dropdown-primary\" role=\"menu\">-->\n              <!--<a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"/database/artist\" routerLinkActive=\"active\">大藝術家</a>-->\n              <!--<a class=\"dropdown-item waves-light\" mdbWavesEffect routerLink=\"/database/coolguy\" routerLinkActive=\"active\">炫小子</a>-->\n            <!--</div>-->\n          <!--</li>-->\n          <!--<li class=\"nav-item waves-light\" [ngClass]=\"highLightMenu == '/donation' ? 'active' : ''\" mdbWavesEffect>-->\n            <!--<a class=\"nav-link\" routerLink=\"/donation\" routerLinkActive=\"active\">贊助炫光</a>-->\n          <!--</li>-->\n        </ul>\n      </links>\n    </mdb-navbar>\n  `\n})\nexport class NavigationMenuComponent implements OnDestroy {\n  @Input() color: string;\n  highLightMenu = '/about';\n  languageCode: string;\n  pathSubscription;\n  langSubscription;\n  isAuth$;\n  menuMap;\n\n  constructor(private settingService: SettingService) {\n    this.langSubscription = this.settingService.langCode$\n      .subscribe(lang => {\n        this.languageCode = lang;\n      });\n    this.pathSubscription = this.settingService.path$\n      .subscribe(url => {\n        this.highLightMenu = url;\n      });\n    this.isAuth$ = this.settingService.authState$.pipe(map(user => {\n      return user !== null;\n    }));\n    this.menuMap = this.settingService.menuMap;\n  }\n  ngOnDestroy() {\n    this.pathSubscription.unsubscribe();\n    this.langSubscription.unsubscribe();\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {NavigationMenuComponent} from './navigation.menu.component';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {NavigationHeaderComponent} from './navigation.header.component';\nimport {NavigationFooterComponent} from './navigation.footer.component';\nimport {RouterModule} from '@angular/router';\nimport {MDBBootstrapModulesPro} from 'ng-uikit-pro-standard';\nimport {CarouselMainComponent} from '../components/carousel.main.component';\nimport {StringArrayPipeExceptEmptyPipe} from '../pipe/stringArrayPipe.exceptEmpty.pipe';\nimport {ArrayMoreThanOnePipe} from '../pipe/array.moreThanOne.pipe';\nimport {ArrayLengthPipe} from '../pipe/array.length.pipe';\nimport {ArrayMoreThanZeroPipe} from '../pipe/array.moreThanZero.pipe';\nimport {CarouselVideoComponent} from '../components/carousel.video.component';\n\n@NgModule({\n  imports: [\n    BrowserModule, BrowserAnimationsModule, RouterModule,\n    MDBBootstrapModulesPro.forRoot(),\n  ],\n  declarations: [\n    StringArrayPipeExceptEmptyPipe, ArrayMoreThanZeroPipe, ArrayMoreThanOnePipe, ArrayLengthPipe,\n    NavigationHeaderComponent, NavigationMenuComponent, NavigationFooterComponent,\n    CarouselMainComponent, CarouselVideoComponent\n  ],\n  providers: [],\n  exports: [\n    NavigationHeaderComponent, NavigationMenuComponent, NavigationFooterComponent,\n    CarouselMainComponent, CarouselVideoComponent\n  ]\n})\nexport class NavigationModule {\n}\n","\n    <div class=\"container\">\n      <h1>查無此頁面</h1>\n    </div>\n  ","import {Component} from '@angular/core';\n\n@Component({\n  template: `\n    <div class=\"container\">\n      <h1>查無此頁面</h1>\n    </div>\n  `\n})\nexport class Page404Component {\n  constructor() {}\n}\n","\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"關於\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of paragraphList; let i = index\">\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"關於 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"關於 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\">\n      <div *ngIf=\"embedVideoUrl\" class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" [src]=\"embedVideoUrl\" allowfullscreen>\n        </iframe>\n      </div>\n    </div>\n  ","import {DomSanitizer, SafeUrl} from '@angular/platform-browser';\nimport {Component, OnDestroy, OnInit} from '@angular/core';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {ParagraphModel} from '../model/paragraph.model';\nimport {SettingService} from '../core/setting.service';\nimport {catchError} from 'rxjs/operators';\nimport {Observable, of, zip} from 'rxjs';\nimport {Router} from '@angular/router';\n\n@Component({\n  template: `\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"關於\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of paragraphList; let i = index\">\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"關於 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"關於 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\">\n      <div *ngIf=\"embedVideoUrl\" class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" [src]=\"embedVideoUrl\" allowfullscreen>\n        </iframe>\n      </div>\n    </div>\n  `\n})\nexport class PageAboutComponent implements OnInit, OnDestroy {\n  carouselImageList: Observable<string[]>;\n  paragraphList: ParagraphModel[] = [];\n  paragraphListSubscription;\n  embedVideoUrlSubscription;\n  embedVideoUrlString = '';\n  embedVideoUrl: SafeUrl;\n\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router, private sanitizer: DomSanitizer) {\n    this.settingService.path$.next(this.router.url);\n    this.getCarouselImageList();\n  }\n  ngOnInit() {\n    this.paragraphListSubscription = this.database.list('about/paragraphList').snapshotChanges()\n      .subscribe(results => {\n        this.paragraphList = results.map(element => {\n          return new ParagraphModel(element.payload.val(), element.key);\n        });\n      });\n    this.embedVideoUrlSubscription = this.database.object('about/embedVideoUrl').snapshotChanges()\n      .subscribe(results => {\n        this.embedVideoUrlString = String(results.payload.val());\n        if (this.embedVideoUrlString !== '' && this.embedVideoUrlString !== 'null') {\n          this.embedVideoUrl = this.sanitizer.bypassSecurityTrustResourceUrl(this.embedVideoUrlString);\n        } else {\n          this.embedVideoUrl = null;\n        }\n      });\n  }\n  ngOnDestroy() {\n    this.paragraphListSubscription.unsubscribe();\n    this.embedVideoUrlSubscription.unsubscribe();\n  }\n\n  private getCarouselImageList() {\n    this.carouselImageList = zip(\n      this.storage.ref('about/carousel/image_0').getDownloadURL().pipe(catchError(_ => of(''))),\n      this.storage.ref('about/carousel/image_1').getDownloadURL().pipe(catchError(_ => of(''))),\n      this.storage.ref('about/carousel/image_2').getDownloadURL().pipe(catchError(_ => of(''))),\n      this.storage.ref('about/carousel/image_3').getDownloadURL().pipe(catchError(_ => of(''))));\n  }\n}\n","\n    <div class=\"row\">\n      <div class=\"col-1\"></div>\n      <div class=\"col-10\">\n        <app-page-title-component title=\"活動預告\" topImage=false></app-page-title-component>\n      </div>\n      <div class=\"col-1\"></div>\n    </div>\n    <ng-container *ngFor=\"let upcoming of upcomingList\">\n      <div class=\"row\">\n        <div class=\"container-fluid\" style=\"position: absolute\">\n          <div class=\"row\">\n            <div class=\"col-11\">\n              <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingUpcoming = upcoming; form_edit.show();\">\n                <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                  <i class=\"fa fa-edit\"> </i>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-1\"></div>\n        <div class=\"col-10\">\n          <div class=\"row\">\n            <div class=\"col-8\">\n              <a routerLink=\"/art/upcoming/{{upcoming.key}}\">\n                <app-image-ratio-component image=\"{{ upcoming.imgUrl }}\" ratio=\"3:1\">\n                </app-image-ratio-component>\n              </a>\n            </div>\n            <div class=\"col-4\">\n              <h2>{{ upcoming.title }}</h2>\n              <strong>{{ upcoming.subTitle }}</strong>\n              <div *ngFor=\"let text of upcoming.content|stringNewLine\">\n                {{ text }}<br>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-1\"></div>\n      </div>\n      <app-separate-right-component></app-separate-right-component>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\" (click)=\"this.inputImage = null; this.editingUpcoming = newUpcoming; form_edit.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div mdbModal #form_edit=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\" *ngIf=\"editingUpcoming.key != ''\"><i class=\"fa fa-pencil\"></i> 編輯活動預告 </h4>\n            <h4 class=\"title\" *ngIf=\"editingUpcoming.key == ''\"><i class=\"fa fa-pencil\"></i> 新增活動預告 </h4>\n            <button id=\"form-edit-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_edit.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <input #title type=\"text\" class=\"form-control\"\n                     placeholder=\"標題\" value=\"{{ editingUpcoming.title }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <input #subTitle type=\"text\" class=\"form-control\"\n                     placeholder=\"副標題\" value=\"{{ editingUpcoming.subTitle }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingUpcoming.imgUrl }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #content mdbInputDirective type=\"text\"\n                            class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingUpcoming.content }}\"></textarea>\n                </div>\n              </div>\n              <input #fileInput mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingUpcoming.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"add(title.value, subTitle.value, content.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingUpcoming.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"delete(editingUpcoming.key)\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingUpcoming.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"update(title.value, subTitle.value, content.value, editingUpcoming.key)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ","import {Component, OnDestroy} from '@angular/core';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireAuth} from 'angularfire2/auth';\nimport {Observable, Subscription} from 'rxjs';\nimport {Router} from '@angular/router';\nimport {delay, map, retry} from 'rxjs/operators';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {UpcomingModel} from '../model/upcoming.model';\nimport {SettingService} from '../core/setting.service';\n\n@Component({\n  template: `\n    <div class=\"row\">\n      <div class=\"col-1\"></div>\n      <div class=\"col-10\">\n        <app-page-title-component title=\"活動預告\" topImage=false></app-page-title-component>\n      </div>\n      <div class=\"col-1\"></div>\n    </div>\n    <ng-container *ngFor=\"let upcoming of upcomingList\">\n      <div class=\"row\">\n        <div class=\"container-fluid\" style=\"position: absolute\">\n          <div class=\"row\">\n            <div class=\"col-11\">\n              <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingUpcoming = upcoming; form_edit.show();\">\n                <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                  <i class=\"fa fa-edit\"> </i>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-1\"></div>\n        <div class=\"col-10\">\n          <div class=\"row\">\n            <div class=\"col-8\">\n              <a routerLink=\"/art/upcoming/{{upcoming.key}}\">\n                <app-image-ratio-component image=\"{{ upcoming.imgUrl }}\" ratio=\"3:1\">\n                </app-image-ratio-component>\n              </a>\n            </div>\n            <div class=\"col-4\">\n              <h2>{{ upcoming.title }}</h2>\n              <strong>{{ upcoming.subTitle }}</strong>\n              <div *ngFor=\"let text of upcoming.content|stringNewLine\">\n                {{ text }}<br>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-1\"></div>\n      </div>\n      <app-separate-right-component></app-separate-right-component>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\" (click)=\"this.inputImage = null; this.editingUpcoming = newUpcoming; form_edit.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div mdbModal #form_edit=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\" *ngIf=\"editingUpcoming.key != ''\"><i class=\"fa fa-pencil\"></i> 編輯活動預告 </h4>\n            <h4 class=\"title\" *ngIf=\"editingUpcoming.key == ''\"><i class=\"fa fa-pencil\"></i> 新增活動預告 </h4>\n            <button id=\"form-edit-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_edit.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <input #title type=\"text\" class=\"form-control\"\n                     placeholder=\"標題\" value=\"{{ editingUpcoming.title }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <input #subTitle type=\"text\" class=\"form-control\"\n                     placeholder=\"副標題\" value=\"{{ editingUpcoming.subTitle }}\">\n            </div>\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingUpcoming.imgUrl }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #content mdbInputDirective type=\"text\"\n                            class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingUpcoming.content }}\"></textarea>\n                </div>\n              </div>\n              <input #fileInput mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingUpcoming.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"add(title.value, subTitle.value, content.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingUpcoming.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"delete(editingUpcoming.key)\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingUpcoming.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"update(title.value, subTitle.value, content.value, editingUpcoming.key)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class PageArtUpcomingComponent implements OnDestroy {\n  uploading = false;\n  newUpcoming = new UpcomingModel('', '');\n  editingUpcoming = new UpcomingModel('', '');\n  upcomingSubscription: Subscription;\n  upcomingList: UpcomingModel[];\n  inputImage: HTMLInputElement;\n  uploadPercent: Observable<string>;\n  constructor(private database: AngularFireDatabase,\n    private storage: AngularFireStorage,\n    private settingService: SettingService,\n    private router: Router) {\n    this.settingService.path$.next(this.router.url);\n    this.getInfo();\n  }\n  ngOnDestroy () {\n    if (this.upcomingSubscription) {\n      this.upcomingSubscription.unsubscribe();\n    }\n  }\n  getInfo() {\n    if (this.upcomingSubscription) {\n      this.upcomingSubscription.unsubscribe();\n    }\n    this.upcomingSubscription = this.database\n      .list('art/upcoming')\n      .snapshotChanges()\n      .pipe(map(action => {\n        return action.map(json => new UpcomingModel(json.payload.val(), json.key));\n      }))\n      .subscribe(results => {\n        this.upcomingList = results;\n      });\n  }\n  add(title: string, subTitle: string, content: string) {\n    let latestKey = 0;\n    for (const model of this.upcomingList) {\n      if (Number(model.key) > latestKey) {\n        latestKey = Number(model.key);\n      }\n    }\n    if (this.inputImage) {\n      this.uploading = true;\n      const fileRef = 'art/upcoming/image_' + (latestKey + 1);\n      const task = this.storage.upload(fileRef, this.inputImage);\n      this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n        map((number) => {\n          if (number === 100) {\n            this.storage.ref(fileRef)\n              .getDownloadURL()\n              .pipe(delay(1000))\n              .pipe(retry(2))\n              .subscribe(value => {\n                this.database.object('art/upcoming/' + (latestKey + 1))\n                  .set({title: title, subTitle: subTitle, content: content, imgUrl: value})\n                  .then(_ => {\n                    this.uploading = false;\n                    (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n                  });\n              });\n          }\n          return number + '%';\n        })\n      );\n    } else {\n      alert('請選擇一張圖片');\n    }\n  }\n  update(title: string, subTitle: string, content: string, key: string) {\n    if (this.inputImage) {\n      this.uploading = true;\n      const fileRef = 'art/upcoming/image_' + key;\n      const task = this.storage.upload(fileRef, this.inputImage);\n      this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n        map((number) => {\n          if (number === 100) {\n            this.storage.ref(fileRef)\n              .getDownloadURL()\n              .pipe(delay(1000))\n              .pipe(retry(2))\n              .subscribe(value => {\n                this.database.object('art/upcoming/' + key)\n                  .update({title: title, subTitle: subTitle, content: content, imgUrl: value})\n                  .then(_ => {\n                    this.uploading = false;\n                    (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n                  });\n              });\n          }\n          return number + '%';\n        })\n      );\n    } else {\n      this.database.object('art/upcoming/' + key)\n        .update({title: title, subTitle: subTitle, content: content})\n        .then(_ => {\n          (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n  delete(key: string) {\n    this.storage.ref('art/upcoming/image_' + key).delete();\n    this.database.object('art/upcoming/' + key).remove().then( _ => {\n      (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n    });\n  }\n}\n","\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"row\" style=\"margin-top: -50px\">\n      <div class=\"col-1\"></div>\n      <div class=\"col-10\">\n        <app-page-title-component title=\"歷屆炫光 - {{ upcoming.title }}\"></app-page-title-component>\n      </div>\n      <div class=\"col-1\"></div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of upcoming.paragraphList; let i = index\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"col-10\">\n          <div class=\"container-fluid\" style=\"position: absolute\">\n            <div class=\"row\">\n              <div class=\"col-11\">\n                <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingParagraph = paragraph; form_paragraph.show()\">\n                  <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                    <i class=\"fa fa-edit\"> </i>\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n          <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n            <div class=\"row\">\n              <div class=\"col-2\">\n                <div class=\"row\">\n                  <div class=\"col-12\">\n                    <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"歷屆炫光 - {{ upcoming.title }}\">\n                    </app-image-ratio-component>\n                  </div>\n                  <div class=\"col-12\">\n                    <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-10\">\n                <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                  <p>{{ text }}</p>\n                </ng-container>\n              </div>\n            </div>\n          </ng-container>\n          <ng-template #paragraphElseBlock>\n            <div class=\"row\">\n              <div class=\"col-10\">\n                <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                  <p>{{ text }}</p>\n                </ng-container>\n              </div>\n              <div class=\"col-2\">\n                <div class=\"row\">\n                  <div class=\"col-12\">\n                    <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"歷屆炫光 - {{ upcoming.title }}\">\n                    </app-image-ratio-component>\n                  </div>\n                  <div class=\"col-12\" style=\"text-align: right\">\n                    <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </ng-template>\n        </div>\n        <div class=\"col-1\"></div>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\" (click)=\"this.inputImage = null; newParagraph.key = ''; this.editingParagraphContent = '';\n          this.editingParagraph = newParagraph; form_paragraph.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_paragraph=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 歷屆炫光 - {{ upcoming.title }} 內容編輯 </h4>\n            <button id=\"form-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_paragraph.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingParagraph.img }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #paragraph type=\"text\" [(ngModel)]=\"editingParagraphContent\"\n                            class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingParagraph.content }}\"></textarea>\n                </div>\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingParagraph.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"addParagraph(paragraph.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"deleteParagraph()\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"updateParagraph()\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Observable, of, zip} from 'rxjs';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireAuth} from 'angularfire2/auth';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {catchError, delay, flatMap, map, retry} from 'rxjs/operators';\nimport {SettingService} from '../core/setting.service';\nimport {ParagraphModel} from '../model/paragraph.model';\nimport {UpcomingModel} from '../model/upcoming.model';\n\n@Component({\n  template: `\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"row\" style=\"margin-top: -50px\">\n      <div class=\"col-1\"></div>\n      <div class=\"col-10\">\n        <app-page-title-component title=\"歷屆炫光 - {{ upcoming.title }}\"></app-page-title-component>\n      </div>\n      <div class=\"col-1\"></div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of upcoming.paragraphList; let i = index\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"col-10\">\n          <div class=\"container-fluid\" style=\"position: absolute\">\n            <div class=\"row\">\n              <div class=\"col-11\">\n                <div class=\"float-right\" (click)=\"this.inputImage = null; this.editingParagraph = paragraph; form_paragraph.show()\">\n                  <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n                    <i class=\"fa fa-edit\"> </i>\n                  </a>\n                </div>\n              </div>\n            </div>\n          </div>\n          <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n            <div class=\"row\">\n              <div class=\"col-2\">\n                <div class=\"row\">\n                  <div class=\"col-12\">\n                    <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"歷屆炫光 - {{ upcoming.title }}\">\n                    </app-image-ratio-component>\n                  </div>\n                  <div class=\"col-12\">\n                    <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                  </div>\n                </div>\n              </div>\n              <div class=\"col-10\">\n                <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                  <p>{{ text }}</p>\n                </ng-container>\n              </div>\n            </div>\n          </ng-container>\n          <ng-template #paragraphElseBlock>\n            <div class=\"row\">\n              <div class=\"col-10\">\n                <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                  <p>{{ text }}</p>\n                </ng-container>\n              </div>\n              <div class=\"col-2\">\n                <div class=\"row\">\n                  <div class=\"col-12\">\n                    <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"歷屆炫光 - {{ upcoming.title }}\">\n                    </app-image-ratio-component>\n                  </div>\n                  <div class=\"col-12\" style=\"text-align: right\">\n                    <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </ng-template>\n        </div>\n        <div class=\"col-1\"></div>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\" style=\"position: absolute; margin-top: -55px\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\" (click)=\"this.inputImage = null; newParagraph.key = ''; this.editingParagraphContent = '';\n          this.editingParagraph = newParagraph; form_paragraph.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-plus\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n\n    <div mdbModal #form_paragraph=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> 歷屆炫光 - {{ upcoming.title }} 內容編輯 </h4>\n            <button id=\"form-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form_paragraph.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n              <div class=\"row\">\n                <div class=\"col-4 border-dark\">\n                  <app-image-ratio-component image=\"{{ editingParagraph.img }}}\" ratio=\"1:1\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-8\">\n                  <textarea #paragraph type=\"text\" [(ngModel)]=\"editingParagraphContent\"\n                            class=\"md-textarea form-control\" rows=\"2\" value=\"{{ editingParagraph.content }}\"></textarea>\n                </div>\n              </div>\n              <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.inputImage = $event.target.files[0]\">\n              <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n                   [ngStyle]=\"{'width' : uploadPercent | async}\">\n                {{ uploadPercent | async }}\n              </div>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button *ngIf=\"editingParagraph.key == ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"addParagraph(paragraph.value)\">\n              新增 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"deleteParagraph()\">\n              刪除 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n            <button *ngIf=\"editingParagraph.key != ''\" class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect\n                    (click)=\"updateParagraph()\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class PageArtUpcomingDetailComponent implements OnInit, OnDestroy {\n  private _uploadedImgUrl: string;\n  private upcomingSubscription;\n  private routerSubscription;\n  private _id: string;\n\n  editingParagraph = new ParagraphModel('', '');\n  newParagraph = new ParagraphModel('', '');\n  upcoming = new UpcomingModel('', '');\n  carouselImageList: Observable<string[]>;\n  uploadPercent: Observable<string>;\n  inputImage: HTMLInputElement;\n  editingParagraphContent = '';\n  uploading = false;\n\n  @Input()\n  set id(id: string) {\n    this._id = id;\n    this.carouselImageList = zip(\n      this.storage.ref('art/upcoming/image_' + id).getDownloadURL().pipe(catchError(_ => of('')))\n    );\n    this.upcomingSubscription = this.database.object('art/upcoming/' + id).snapshotChanges().pipe(\n      flatMap(results => {\n        this.upcoming = new UpcomingModel(results.payload.val(), results.key);\n        return this.database.list('art/upcoming/' + id + '/paragraphList').snapshotChanges();\n      }))\n      .subscribe(results => {\n        results.forEach(element => {\n          this.upcoming.paragraphList.push(new ParagraphModel(element.payload.val(), element.key));\n        });\n      });\n  }\n  get id() {\n    return this._id;\n  }\n\n  @Input()\n  set uploadedImgUrl(url: string) {\n    if (this.uploadedImgUrl !== url) {\n      this._uploadedImgUrl = url;\n      this.database.object('art/upcoming/' + this.id + '/paragraphList/' + this.editingParagraph.key)\n        .update({ content: this.editingParagraphContent, img : url })\n        .then(_ => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-close-btn') as HTMLElement).click();\n        }, reason => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n  get uploadedImgUrl() {\n    return this._uploadedImgUrl;\n  }\n\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router,\n              private route: ActivatedRoute) {\n    this.settingService.path$.next(this.router.url);\n  }\n  addParagraph(text: string) {\n    if (this.inputImage) {\n      this.uploading = true;\n      this.database.list('art/upcoming/' + this.id + '/paragraphList')\n        .push({content: text, img: 'imageUploading'})\n        .then(result => {\n          this.editingParagraph.key = result.key;\n          const fileRef = 'art/upcoming/' + this.id + '/paragraphList/image_' + result.key;\n          const task = this.storage.upload(fileRef, this.inputImage);\n          this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n            map((number) => {\n              if (number === 100) {\n                this.storage.ref(fileRef)\n                  .getDownloadURL()\n                  .pipe(delay(1000))\n                  .pipe(retry(2))\n                  .subscribe(value => {\n                    this.uploadedImgUrl = value;\n                  });\n              }\n              return number + '%';\n            })\n          );\n        });\n    } else {\n      alert('請選擇一張圖片');\n    }\n  }\n  deleteParagraph() {\n    this.storage.ref('art/upcoming/' + this.id + '/paragraphList/image_' + this.editingParagraph.key).delete();\n    this.database.object('art/upcoming/' + this.id + '/paragraphList/' + this.editingParagraph.key).remove().then( _ => {\n      (document.getElementById('form-close-btn') as HTMLElement).click();\n    });\n  }\n  updateParagraph() {\n    if (this.inputImage) {\n      this.uploading = true;\n      const fileRef = 'art/upcoming/' + this.id + '/paragraphList/image_' + this.editingParagraph.key;\n      const task = this.storage.upload(fileRef, this.inputImage);\n      this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n        map((number) => {\n          if (number === 100) {\n            this.storage.ref(fileRef)\n              .getDownloadURL()\n              .pipe(delay(1000))\n              .pipe(retry(2))\n              .subscribe(value => {\n                this.uploadedImgUrl = value;\n              });\n          }\n          return number + '%';\n        })\n      );\n    } else {\n      this.database.object('art/upcoming/' + this.id + '/paragraphList/' + this.editingParagraph.key)\n        .update({ content: this.editingParagraphContent})\n        .then(_ => {\n          this.uploading = false;\n          this._uploadedImgUrl = null;\n          (document.getElementById('form-close-btn') as HTMLElement).click();\n        });\n    }\n  }\n  ngOnInit() {\n    this.routerSubscription = this.route\n      .params\n      .subscribe(param => {\n        this.id = String(+param['id']);\n      });\n  }\n\n  ngOnDestroy() {\n    this.routerSubscription.unsubscribe();\n    this.upcomingSubscription.unsubscribe();\n  }\n}\n","\n    <div class=\"row\">\n      <div class=\"col-1\"></div>\n      <div class=\"col-10\">\n        <app-page-title-component title=\"VR 藝廊\" topImage=false></app-page-title-component>\n        <div class=\"embed-responsive embed-responsive-21by9\">\n          <iframe class=\"embed-responsive-item\" src=\"https://player.vimeo.com/video/137857207\"></iframe>\n        </div>\n        <div class=\"mt-5\">\n          <div *ngFor=\"let text of description|async|stringNewLine\">\n            {{ text }}<br>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-1\"></div>\n    </div>\n    <div class=\"container\" style=\"position: absolute\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\" (click)=\"form.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-edit\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div mdbModal #form=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> VR 藝廊 內容編輯 </h4>\n            <button id=\"form-edit-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n                <textarea #content mdbInputDirective type=\"text\"\n                          class=\"md-textarea form-control\" rows=\"10\" value=\"{{ description | async }}\"></textarea>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect (click)=\"update(content.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  ","import {Component} from '@angular/core';\nimport {Observable} from 'rxjs';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireAuth} from 'angularfire2/auth';\nimport {Router} from '@angular/router';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {SettingService} from '../core/setting.service';\nimport {map} from 'rxjs/operators';\n\n@Component({\n  template: `\n    <div class=\"row\">\n      <div class=\"col-1\"></div>\n      <div class=\"col-10\">\n        <app-page-title-component title=\"VR 藝廊\" topImage=false></app-page-title-component>\n        <div class=\"embed-responsive embed-responsive-21by9\">\n          <iframe class=\"embed-responsive-item\" src=\"https://player.vimeo.com/video/137857207\"></iframe>\n        </div>\n        <div class=\"mt-5\">\n          <div *ngFor=\"let text of description|async|stringNewLine\">\n            {{ text }}<br>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-1\"></div>\n    </div>\n    <div class=\"container\" style=\"position: absolute\">\n      <div class=\"row\">\n        <div class=\"col-1\"></div>\n        <div class=\"float-left\" (click)=\"form.show()\">\n          <a class=\"btn-floating btn-small btn-default waves-light\" mdbWavesEffect>\n            <i class=\"fa fa-edit\"> </i>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div mdbModal #form=\"mdb-modal\" class=\"modal fade\" tabindex=\"-1\" role=\"dialog\" style=\"overflow: auto;\">\n      <div class=\"modal-dialog cascading-modal\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header light-blue darken-3 white-text\">\n            <h4 class=\"title\"><i class=\"fa fa-pencil\"></i> VR 藝廊 內容編輯 </h4>\n            <button id=\"form-edit-close-btn\" type=\"button\" class=\"close waves-effect waves-light\" data-dismiss=\"modal\"\n                    (click)=\"form.hide()\">\n              <span>×</span>\n            </button>\n          </div>\n          <div class=\"modal-body mb-0\">\n            <div class=\"md-form form-sm\">\n                <textarea #content mdbInputDirective type=\"text\"\n                          class=\"md-textarea form-control\" rows=\"10\" value=\"{{ description | async }}\"></textarea>\n            </div>\n          </div>\n          <div class=\"text-center mt-1-half\">\n            <button class=\"btn btn-info mb-2 waves-light\" mdbWavesEffect (click)=\"update(content.value)\">\n              更新 <i class=\"fa fa-save ml-1\"></i>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class PageArtVrComponent {\n  description: Observable<string>;\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router) {\n    this.settingService.path$.next(this.router.url);\n    this.description = this.database.object('art/vr')\n      .snapshotChanges()\n      .pipe(\n        map(value => value.payload.val()['description'])\n      );\n  }\n  update(text: string) {\n    this.database.object('art/vr')\n      .set({ description: text })\n      .then(_ => {\n        (document.getElementById('form-edit-close-btn') as HTMLElement).click();\n      });\n  }\n}\n","import {routes} from './routes';\nimport {NgModule} from '@angular/core';\nimport {AgmCoreModule} from '@agm/core';\nimport {FormsModule} from '@angular/forms';\nimport {RouterModule} from '@angular/router';\nimport {CoreModule} from '../core/core.module';\nimport {Page404Component} from './page.404.component';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {ModalGalleryModule} from 'angular-modal-gallery';\nimport {PageAboutComponent} from './page.about.component';\nimport {PageArtVrComponent} from './page.art.vr.component';\nimport {MDBBootstrapModulesPro} from 'ng-uikit-pro-standard';\nimport {PageDonationComponent} from './page.donation.component';\nimport {NavigationModule} from '../navigation/navigation.module';\nimport {PagePlanFormComponent} from './page.plan.form.component';\nimport {PagePlanOriginComponent} from './page.plan.origin.component';\nimport {PagePlanCurrentComponent} from './page.plan.current.component';\nimport {PagePlanHistoryComponent} from './page.plan.history.component';\nimport {PageArtUpcomingComponent} from './page.art.upcoming.component';\nimport {PageSchoolGalleryComponent} from './page.school.gallery.component';\nimport {PageSchoolCalendarComponent} from './page.school.calendar.component';\nimport {PageDatabaseArtistComponent} from './page.database.artist.component';\nimport {PageDatabaseCoolguyComponent} from './page.database.coolguy.component';\nimport {PageArtUpcomingDetailComponent} from './page.art.upcoming.detail.component';\nimport {PagePlanHistoryDetailComponent} from './page.plan.history.detail.component';\nimport {PageSchoolGalleryDetailComponent} from './page.school.gallery.detail.component';\nimport {PageSchoolCalendarDetailComponent} from './page.school.calendar.detail.component';\nimport {PageDatabaseArtistDetailComponent} from './page.database.artist.detail.component';\nimport {PageSchoolCalendarDetailFormComponent} from './page.school.calendar.detail.form.component';\n\n@NgModule({\n  imports: [\n    BrowserModule, FormsModule,\n    ModalGalleryModule.forRoot(),\n    NavigationModule, CoreModule,\n    AgmCoreModule.forRoot({\n      apiKey: 'AIzaSyAbQR5RhbaDwz6Kw3tGUgSmIdwRYCy9qxM',\n      language: 'zh-TW'\n    }),\n    RouterModule.forChild(routes),\n    MDBBootstrapModulesPro.forRoot()\n  ],\n  declarations: [\n    Page404Component, PageAboutComponent,\n    PagePlanOriginComponent, PagePlanCurrentComponent, PagePlanHistoryComponent, PagePlanHistoryDetailComponent, PagePlanFormComponent,\n    PageSchoolCalendarComponent, PageSchoolCalendarDetailComponent, PageSchoolCalendarDetailFormComponent,\n    PageSchoolGalleryComponent, PageSchoolGalleryDetailComponent,\n    PageArtUpcomingComponent, PageArtVrComponent, PageArtUpcomingDetailComponent,\n    PageDatabaseArtistComponent, PageDatabaseCoolguyComponent, PageDatabaseArtistDetailComponent,\n    PageDonationComponent\n  ],\n  providers: [],\n  exports: []\n})\nexport class PageModule {\n}\n","\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"本屆炫光\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of paragraphList; let i = index\">\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"本屆炫光 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"本屆炫光 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n  ","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {ParagraphModel} from '../model/paragraph.model';\nimport {SettingService} from '../core/setting.service';\nimport {catchError} from 'rxjs/operators';\nimport {Observable, of, zip} from 'rxjs';\nimport {Router} from '@angular/router';\n\n@Component({\n  template: `\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"本屆炫光\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of paragraphList; let i = index\">\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"本屆炫光 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"本屆炫光 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n  `\n})\nexport class PagePlanCurrentComponent implements OnInit, OnDestroy {\n  carouselImageList: Observable<string[]>;\n  paragraphList: ParagraphModel[] = [];\n  paragraphListSubscription;\n\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router) {\n    this.settingService.path$.next(this.router.url);\n    this.getCarouselImageList();\n  }\n  ngOnInit() {\n    this.paragraphListSubscription = this.database.list('plan/current/paragraphList').snapshotChanges()\n      .subscribe(results => {\n        this.paragraphList = results.map(element => {\n          return new ParagraphModel(element.payload.val(), element.key);\n        });\n      });\n  }\n  ngOnDestroy() {\n    this.paragraphListSubscription.unsubscribe();\n  }\n\n  private getCarouselImageList() {\n    this.carouselImageList = zip(\n      this.storage.ref('plan/current/carousel/image_0').getDownloadURL().pipe(catchError(_ => of(''))));\n  }\n}\n","\n    <div class=\"container\">\n      <h5 class=\"mt-5\">炫光計畫報名表</h5>\n      <div class=\"row mt-2\">\n        <div class=\"col-md-6\">\n          <div class=\"form-group\">\n            <strong>1. 作品上傳</strong>\n            <p>JPG檔/大小 300 KB 以內</p>\n            <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.formFile = $event.target.files[0]\">\n            <br>\n            <p>或影音檔連結</p>\n            <input type=\"text\"\n                   name=\"formVideoUrl\"\n                   class=\"form-control\"\n                   placeholder=\"ex: https://www.youtube.com/watch?v=XXXXXXXX\"\n                   [(ngModel)]=\"formVideoUrl\">\n            <p>備註：每人限傳一件作品：音樂、歌唱、舞蹈、戲劇等表演藝術或錄像作品，請以 3 分鐘為限，平面或立體作品長寬高限制在 100 公分以內。\n            </p>\n            <p>作品名稱/媒材/尺寸</p>\n            <div class=\"row\">\n              <div class=\"col-md-4\">\n                <input type=\"text\" name=\"formProductName\" class=\"form-control\" required [(ngModel)]=\"formProductName\">\n              </div>\n              <div class=\"col-md-4\">\n                <input type=\"text\" name=\"formProductMaterial\" class=\"form-control\" required [(ngModel)]=\"formProductMaterial\">\n              </div>\n              <div class=\"col-md-4\">\n                <input type=\"text\" name=\"formProductSize\" class=\"form-control\" required [(ngModel)]=\"formProductSize\">\n              </div>\n            </div>\n          </div>\n          <div class=\"form-group\">\n            <strong>2. 姓名</strong>\n            <input type=\"text\"\n                   name=\"formName\"\n                   class=\"form-control\"\n                   placeholder=\"ex: 徐英豪\"\n                   required [(ngModel)]=\"formName\">\n          </div>\n          <div class=\"form-group\">\n            <strong>3. 年齡<span style=\"font-size: 12px; color: darkgray;\">(至2018/9/16，實足歲滿13歲至未滿23歲之間)</span></strong>\n            <input type=\"number\"\n                   name=\"formAge\"\n                   class=\"form-control\"\n                   placeholder=\"ex: 18\"\n                   required [(ngModel)]=\"formAge\">\n          </div>\n          <div class=\"form-group\">\n            <strong>4. 連絡地址</strong>\n            <input type=\"text\"\n                   name=\"formAddress\"\n                   class=\"form-control\"\n                   placeholder=\"ex: 新北市淡水區強強路1000巷10號\"\n                   required [(ngModel)]=\"formAddress\">\n          </div>\n          <div class=\"form-group\">\n            <strong>5. 電話</strong>\n            <input type=\"text\"\n                   name=\"formHomePhone\"\n                   class=\"form-control\"\n                   placeholder=\"住家\"\n                   [(ngModel)]=\"formHomePhone\">\n            <input type=\"text\"\n                   name=\"formCellPhone\"\n                   class=\"form-control\"\n                   placeholder=\"手機\"\n                   [(ngModel)]=\"formCellPhone\">\n          </div>\n          <div class=\"form-group\">\n            <strong>6. MAIL</strong>\n            <input type=\"email\"\n                   name=\"formMail\"\n                   class=\"form-control\"\n                   placeholder=\"ex: aa45678@gmail.com\"\n                   required [(ngModel)]=\"formMail\">\n          </div>\n          <div class=\"form-group\">\n            <strong>7. 就讀學校</strong>\n            <input type=\"text\"\n                   name=\"formSchool\"\n                   class=\"form-control\"\n                   placeholder=\"ex: 台北藝術大學美術學系\"\n                   required [(ngModel)]=\"formSchool\">\n          </div>\n        </div>\n        <div class=\"col-md-6\">\n          <div class=\"form-group\">\n            <strong>8. 自我介紹</strong>\n            <textarea type=\"text\" [(ngModel)]=\"formIntroduce\"\n                      placeholder=\"ex: 熱愛東方文化。覺得悲劇非常美。或許是相由心生，沒表情的時候看起來很憂鬱。生長在桃園市郊，\n這裡一直有一種冷清的感覺，尤其陰雨天，窗外的一切看起來都帶著濃厚的疏離感。畫畫，是我最喜歡的事，能抒發情緒更能帶動成長，如果可以的話，\n我希望就這麼一直畫下去。\" class=\"md-textarea form-control\" rows=\"7\"></textarea>\n          </div>\n          <div class=\"form-group\">\n            <strong>9. 理想<span style=\"font-size: 12px; color: darkgray;\">(可填可不填)</span></strong>\n            <textarea type=\"text\" [(ngModel)]=\"formDream\"\n                      class=\"md-textarea form-control\" rows=\"7\"></textarea>\n          </div>\n          <div class=\"form-group\">\n            <strong>10. 作品創作理念<span style=\"font-size: 12px; color: darkgray;\">(300字為限)</span></strong>\n            <textarea type=\"text\" [(ngModel)]=\"formCreateConcept\"\n                      placeholder=\"ex: 當地震、海嘯、火山爆發等天然災害來臨前，均會產生頻率非常低的聲波，即「次聲波」。\n  次聲波是指頻率小於20赫茲（人耳能聽見的最小頻率），但是高於氣候造成的氣壓變動的聲波。人耳基本上聽不到次聲波，但是能通過其波壓感受到，\n  而有些動物能直接聽到次聲波並且避開災難。我藉由人與次聲波之間的關係，來表達自己對於禍患來臨之前的感受。\n  禍患雖然無法預知，但在發生之前往往會有預感，可能在一早醒來、駕駛途中、電話響起的瞬間、或是異於尋常的話語。一切一如往常，也說不出哪裡不對勁，\n  或許真的會發生什麼事情，有時也可能只是杞人憂天。\n  \" class=\"md-textarea form-control\" rows=\"12\"></textarea>\n          </div>\n          <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n               [ngStyle]=\"{'width' : uploadPercent | async}\">\n            {{ uploadPercent | async }}\n          </div>\n          <p class=\"float-right\">\n            <input type=\"submit\" class=\"btn btn-dark\" value=\"提交\" (click)=\"submit()\">\n          </p>\n        </div>\n      </div>\n    </div>\n  ","import {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {ToastService} from 'ng-uikit-pro-standard';\nimport {delay, map, retry} from 'rxjs/operators';\nimport {Component, Input} from '@angular/core';\nimport {Observable} from 'rxjs';\n\n@Component({\n  template: `\n    <div class=\"container\">\n      <h5 class=\"mt-5\">炫光計畫報名表</h5>\n      <div class=\"row mt-2\">\n        <div class=\"col-md-6\">\n          <div class=\"form-group\">\n            <strong>1. 作品上傳</strong>\n            <p>JPG檔/大小 300 KB 以內</p>\n            <input mdbInputDirective type=\"file\" class=\"form-control\" (change)=\"this.formFile = $event.target.files[0]\">\n            <br>\n            <p>或影音檔連結</p>\n            <input type=\"text\"\n                   name=\"formVideoUrl\"\n                   class=\"form-control\"\n                   placeholder=\"ex: https://www.youtube.com/watch?v=XXXXXXXX\"\n                   [(ngModel)]=\"formVideoUrl\">\n            <p>備註：每人限傳一件作品：音樂、歌唱、舞蹈、戲劇等表演藝術或錄像作品，請以 3 分鐘為限，平面或立體作品長寬高限制在 100 公分以內。\n            </p>\n            <p>作品名稱/媒材/尺寸</p>\n            <div class=\"row\">\n              <div class=\"col-md-4\">\n                <input type=\"text\" name=\"formProductName\" class=\"form-control\" required [(ngModel)]=\"formProductName\">\n              </div>\n              <div class=\"col-md-4\">\n                <input type=\"text\" name=\"formProductMaterial\" class=\"form-control\" required [(ngModel)]=\"formProductMaterial\">\n              </div>\n              <div class=\"col-md-4\">\n                <input type=\"text\" name=\"formProductSize\" class=\"form-control\" required [(ngModel)]=\"formProductSize\">\n              </div>\n            </div>\n          </div>\n          <div class=\"form-group\">\n            <strong>2. 姓名</strong>\n            <input type=\"text\"\n                   name=\"formName\"\n                   class=\"form-control\"\n                   placeholder=\"ex: 徐英豪\"\n                   required [(ngModel)]=\"formName\">\n          </div>\n          <div class=\"form-group\">\n            <strong>3. 年齡<span style=\"font-size: 12px; color: darkgray;\">(至2018/9/16，實足歲滿13歲至未滿23歲之間)</span></strong>\n            <input type=\"number\"\n                   name=\"formAge\"\n                   class=\"form-control\"\n                   placeholder=\"ex: 18\"\n                   required [(ngModel)]=\"formAge\">\n          </div>\n          <div class=\"form-group\">\n            <strong>4. 連絡地址</strong>\n            <input type=\"text\"\n                   name=\"formAddress\"\n                   class=\"form-control\"\n                   placeholder=\"ex: 新北市淡水區強強路1000巷10號\"\n                   required [(ngModel)]=\"formAddress\">\n          </div>\n          <div class=\"form-group\">\n            <strong>5. 電話</strong>\n            <input type=\"text\"\n                   name=\"formHomePhone\"\n                   class=\"form-control\"\n                   placeholder=\"住家\"\n                   [(ngModel)]=\"formHomePhone\">\n            <input type=\"text\"\n                   name=\"formCellPhone\"\n                   class=\"form-control\"\n                   placeholder=\"手機\"\n                   [(ngModel)]=\"formCellPhone\">\n          </div>\n          <div class=\"form-group\">\n            <strong>6. MAIL</strong>\n            <input type=\"email\"\n                   name=\"formMail\"\n                   class=\"form-control\"\n                   placeholder=\"ex: aa45678@gmail.com\"\n                   required [(ngModel)]=\"formMail\">\n          </div>\n          <div class=\"form-group\">\n            <strong>7. 就讀學校</strong>\n            <input type=\"text\"\n                   name=\"formSchool\"\n                   class=\"form-control\"\n                   placeholder=\"ex: 台北藝術大學美術學系\"\n                   required [(ngModel)]=\"formSchool\">\n          </div>\n        </div>\n        <div class=\"col-md-6\">\n          <div class=\"form-group\">\n            <strong>8. 自我介紹</strong>\n            <textarea type=\"text\" [(ngModel)]=\"formIntroduce\"\n                      placeholder=\"ex: 熱愛東方文化。覺得悲劇非常美。或許是相由心生，沒表情的時候看起來很憂鬱。生長在桃園市郊，\n這裡一直有一種冷清的感覺，尤其陰雨天，窗外的一切看起來都帶著濃厚的疏離感。畫畫，是我最喜歡的事，能抒發情緒更能帶動成長，如果可以的話，\n我希望就這麼一直畫下去。\" class=\"md-textarea form-control\" rows=\"7\"></textarea>\n          </div>\n          <div class=\"form-group\">\n            <strong>9. 理想<span style=\"font-size: 12px; color: darkgray;\">(可填可不填)</span></strong>\n            <textarea type=\"text\" [(ngModel)]=\"formDream\"\n                      class=\"md-textarea form-control\" rows=\"7\"></textarea>\n          </div>\n          <div class=\"form-group\">\n            <strong>10. 作品創作理念<span style=\"font-size: 12px; color: darkgray;\">(300字為限)</span></strong>\n            <textarea type=\"text\" [(ngModel)]=\"formCreateConcept\"\n                      placeholder=\"ex: 當地震、海嘯、火山爆發等天然災害來臨前，均會產生頻率非常低的聲波，即「次聲波」。\n  次聲波是指頻率小於20赫茲（人耳能聽見的最小頻率），但是高於氣候造成的氣壓變動的聲波。人耳基本上聽不到次聲波，但是能通過其波壓感受到，\n  而有些動物能直接聽到次聲波並且避開災難。我藉由人與次聲波之間的關係，來表達自己對於禍患來臨之前的感受。\n  禍患雖然無法預知，但在發生之前往往會有預感，可能在一早醒來、駕駛途中、電話響起的瞬間、或是異於尋常的話語。一切一如往常，也說不出哪裡不對勁，\n  或許真的會發生什麼事情，有時也可能只是杞人憂天。\n  \" class=\"md-textarea form-control\" rows=\"12\"></textarea>\n          </div>\n          <div *ngIf=\"uploading === true\" style=\"height: 20px; background-color: burlywood\"\n               [ngStyle]=\"{'width' : uploadPercent | async}\">\n            {{ uploadPercent | async }}\n          </div>\n          <p class=\"float-right\">\n            <input type=\"submit\" class=\"btn btn-dark\" value=\"提交\" (click)=\"submit()\">\n          </p>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class PagePlanFormComponent {\n  date = Date();\n  year = new Date().getFullYear();\n  formFile: HTMLInputElement;\n  formVideoUrl = '';\n  formProductName = '';\n  formProductMaterial = '';\n  formProductSize = '';\n  formName = '';\n  formAge = '';\n  formAddress = '';\n  formHomePhone = '';\n  formCellPhone = '';\n  formMail = '';\n  formSchool = '';\n  formIntroduce = '';\n  formDream = '';\n  formCreateConcept = '';\n  formKey = '';\n  uploading = false;\n  toastFlag = true;\n  private _uploadedFileUrl: string;\n  uploadPercent: Observable<string>;\n\n  constructor(private database: AngularFireDatabase, private storage: AngularFireStorage, private toastService: ToastService) {}\n\n  @Input()\n  set uploadedFileUrl(url: string) {\n    if (this._uploadedFileUrl !== url) {\n      this._uploadedFileUrl = url;\n      this.database.object('plan/form/' + this.year + '/' + this.formKey)\n        .update({ fileUrl: url })\n        .then(_ => {\n          if (this.toastFlag) {\n            this.toastFlag = false;\n            const html = `<div>作品: </div><div><img src=\"${url}\"></div><div>影音檔連結: ${this.formVideoUrl}</div>\n<div>作品名稱: ${this.formProductName}</div><div>媒材: ${this.formProductMaterial}</div>\n<div>尺寸: ${this.formProductSize}</div><div>姓名: ${this.formName}</div><div>年齡: ${this.formAge}</div>\n<div>聯絡地址: ${this.formAddress}</div><div>住家電話: ${this.formHomePhone}</div><div>手機號碼: ${this.formCellPhone}</div>\n<div>Email: <a href=\"mailto:${this.formMail}\">${this.formMail}</a></div><div>就讀學校: ${this.formSchool}</div>\n<div>自我介紹: ${this.formIntroduce}</div><div>理想: ${this.formDream}</div><div>創作理念: ${this.formCreateConcept}</div>\n<div>表單送出時間: ${this.date}</div>`;\n            this.database.object('sendBox/' + this.formKey)\n              .set({\n                title: '報名本屆炫光_' + this.formName,\n                html: html,\n                date: this.date\n              })\n              .then(result => {\n                this._uploadedFileUrl = null;\n                this.uploading = false;\n                this.formKey = null;\n                this.formFile = null;\n                this.formVideoUrl = '';\n                this.formProductName = '';\n                this.formProductMaterial = '';\n                this.formProductSize = '';\n                this.formName = '';\n                this.formAge = '';\n                this.formAddress = '';\n                this.formHomePhone = '';\n                this.formCellPhone = '';\n                this.formMail = '';\n                this.formSchool = '';\n                this.formIntroduce = '';\n                this.formDream = '';\n                this.formCreateConcept = '';\n                this.toastService.success('表單送出成功！');\n              });\n          }\n        }, reason => {\n          this.uploading = false;\n          this.toastService.error('表單送出失敗，請稍候再試。');\n        });\n    }\n  }\n  get uploadedFileUrl() {\n    return this._uploadedFileUrl;\n  }\n\n  submit() {\n    if (this.formFile == null && this.formVideoUrl === '') {\n      alert('請選擇一張圖片或影音檔連結');\n    } else if (this.formFile != null && this.formFile.type !== 'image/jpeg' && this.formFile.type !== 'image/jpg') {\n      alert('圖片格式只接收 JPG 檔案');\n    } else if (this.formFile != null && this.formFile.size > 1024 * 300) {\n      alert('檔案大小必需在 300KB 以內');\n    } else if (this.formProductName === '') {\n      alert('請輸入作品名稱');\n    } else if (this.formProductMaterial === '') {\n      alert('請輸入媒材');\n    } else if (this.formProductSize === '') {\n      alert('請輸入尺寸');\n    } else if (this.formName === '') {\n      alert('請輸入姓名');\n    } else if (this.formAge === '') {\n      alert('請輸入年齡');\n    } else if (Number(this.formAge) < 13 || Number(this.formAge) > 22) {\n      alert('年齡必需在 13-22 歲');\n    } else if (this.formAddress === '') {\n      alert('請輸入聯絡地址');\n    } else if (this.formHomePhone === '' && this.formCellPhone === '') {\n      alert('請輸入住家電話或手機電話');\n    } else if (this.formMail === '') {\n      alert('請輸入 Email');\n    } else if (this.formSchool === '') {\n      alert('請輸入就讀學校');\n    } else if (this.formIntroduce === '') {\n      alert('請輸入自我介紹');\n    } else if (this.formCreateConcept === '') {\n      alert('請輸入創作理念');\n    } else if (this.formCreateConcept.length > 300) {\n      alert('創作理念字數不得超過 300 字');\n    } else {\n      this.uploading = true;\n      this.database.list('plan/form/' + this.year)\n        .push({\n          productName: this.formProductName,\n          productMaterial: this.formProductMaterial,\n          productSize: this.formProductSize,\n          videoUrl: this.formVideoUrl,\n          name: this.formName,\n          age: this.formAge,\n          address: this.formAddress,\n          homePhone: this.formHomePhone,\n          cellPhone: this.formCellPhone,\n          email: this.formMail,\n          school: this.formSchool,\n          introduce: this.formIntroduce,\n          dream: this.formDream,\n          createConcept: this.formCreateConcept,\n          fileUrl: 'fileUploading',\n          createdAt: this.date,\n        })\n        .then(result => {\n          this.toastFlag = true;\n          this.formKey = result.key;\n          if (this.formFile != null) {\n            const fileRef = 'plan/form/' + this.year + '/' + result.key;\n            const task = this.storage.upload(fileRef, this.formFile);\n            this.uploadPercent = task.percentageChanges().pipe(delay(1000)).pipe(\n              map((number) => {\n                if (number === 100) {\n                  this.storage.ref(fileRef)\n                    .getDownloadURL()\n                    .pipe(delay(1000))\n                    .pipe(retry(2))\n                    .subscribe(value => {\n                      this.uploadedFileUrl = value;\n                    });\n                }\n                return number + '%';\n              })\n            );\n          } else {\n            if (this.toastFlag) {\n              this.toastFlag = false;\n              const html = `<div>作品: </div><div>影音檔連結: ${this.formVideoUrl}</div>\n<div>作品名稱: ${this.formProductName}</div><div>媒材: ${this.formProductMaterial}</div>\n<div>尺寸: ${this.formProductSize}</div><div>姓名: ${this.formName}</div><div>年齡: ${this.formAge}</div>\n<div>聯絡地址: ${this.formAddress}</div><div>住家電話: ${this.formHomePhone}</div><div>手機號碼: ${this.formCellPhone}</div>\n<div>Email: <a href=\"mailto:${this.formMail}\">${this.formMail}</a></div><div>就讀學校: ${this.formSchool}</div>\n<div>自我介紹: ${this.formIntroduce}</div><div>理想: ${this.formDream}</div><div>創作理念: ${this.formCreateConcept}</div>\n<div>表單送出時間: ${this.date}</div>`;\n              this.database.object('sendBox/' + this.formKey)\n                .set({\n                  title: '報名本屆炫光_' + this.formName,\n                  html: html,\n                  date: this.date\n                })\n                .then(result2 => {\n                  this._uploadedFileUrl = null;\n                  this.uploading = false;\n                  this.formKey = null;\n                  this.formFile = null;\n                  this.formVideoUrl = '';\n                  this.formProductName = '';\n                  this.formProductMaterial = '';\n                  this.formProductSize = '';\n                  this.formName = '';\n                  this.formAge = '';\n                  this.formAddress = '';\n                  this.formHomePhone = '';\n                  this.formCellPhone = '';\n                  this.formMail = '';\n                  this.formSchool = '';\n                  this.formIntroduce = '';\n                  this.formDream = '';\n                  this.formCreateConcept = '';\n                  this.toastService.success('表單送出成功！');\n                });\n            }\n          }\n        });\n    }\n  }\n}\n","\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"歷屆炫光\" topImage=false></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let history of historyList\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-md-8 col-sm-12\">\n            <a routerLink=\"/plan/history/{{history.key}}\">\n              <app-image-ratio-component image=\"{{ history.imgUrl }}\" ratio=\"3:1\">\n              </app-image-ratio-component>\n            </a>\n          </div>\n          <div class=\"col-md-4 col-sm-12\">\n            <h2>{{ history.title }}</h2>\n            <strong>{{ history.subTitle }}</strong>\n            <div *ngFor=\"let text of history.content|stringNewLine\">\n              {{ text }}<br>\n            </div>\n          </div>\n        </div>\n      </div>\n      <app-separate-right-component></app-separate-right-component>\n    </ng-container>\n  ","import {Component, OnDestroy} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {SettingService} from '../core/setting.service';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {HistoryModel} from '../model/history.model';\nimport {Subscription} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\n@Component({\n  template: `\n    <div class=\"container\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"歷屆炫光\" topImage=false></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let history of historyList\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-md-8 col-sm-12\">\n            <a routerLink=\"/plan/history/{{history.key}}\">\n              <app-image-ratio-component image=\"{{ history.imgUrl }}\" ratio=\"3:1\">\n              </app-image-ratio-component>\n            </a>\n          </div>\n          <div class=\"col-md-4 col-sm-12\">\n            <h2>{{ history.title }}</h2>\n            <strong>{{ history.subTitle }}</strong>\n            <div *ngFor=\"let text of history.content|stringNewLine\">\n              {{ text }}<br>\n            </div>\n          </div>\n        </div>\n      </div>\n      <app-separate-right-component></app-separate-right-component>\n    </ng-container>\n  `\n})\nexport class PagePlanHistoryComponent implements OnDestroy {\n  historySubscription: Subscription;\n  historyList: HistoryModel[];\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router) {\n    this.settingService.path$.next(this.router.url);\n    this.getInfo();\n  }\n  ngOnDestroy () {\n    if (this.historySubscription) {\n      this.historySubscription.unsubscribe();\n    }\n  }\n  getInfo() {\n    if (this.historySubscription) {\n      this.historySubscription.unsubscribe();\n    }\n    this.historySubscription = this.database\n      .list('plan/history', ref => ref.orderByChild('date'))\n      .snapshotChanges()\n      .pipe(map(action => {\n        return action.map(json => new HistoryModel(json.payload.val(), json.key));\n      }))\n      .subscribe(results => {\n        this.historyList = results.reverse();\n      });\n  }\n}\n","\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <app-page-title-component title=\"歷屆炫光 - {{ history.title }}\"></app-page-title-component>\n    </div>\n    <ng-container *ngFor=\"let paragraph of history.paragraphList; let i = index\">\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\" (click)=\"this.photoImg=paragraph.img; photoModal.show()\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"歷屆炫光 - {{ history.title }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\" (click)=\"this.photoImg=paragraph.img; photoModal.show()\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"歷屆炫光 - {{ history.title }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\">\n      <div *ngIf=\"embedVideoUrl\" class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" [src]=\"embedVideoUrl\" allowfullscreen>\n        </iframe>\n      </div>\n    </div>\n    <div mdbModal #photoModal=\"mdbModal\" class=\"modal\" tabindex=\"-1\" role=\"dialog\">\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\n        <div class=\"modal-content\">\n          <div [ngStyle]=\"{'height':photoHeight}\">\n            <img class=\"photoImg\" src=\"{{ photoImg }}\"/>\n          </div>\n          <div class=\"modal-footer\">\n          </div>\n        </div>\n      </div>\n    </div>\n  ","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {DomSanitizer, SafeUrl} from '@angular/platform-browser';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {ParagraphModel} from '../model/paragraph.model';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {SettingService} from '../core/setting.service';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {HistoryModel} from '../model/history.model';\nimport {catchError, flatMap} from 'rxjs/operators';\nimport {Observable, of, zip} from 'rxjs';\n\n@Component({\n  template: `\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <app-page-title-component title=\"歷屆炫光 - {{ history.title }}\"></app-page-title-component>\n    </div>\n    <ng-container *ngFor=\"let paragraph of history.paragraphList; let i = index\">\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\" (click)=\"this.photoImg=paragraph.img; photoModal.show()\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"歷屆炫光 - {{ history.title }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\" (click)=\"this.photoImg=paragraph.img; photoModal.show()\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"歷屆炫光 - {{ history.title }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n    <div class=\"container\">\n      <div *ngIf=\"embedVideoUrl\" class=\"embed-responsive embed-responsive-16by9\">\n        <iframe class=\"embed-responsive-item\" [src]=\"embedVideoUrl\" allowfullscreen>\n        </iframe>\n      </div>\n    </div>\n    <div mdbModal #photoModal=\"mdbModal\" class=\"modal\" tabindex=\"-1\" role=\"dialog\">\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\n        <div class=\"modal-content\">\n          <div [ngStyle]=\"{'height':photoHeight}\">\n            <img class=\"photoImg\" src=\"{{ photoImg }}\"/>\n          </div>\n          <div class=\"modal-footer\">\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  styles: [\n    `\n      .photoImg {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        object-fit: cover;\n      }\n    `\n  ]\n})\nexport class PagePlanHistoryDetailComponent implements OnInit, OnDestroy {\n  private historySubscription;\n  private routerSubscription;\n  private _id: string;\n\n  history = new HistoryModel('', '');\n  carouselImageList: Observable<string[]>;\n  embedVideoUrlSubscription;\n  embedVideoUrlString = '';\n  embedVideoUrl: SafeUrl;\n  photoHeight = window.screen.height * 0.8 + 'px';\n  photoImg: string;\n\n  @Input()\n  set id(id: string) {\n    this._id = id;\n    this.carouselImageList = zip(\n      this.storage.ref('plan/history/image_' + id).getDownloadURL().pipe(catchError(_ => of('')))\n    );\n    this.historySubscription = this.database.object('plan/history/' + id).snapshotChanges().pipe(\n      flatMap(results => {\n        this.history = new HistoryModel(results.payload.val(), results.key);\n        return this.database.list('plan/history/' + id + '/paragraphList').snapshotChanges();\n      }))\n      .subscribe(results => {\n        results.forEach(element => {\n          this.history.paragraphList.push(new ParagraphModel(element.payload.val(), element.key));\n        });\n      });\n    this.embedVideoUrlSubscription = this.database.object('plan/history/' + this.id + '/embedVideoUrl').snapshotChanges()\n      .subscribe(results => {\n        this.embedVideoUrlString = String(results.payload.val());\n        console.log(this.embedVideoUrlString);\n        if (this.embedVideoUrlString !== '' && this.embedVideoUrlString !== 'null') {\n          this.embedVideoUrl = this.sanitizer.bypassSecurityTrustResourceUrl(this.embedVideoUrlString);\n        } else {\n          this.embedVideoUrl = null;\n        }\n      });\n  }\n  get id() {\n    return this._id;\n  }\n\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router,\n              private route: ActivatedRoute,\n              private sanitizer: DomSanitizer) {\n    this.settingService.path$.next(this.router.url);\n  }\n  ngOnInit() {\n    this.routerSubscription = this.route\n      .params\n      .subscribe(param => {\n        this.id = String(+param['id']);\n      });\n  }\n\n  ngOnDestroy() {\n    this.routerSubscription.unsubscribe();\n    this.historySubscription.unsubscribe();\n    this.embedVideoUrlSubscription.unsubscribe();\n  }\n}\n","\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"炫光緣起\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of paragraphList; let i = index\">\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"炫光緣起 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"炫光緣起 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n  ","import {Component, OnDestroy, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {Observable, of, zip} from 'rxjs';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireAuth} from 'angularfire2/auth';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {catchError} from 'rxjs/operators';\nimport {SettingService} from '../core/setting.service';\nimport {ParagraphModel} from '../model/paragraph.model';\n\n@Component({\n  template: `\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"炫光緣起\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/plan/form\">報名本屆炫光</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of paragraphList; let i = index\">\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"炫光緣起 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"炫光緣起 - {{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n  `\n})\nexport class PagePlanOriginComponent implements OnInit, OnDestroy {\n  carouselImageList: Observable<string[]>;\n  paragraphList: ParagraphModel[] = [];\n  paragraphListSubscription;\n\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router) {\n    this.settingService.path$.next(this.router.url);\n    this.getCarouselImageList();\n  }\n  ngOnInit() {\n    this.paragraphListSubscription = this.database.list('plan/origin/paragraphList').snapshotChanges()\n      .subscribe(results => {\n        this.paragraphList = results.map(element => {\n          return new ParagraphModel(element.payload.val(), element.key);\n        });\n      });\n  }\n  ngOnDestroy() {\n    this.paragraphListSubscription.unsubscribe();\n  }\n\n  private getCarouselImageList() {\n    this.carouselImageList = zip(\n      this.storage.ref('plan/origin/carousel/image_0').getDownloadURL().pipe(catchError(_ => of(''))),\n    );\n  }\n}\n","\n    <div class=\"container mb-5\">\n      <app-page-title-component title=\"活動預告\" topImage=false></app-page-title-component>\n      <div class=\"row align-items-center\">\n        <div class=\"col-xl-5 col-lg-12\">\n          <input #searchField type=\"text\" class=\"form-control\" placeholder=\"搜尋活動關鍵字\">\n        </div>\n        <div class=\"col-xl-7 col-lg-12\">\n          <div class=\"row align-items-center justify-content-between no-gutters\">\n            <div class=\"col-xl-auto col-lg-4 col-md-4 col-sm-4 col-5\">\n              <input type=\"date\" class=\"form-control\" [(ngModel)]=\"dateFrom\">\n            </div>\n            <label class=\"d-inline\" style=\"margin-top: 10px\">-</label>\n            <div class=\"col-xl-auto col-lg-4 col-md-4 col-sm-4 col-5\">\n              <input type=\"date\" class=\"form-control\" [(ngModel)]=\"dateTo\">\n            </div>\n            <div class=\"col-xl-auto col-lg-auto col-md-auto col-sm-auto col-12\">\n              <button type=\"button\" (click)=\"this.search(searchField.value)\" class=\"btn btn-primary waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-search\"> 搜尋 </i></button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let event of eventList\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-md-8 col-sm-12\">\n            <a routerLink=\"/school/calendar/{{event.key}}\">\n              <app-image-ratio-component image=\"{{ event.imgUrl }}\" ratio=\"3:1\">\n              </app-image-ratio-component>\n            </a>\n          </div>\n          <div class=\"col-md-4 col-sm-12\">\n            <h2>{{ event.title }}</h2>\n            <strong>{{ event.subTitle }}</strong>\n            <div *ngFor=\"let text of event.content|stringNewLine\">\n              {{ text }}<br>\n            </div>\n          </div>\n        </div>\n      </div>\n      <app-separate-right-component></app-separate-right-component>\n    </ng-container>\n  ","import {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {SettingService} from '../core/setting.service';\nimport {Component, OnDestroy} from '@angular/core';\nimport {EventModel} from '../model/event.model';\nimport {flatMap, map} from 'rxjs/operators';\nimport {Subject, Subscription} from 'rxjs';\nimport {Router} from '@angular/router';\n\n@Component({\n  template: `\n    <div class=\"container mb-5\">\n      <app-page-title-component title=\"活動預告\" topImage=false></app-page-title-component>\n      <div class=\"row align-items-center\">\n        <div class=\"col-xl-5 col-lg-12\">\n          <input #searchField type=\"text\" class=\"form-control\" placeholder=\"搜尋活動關鍵字\">\n        </div>\n        <div class=\"col-xl-7 col-lg-12\">\n          <div class=\"row align-items-center justify-content-between no-gutters\">\n            <div class=\"col-xl-auto col-lg-4 col-md-4 col-sm-4 col-5\">\n              <input type=\"date\" class=\"form-control\" [(ngModel)]=\"dateFrom\">\n            </div>\n            <label class=\"d-inline\" style=\"margin-top: 10px\">-</label>\n            <div class=\"col-xl-auto col-lg-4 col-md-4 col-sm-4 col-5\">\n              <input type=\"date\" class=\"form-control\" [(ngModel)]=\"dateTo\">\n            </div>\n            <div class=\"col-xl-auto col-lg-auto col-md-auto col-sm-auto col-12\">\n              <button type=\"button\" (click)=\"this.search(searchField.value)\" class=\"btn btn-primary waves-light\" mdbWavesEffect>\n                <i class=\"fa fa-search\"> 搜尋 </i></button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let event of eventList\">\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-md-8 col-sm-12\">\n            <a routerLink=\"/school/calendar/{{event.key}}\">\n              <app-image-ratio-component image=\"{{ event.imgUrl }}\" ratio=\"3:1\">\n              </app-image-ratio-component>\n            </a>\n          </div>\n          <div class=\"col-md-4 col-sm-12\">\n            <h2>{{ event.title }}</h2>\n            <strong>{{ event.subTitle }}</strong>\n            <div *ngFor=\"let text of event.content|stringNewLine\">\n              {{ text }}<br>\n            </div>\n          </div>\n        </div>\n      </div>\n      <app-separate-right-component></app-separate-right-component>\n    </ng-container>\n  `\n})\nexport class PageSchoolCalendarComponent implements OnDestroy {\n  dateTo = '';\n  dateFrom = '';\n  searchIngKeyword = '';\n  eventList: EventModel[];\n  eventSubscription: Subscription;\n  searchKeyword$ = new Subject<string>();\n  queryObservable = this.searchKeyword$.pipe(\n    flatMap(keyword => {\n        this.searchIngKeyword = keyword;\n        if (this.dateFrom !== '' && this.dateTo !== '') {\n          return this.database.list('school/calendar', ref =>\n            ref.orderByChild('date').startAt(this.dateFrom).endAt(this.dateTo)).snapshotChanges();\n        } else if (this.dateFrom !== '') {\n          return this.database.list('school/calendar', ref =>\n            ref.orderByChild('date').startAt(this.dateFrom)).snapshotChanges();\n        } else if (this.dateTo !== '') {\n          return this.database.list('school/calendar', ref =>\n            ref.orderByChild('date').endAt(this.dateTo)).snapshotChanges();\n        } else {\n          return this.database.list('school/calendar', ref => ref.orderByChild('date')).snapshotChanges();\n        }\n      }\n    ))\n    .pipe(map(action => {\n      return action\n        .map(json => new EventModel(json.payload.val(), json.key))\n        .filter(value => {\n          if (this.searchIngKeyword === '') {\n            return true;\n          } else {\n            return value.title.indexOf(this.searchIngKeyword) >= 0;\n          }\n        });\n    }));\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router) {\n    this.settingService.path$.next(this.router.url);\n    this.getInfo();\n    this.queryObservable.subscribe(results => {\n      this.eventList = results.reverse();\n    });\n  }\n  ngOnDestroy () {\n    if (this.eventSubscription) {\n      this.eventSubscription.unsubscribe();\n    }\n  }\n  getInfo() {\n    if (this.eventSubscription) {\n      this.eventSubscription.unsubscribe();\n    }\n    this.eventSubscription = this.database\n      .list('school/calendar', ref => ref.orderByChild('date'))\n      .snapshotChanges()\n      .pipe(map(action => {\n        return action.map(json => new EventModel(json.payload.val(), json.key));\n      }))\n      .subscribe(results => {\n        this.eventList = results.reverse();\n      });\n  }\n  search(keyword: string) {\n    this.searchKeyword$.next(keyword);\n  }\n}\n","\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"活動預告 - {{ event.title }}\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/school/calendar/form/{{event.key}}\">報名活動</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of event.paragraphList; let i = index\">\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"活動預告_{{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"活動預告_{{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n  ","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {ParagraphModel} from '../model/paragraph.model';\nimport {SettingService} from '../core/setting.service';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {catchError, flatMap} from 'rxjs/operators';\nimport {EventModel} from '../model/event.model';\nimport {Observable, of, zip} from 'rxjs';\n\n@Component({\n  template: `\n    <app-carousel-main-component editMode=\"true\" [imageList]=this.carouselImageList|async></app-carousel-main-component>\n    <div class=\"container\" style=\"margin-top: -50px\">\n      <div class=\"row\">\n        <div class=\"col\">\n          <app-page-title-component title=\"活動預告 - {{ event.title }}\"></app-page-title-component>\n        </div>\n        <div class=\"col mt-3\" style=\"text-align: right\">\n          <button type=\"button\" class=\"btn btn-rounded theme-gray waves-light\" mdbWavesEffect\n                  routerLink=\"/school/calendar/form/{{event.key}}\">報名活動</button>\n        </div>\n      </div>\n    </div>\n    <ng-container *ngFor=\"let paragraph of event.paragraphList; let i = index\">\n      <div class=\"container\">\n        <ng-container *ngIf=\"i|intIsOdd; else paragraphElseBlock\">\n          <div class=\"row\">\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"活動預告_{{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-left: -7px\"/>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n          </div>\n        </ng-container>\n        <ng-template #paragraphElseBlock>\n          <div class=\"row\">\n            <div class=\"col-xl-10 col-lg-9 col-md-8\">\n              <ng-container *ngFor=\"let text of paragraph.content|stringNewLine\">\n                <p>{{ text }}</p>\n              </ng-container>\n            </div>\n            <div class=\"col-xl-2 col-lg-3 col-md-4\">\n              <div class=\"row\">\n                <div class=\"col-12\">\n                  <app-image-ratio-component image=\"{{ paragraph.img }}\" ratio=\"1:1\" alt=\"活動預告_{{ i }}\">\n                  </app-image-ratio-component>\n                </div>\n                <div class=\"col-12\" style=\"text-align: right\">\n                  <img src=\"/assets/line_top_s.png\" style=\"margin-right: -6px\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n        </ng-template>\n      </div>\n      <ng-container *ngIf=\"i|intIsOdd; else seperateLineElseBlock\">\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n      <ng-template #seperateLineElseBlock>\n        <app-separate-left-component></app-separate-left-component>\n      </ng-template>\n    </ng-container>\n  `\n})\nexport class PageSchoolCalendarDetailComponent implements OnInit, OnDestroy {\n  private routerSubscription;\n  private eventSubscription;\n  private _id: string;\n\n  event = new EventModel('', '');\n  carouselImageList: Observable<string[]>;\n\n  @Input()\n  set id(id: string) {\n    this._id = id;\n    this.carouselImageList = zip(\n      this.storage.ref('school/calendar/image_' + id).getDownloadURL().pipe(catchError(_ => of('')))\n    );\n    this.eventSubscription = this.database.object('school/calendar/' + id).snapshotChanges().pipe(\n      flatMap(results => {\n        this.event = new EventModel(results.payload.val(), results.key);\n        return this.database.list('school/calendar/' + id + '/paragraphList').snapshotChanges();\n      }))\n      .subscribe(results => {\n        results.forEach(element => {\n          this.event.paragraphList.push(new ParagraphModel(element.payload.val(), element.key));\n        });\n      });\n  }\n  get id() {\n    return this._id;\n  }\n\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router,\n              private route: ActivatedRoute) {\n    this.settingService.path$.next(this.router.url);\n  }\n  ngOnInit() {\n    this.routerSubscription = this.route\n      .params\n      .subscribe(param => {\n        this.id = String(+param['id']);\n      });\n  }\n\n  ngOnDestroy() {\n    this.routerSubscription.unsubscribe();\n    this.eventSubscription.unsubscribe();\n  }\n}\n","\n    <div class=\"container\">\n      <h5 class=\"mt-5\">炫光小學堂活動報名表</h5>\n      <h5>活動名稱： {{ this.event.title }}</h5>\n      <div class=\"row mt-2\">\n        <div class=\"col-md-12\">\n          <div class=\"form-group\">\n            <strong>1. 姓名</strong>\n            <input type=\"text\"\n                   name=\"formName\"\n                   class=\"form-control\"\n                   required [(ngModel)]=\"formName\">\n          </div>\n          <div class=\"form-group\">\n            <strong>2. 性別</strong>\n            <div class=\"row\" style=\"margin-left: 0px\">\n              <div class=\"form-check mr-3 col-sm-1 col-2\">\n                <input name=\"groupSex\" type=\"radio\" id=\"radioMale\" class=\"form-check-input\" (click)=\"changeSex('男')\">\n                <label class=\"form-check-label\" for=\"radioMale\">男</label>\n              </div>\n              <div class=\"form-check mr-3 col-sm-1 col-2\">\n                <input name=\"groupSex\" type=\"radio\" id=\"radioFemale\" class=\"form-check-input\" (click)=\"changeSex('女')\">\n                <label class=\"form-check-label\" for=\"radioFemale\">女</label>\n              </div>\n            </div>\n          </div>\n          <div class=\"form-group\">\n            <strong>3. 聯絡電話</strong>\n            <input type=\"text\"\n                   name=\"formHomePhone\"\n                   class=\"form-control\"\n                   required [(ngModel)]=\"formPhone\">\n          </div>\n          <div class=\"form-group\">\n            <strong>4. MAIL</strong>\n            <input type=\"email\"\n                   name=\"formMail\"\n                   class=\"form-control\"\n                   required [(ngModel)]=\"formMail\">\n          </div>\n          <div class=\"form-group\">\n            <strong>5. 與台灣炫光藝術協會的關係</strong>\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" name=\"groupRelation\"\n                     type=\"radio\" id=\"radioArt\" (click)=\"changeRelation('藝術家(炫小子)')\">\n              <label class=\"form-check-label\" for=\"radioArt\">藝術家(炫小子)</label>\n            </div>\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" name=\"groupRelation\"\n                     type=\"radio\" id=\"radioMember\" (click)=\"changeRelation('會員')\">\n              <label class=\"form-check-label\" for=\"radioMember\">會員</label>\n            </div>\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" name=\"groupRelation\"\n                     type=\"radio\" id=\"radioVolunteer\" (click)=\"changeRelation('志工')\">\n              <label class=\"form-check-label\" for=\"radioVolunteer\">志工</label>\n            </div>\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" name=\"groupRelation\"\n                     type=\"radio\" id=\"radioStaff\" (click)=\"changeRelation('工作人員')\">\n              <label class=\"form-check-label\" for=\"radioStaff\">工作人員</label>\n            </div>\n            <div class=\"form-check form-inline\">\n              <input class=\"form-check-input\" name=\"groupRelation\"\n                     type=\"radio\" id=\"radioOthers\" (click)=\"changeRelation('其他')\">\n              <label class=\"form-check-label mr-3\" for=\"radioOthers\">其他</label>\n              <input type=\"text\" name=\"formRelation\" class=\"form-control\" [(ngModel)]=\"formRelationOthers\">\n            </div>\n          </div>\n          <p class=\"float-right\">\n            <input type=\"submit\" class=\"btn btn-dark\" value=\"提交\" (click)=\"submit()\">\n          </p>\n        </div>\n      </div>\n    </div>\n  ","import {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {ToastService} from 'ng-uikit-pro-standard';\nimport {ActivatedRoute} from '@angular/router';\nimport {EventModel} from '../model/event.model';\n\n@Component({\n  template: `\n    <div class=\"container\">\n      <h5 class=\"mt-5\">炫光小學堂活動報名表</h5>\n      <h5>活動名稱： {{ this.event.title }}</h5>\n      <div class=\"row mt-2\">\n        <div class=\"col-md-12\">\n          <div class=\"form-group\">\n            <strong>1. 姓名</strong>\n            <input type=\"text\"\n                   name=\"formName\"\n                   class=\"form-control\"\n                   required [(ngModel)]=\"formName\">\n          </div>\n          <div class=\"form-group\">\n            <strong>2. 性別</strong>\n            <div class=\"row\" style=\"margin-left: 0px\">\n              <div class=\"form-check mr-3 col-sm-1 col-2\">\n                <input name=\"groupSex\" type=\"radio\" id=\"radioMale\" class=\"form-check-input\" (click)=\"changeSex('男')\">\n                <label class=\"form-check-label\" for=\"radioMale\">男</label>\n              </div>\n              <div class=\"form-check mr-3 col-sm-1 col-2\">\n                <input name=\"groupSex\" type=\"radio\" id=\"radioFemale\" class=\"form-check-input\" (click)=\"changeSex('女')\">\n                <label class=\"form-check-label\" for=\"radioFemale\">女</label>\n              </div>\n            </div>\n          </div>\n          <div class=\"form-group\">\n            <strong>3. 聯絡電話</strong>\n            <input type=\"text\"\n                   name=\"formHomePhone\"\n                   class=\"form-control\"\n                   required [(ngModel)]=\"formPhone\">\n          </div>\n          <div class=\"form-group\">\n            <strong>4. MAIL</strong>\n            <input type=\"email\"\n                   name=\"formMail\"\n                   class=\"form-control\"\n                   required [(ngModel)]=\"formMail\">\n          </div>\n          <div class=\"form-group\">\n            <strong>5. 與台灣炫光藝術協會的關係</strong>\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" name=\"groupRelation\"\n                     type=\"radio\" id=\"radioArt\" (click)=\"changeRelation('藝術家(炫小子)')\">\n              <label class=\"form-check-label\" for=\"radioArt\">藝術家(炫小子)</label>\n            </div>\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" name=\"groupRelation\"\n                     type=\"radio\" id=\"radioMember\" (click)=\"changeRelation('會員')\">\n              <label class=\"form-check-label\" for=\"radioMember\">會員</label>\n            </div>\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" name=\"groupRelation\"\n                     type=\"radio\" id=\"radioVolunteer\" (click)=\"changeRelation('志工')\">\n              <label class=\"form-check-label\" for=\"radioVolunteer\">志工</label>\n            </div>\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" name=\"groupRelation\"\n                     type=\"radio\" id=\"radioStaff\" (click)=\"changeRelation('工作人員')\">\n              <label class=\"form-check-label\" for=\"radioStaff\">工作人員</label>\n            </div>\n            <div class=\"form-check form-inline\">\n              <input class=\"form-check-input\" name=\"groupRelation\"\n                     type=\"radio\" id=\"radioOthers\" (click)=\"changeRelation('其他')\">\n              <label class=\"form-check-label mr-3\" for=\"radioOthers\">其他</label>\n              <input type=\"text\" name=\"formRelation\" class=\"form-control\" [(ngModel)]=\"formRelationOthers\">\n            </div>\n          </div>\n          <p class=\"float-right\">\n            <input type=\"submit\" class=\"btn btn-dark\" value=\"提交\" (click)=\"submit()\">\n          </p>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class PageSchoolCalendarDetailFormComponent implements OnInit, OnDestroy {\n  private _id: string;\n  private eventSubscription;\n  private routerSubscription;\n  event = new EventModel('', '');\n  formName = '';\n  formSex = '';\n  formPhone = '';\n  formMail = '';\n  formRelation = '';\n  formRelationOthers = '';\n\n  @Input()\n  set id(id: string) {\n    this._id = id;\n    this.eventSubscription = this.database.object('school/calendar/' + id).snapshotChanges()\n      .subscribe(results => {\n        this.event = new EventModel(results.payload.val(), results.key);\n      });\n  }\n  get id() {\n    return this._id;\n  }\n  constructor(private database: AngularFireDatabase, private route: ActivatedRoute, private toastService: ToastService) {}\n\n  ngOnInit() {\n    this.routerSubscription = this.route\n      .params\n      .subscribe(param => {\n        this.id = String(+param['id']);\n      });\n  }\n\n  ngOnDestroy() {\n    this.routerSubscription.unsubscribe();\n    this.eventSubscription.unsubscribe();\n  }\n  changeSex(sex: string) {\n    this.formSex = sex;\n  }\n  changeRelation(relation: string) {\n    this.formRelation = relation;\n  }\n  submit() {\n    if (this.formName === '') {\n      alert('請輸入姓名');\n    } else if (this.formSex === '') {\n      alert('請選擇性別');\n    } else if (this.formPhone === '') {\n      alert('請輸入聯絡電話');\n    } else if (this.formMail === '') {\n      alert('請輸入 Email');\n    } else if (this.formRelation === '') {\n      alert('請選擇與台灣炫光藝術協會的關係');\n    } else if (this.formRelation === '其他' && this.formRelationOthers === '') {\n      alert('請輸入其他關係的內容');\n    } else {\n      if (this.formRelation === '其他') {\n        this.formRelation = '其他_' + this.formRelationOthers;\n      }\n      const date = Date();\n      this.database.list('school/calendar/form/' + this.event.key)\n        .push({\n          name: this.formName,\n          sex: this.formSex,\n          phone: this.formPhone,\n          email: this.formMail,\n          relation: this.formRelation,\n          createdAt: date,\n        })\n        .then(_ => {\n          const html = `<div>報名活動: ${this.event.title}_${this.event.subTitle}</div>\n<div>姓名: ${this.formName}</div><div>性別: ${this.formSex}</div>\n<div>聯絡電話: ${this.formPhone}</div><div>Email: <a href=\"mailto:${this.formMail}\">${this.formMail}</a></div>\n<div>與台灣炫光藝術協會的關係: ${this.formRelation}</div><div>表單送出時間: ${date}</div>`;\n          this.database.list('sendBox')\n            .push({\n              title: '報名炫光小學堂活動_' + this.event.title + '_' + this.formName,\n              html: html,\n              date: date\n            })\n            .then( results => {\n              this.formName = '';\n              this.formPhone = '';\n              this.formMail = '';\n              this.formRelationOthers = '';\n              this.toastService.success('表單送出成功！');\n            }, results => {\n              this.toastService.error('表單送出失敗，請稍候再試。');\n            });\n        }, results => {\n          this.toastService.error('表單送出失敗，請稍候再試。');\n        });\n    }\n  }\n}\n","\n    <div class=\"container\">\n      <app-page-title-component title=\"歷屆花絮\" topImage=false></app-page-title-component>\n    </div>\n    <ng-container *ngFor=\"let gallery of galleryList; let i = index\">\n      <ng-container *ngIf=\"i % 2 === 0\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col-6\">\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  <a routerLink=\"/school/gallery/{{gallery.key}}\">\n                    <app-image-ratio-component image=\"{{ gallery.imgUrl }}\" ratio=\"1:1\">\n                    </app-image-ratio-component>\n                  </a>\n                </div>\n                <div class=\"col-md-6\">\n                  <h2>{{ gallery.title }}</h2>\n                  <strong>{{ gallery.subTitle }}</strong>\n                  <div *ngFor=\"let text of gallery.content|stringNewLine\">\n                    {{ text }}<br>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div *ngIf=\"galleryList[i + 1] != null\" class=\"col-6\">\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  <a routerLink=\"/school/gallery/{{galleryList[i + 1].key}}\">\n                    <app-image-ratio-component image=\"{{ galleryList[i + 1].imgUrl }}\" ratio=\"1:1\">\n                    </app-image-ratio-component>\n                  </a>\n                </div>\n                <div class=\"col-md-6\">\n                  <h2>{{ galleryList[i + 1].title }}</h2>\n                  <strong>{{ galleryList[i + 1].subTitle }}</strong>\n                  <div *ngFor=\"let text of galleryList[i + 1].content|stringNewLine\">\n                    {{ text }}<br>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n    </ng-container>\n  ","import {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {SettingService} from '../core/setting.service';\nimport {GalleryModel} from '../model/gallery.model';\nimport {Component, OnDestroy} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {map} from 'rxjs/operators';\nimport {Subscription} from 'rxjs';\n\n@Component({\n  template: `\n    <div class=\"container\">\n      <app-page-title-component title=\"歷屆花絮\" topImage=false></app-page-title-component>\n    </div>\n    <ng-container *ngFor=\"let gallery of galleryList; let i = index\">\n      <ng-container *ngIf=\"i % 2 === 0\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col-6\">\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  <a routerLink=\"/school/gallery/{{gallery.key}}\">\n                    <app-image-ratio-component image=\"{{ gallery.imgUrl }}\" ratio=\"1:1\">\n                    </app-image-ratio-component>\n                  </a>\n                </div>\n                <div class=\"col-md-6\">\n                  <h2>{{ gallery.title }}</h2>\n                  <strong>{{ gallery.subTitle }}</strong>\n                  <div *ngFor=\"let text of gallery.content|stringNewLine\">\n                    {{ text }}<br>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div *ngIf=\"galleryList[i + 1] != null\" class=\"col-6\">\n              <div class=\"row\">\n                <div class=\"col-md-6\">\n                  <a routerLink=\"/school/gallery/{{galleryList[i + 1].key}}\">\n                    <app-image-ratio-component image=\"{{ galleryList[i + 1].imgUrl }}\" ratio=\"1:1\">\n                    </app-image-ratio-component>\n                  </a>\n                </div>\n                <div class=\"col-md-6\">\n                  <h2>{{ galleryList[i + 1].title }}</h2>\n                  <strong>{{ galleryList[i + 1].subTitle }}</strong>\n                  <div *ngFor=\"let text of galleryList[i + 1].content|stringNewLine\">\n                    {{ text }}<br>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <app-separate-right-component></app-separate-right-component>\n      </ng-container>\n    </ng-container>\n  `\n})\nexport class PageSchoolGalleryComponent implements OnDestroy {\n  galleryList: GalleryModel[];\n  gallerySubscription: Subscription;\n\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router) {\n    this.settingService.path$.next(this.router.url);\n    this.getInfo();\n  }\n  ngOnDestroy () {\n    if (this.gallerySubscription) {\n      this.gallerySubscription.unsubscribe();\n    }\n  }\n  getInfo() {\n    if (this.gallerySubscription) {\n      this.gallerySubscription.unsubscribe();\n    }\n    this.gallerySubscription = this.database\n      .list('school/gallery', ref => ref.orderByChild('date'))\n      .snapshotChanges()\n      .pipe(map(action => {\n        return action.map(json => new GalleryModel(json.payload.val(), json.key));\n      }))\n      .subscribe(results => {\n        this.galleryList = results.reverse();\n      });\n  }\n}\n","\n    <div class=\"container\">\n      <div id=\"container\">\n        <app-page-title-component title=\"歷屆花絮 - {{ gallery.title }}\" topImage=false></app-page-title-component>\n        <div class=\"mt-5\">\n          <ks-modal-gallery [modalImages]=\"galleryImages\" [plainGalleryConfig]=\"plainGalleryGrid\">\n          </ks-modal-gallery>\n        </div>\n      </div>\n    </div>\n  ","import {GridLayout, Image, PlainGalleryConfig, PlainGalleryStrategy} from 'angular-modal-gallery';\nimport {Component, HostListener, Input, OnDestroy, OnInit} from '@angular/core';\nimport {AngularFireDatabase} from 'angularfire2/database';\nimport {AngularFireStorage} from 'angularfire2/storage';\nimport {SettingService} from '../core/setting.service';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {GalleryModel} from '../model/gallery.model';\nimport {ImageModel} from '../model/image.model';\nimport {flatMap} from 'rxjs/operators';\n\n@Component({\n  template: `\n    <div class=\"container\">\n      <div id=\"container\">\n        <app-page-title-component title=\"歷屆花絮 - {{ gallery.title }}\" topImage=false></app-page-title-component>\n        <div class=\"mt-5\">\n          <ks-modal-gallery [modalImages]=\"galleryImages\" [plainGalleryConfig]=\"plainGalleryGrid\">\n          </ks-modal-gallery>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class PageSchoolGalleryDetailComponent implements OnInit, OnDestroy {\n  private gallerySubscription;\n  private routerSubscription;\n  private _id: string;\n  galleryImages: Image[] = [];\n  inputImage: HTMLInputElement;\n  gallery = new GalleryModel('', '');\n  galleryPicWidth = window.screen.width * 0.8 / 6;\n  plainGalleryGrid: PlainGalleryConfig = {\n    strategy: PlainGalleryStrategy.GRID,\n    layout: new GridLayout({ width: this.galleryPicWidth + 'px', height: this.galleryPicWidth + 'px' },\n      { length: 6, wrap: true }),\n    advanced: { aTags: true, additionalBackground: '50% 50%/cover' }\n  };\n\n  @Input()\n  set id(id: string) {\n    this._id = id;\n    this.gallerySubscription = this.database.object('school/gallery/' + id).snapshotChanges().pipe(\n      flatMap(results => {\n        this.gallery = new GalleryModel(results.payload.val(), results.key);\n        return this.database.list('school/gallery/' + id + '/imgList').snapshotChanges();\n      }))\n      .subscribe(results => {\n        let serialNumber = 0;\n        results.forEach(element => {\n          this.gallery.imgList.push(new ImageModel(serialNumber, element.payload.val(), element.key));\n          serialNumber += 1;\n        });\n        this.galleryImages = this.gallery.imgList.map(imageModel => {\n          return new Image(imageModel.sort, {img: imageModel.url});\n        });\n        let numOfLine = 6;\n        if (window.innerWidth > 768) {\n          this.galleryPicWidth = (document.getElementById('container') as HTMLElement).clientWidth / 6;\n        } else if (window.innerWidth > 576) {\n          this.galleryPicWidth = (document.getElementById('container') as HTMLElement).clientWidth / 3;\n          numOfLine = 3;\n        } else {\n          this.galleryPicWidth = (document.getElementById('container') as HTMLElement).clientWidth / 2;\n          numOfLine = 2;\n        }\n        this.plainGalleryGrid = {\n          strategy: PlainGalleryStrategy.GRID,\n          layout: new GridLayout({ width: this.galleryPicWidth + 'px', height: this.galleryPicWidth + 'px' },\n            { length: numOfLine, wrap: true }),\n          advanced: { aTags: true, additionalBackground: '50% 50%/cover' }\n        };\n      });\n  }\n  get id() {\n    return this._id;\n  }\n\n  @HostListener('window:resize', ['$event'])\n  onResize(event) {\n    console.log(event.target.valueOf().innerWidth);\n  }\n\n  constructor(private database: AngularFireDatabase,\n              private storage: AngularFireStorage,\n              private settingService: SettingService,\n              private router: Router,\n              private route: ActivatedRoute) {\n    this.settingService.path$.next(this.router.url);\n  }\n\n  ngOnInit() {\n    this.routerSubscription = this.route\n      .params\n      .subscribe(param => {\n        this.id = String(+param['id']);\n      });\n  }\n\n  ngOnDestroy() {\n    this.routerSubscription.unsubscribe();\n    this.gallerySubscription.unsubscribe();\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'arrayMoreThanOne'\n})\nexport class ArrayMoreThanOnePipe implements PipeTransform {\n  transform(array: string[]) {\n    if (!array) {\n      return false;\n    }\n    return array.length > 1;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'arrayMoreThanZero'\n})\nexport class ArrayMoreThanZeroPipe implements PipeTransform {\n  transform(array: string[]) {\n    if (!array) {\n      return false;\n    }\n    return array.length > 0;\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'intIsOdd'\n})\nexport class IntIsOddPipe implements PipeTransform {\n  transform(value: number) {\n    return !(value % 2 === 0);\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'stringNewLine'\n})\nexport class StringNewLineTransformPipe implements PipeTransform {\n  transform(text: string) {\n    if (!text) {\n      return [];\n    }\n    return text.split('\\n');\n  }\n}\n","import {Pipe, PipeTransform} from '@angular/core';\n\n@Pipe({\n  name: 'stringExceptEmpty'\n})\nexport class StringArrayPipeExceptEmptyPipe implements PipeTransform {\n  transform(array: string[]) {\n    if (!array) {\n      return array;\n    }\n    return array.filter(value => {\n      return value !== '';\n    });\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  firebase: {\n    apiKey: 'AIzaSyAC4Ki_8XvHUJcKfadl3rx5UBcIC9QwhS8',\n    authDomain: 'bsaa-cceff.firebaseapp.com',\n    databaseURL: 'https://bsaa-cceff.firebaseio.com',\n    projectId: 'bsaa-cceff',\n    storageBucket: 'bsaa-cceff.appspot.com',\n    messagingSenderId: '273206823904'\n  }\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\n    import { environment } from './environments/environment';\n    \n    if (environment.production) {\n      enableProdMode();\n    }\n    \n    export {AppServerModule} from './app/app.server.module';\n    ","module.exports = require(\"@agm/core/core.module\");","module.exports = require(\"@agm/core/services/maps-api-loader/lazy-maps-api-loader\");","module.exports = require(\"@agm/core/services/maps-api-loader/maps-api-loader\");","module.exports = require(\"@agm/core/utils/browser-globals\");","module.exports = require(\"@angular/animations\");","module.exports = require(\"@angular/animations/browser\");","module.exports = require(\"@angular/common\");","module.exports = require(\"@angular/common/http\");","module.exports = require(\"@angular/core\");","module.exports = require(\"@angular/forms\");","module.exports = require(\"@angular/http\");","module.exports = require(\"@angular/platform-browser\");","module.exports = require(\"@angular/platform-browser/animations\");","module.exports = require(\"@angular/platform-server\");","module.exports = require(\"@angular/router\");","module.exports = require(\"@ng-toolkit/universal\");","module.exports = require(\"@nguniversal/module-map-ngfactory-loader\");","module.exports = require(\"angular-modal-gallery\");","module.exports = require(\"angularfire2\");","module.exports = require(\"angularfire2/auth\");","module.exports = require(\"angularfire2/database\");","module.exports = require(\"angularfire2/storage\");","module.exports = require(\"hammerjs\");","module.exports = require(\"mousetrap\");","module.exports = require(\"ng-uikit-pro-standard\");","module.exports = require(\"rxjs\");","module.exports = require(\"rxjs/operators\");"],"sourceRoot":""}